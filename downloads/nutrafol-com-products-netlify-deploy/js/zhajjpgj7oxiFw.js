/*  Rapid+JS v8.5.2 Released on 2025-10-29T15:17Z | (c) Yottaa, Inc. | https://www.yottaa.com/rapidjs-license */ var $yojscomp=$yojscomp||{};$yojscomp.scope={};$yojscomp.arrayIteratorImpl=function(c){var f=0;return function(){return f<c.length?{done:!1,value:c[f++]}:{done:!0}}};$yojscomp.arrayIterator=function(c){return{next:$yojscomp.arrayIteratorImpl(c)}};$yojscomp.makeIterator=function(c){var f='undefined'!=typeof Symbol&&Symbol.iterator&&c[Symbol.iterator];return f?f.call(c):$yojscomp.arrayIterator(c)}; $yojscomp.getGlobal=function(c){return'undefined'!=typeof window&&window===c?c:'undefined'!=typeof global&&null!=global?global:c};$yojscomp.global=$yojscomp.getGlobal(this);$yojscomp.ASSUME_ES5=!1;$yojscomp.ASSUME_NO_NATIVE_MAP=!1;$yojscomp.ASSUME_NO_NATIVE_SET=!1;$yojscomp.SIMPLE_FROUND_POLYFILL=!1;$yojscomp.defineProperty=$yojscomp.ASSUME_ES5||'function'==typeof Object.defineProperties?Object.defineProperty:function(c,f,n){c!=Array.prototype&&c!=Object.prototype&&(c[f]=n.value)}; $yojscomp.polyfill=function(c,f,n,q){if(f){n=$yojscomp.global;c=c.split('.');for(q=0;q<c.length-1;q++){var t=c[q];t in n||(n[t]={});n=n[t]}c=c[c.length-1];q=n[c];f=f(q);f!=q&&null!=f&&$yojscomp.defineProperty(n,c,{configurable:!0,writable:!0,value:f})}};$yojscomp.FORCE_POLYFILL_PROMISE=!1; $yojscomp.polyfill('Promise',function(c){function f(){this.batch_=null}function n(c){return c instanceof t?c:new t(function(f,q){f(c)})}if(c&&!$yojscomp.FORCE_POLYFILL_PROMISE)return c;f.prototype.asyncExecute=function(c){if(null==this.batch_){this.batch_=[];var f=this;this.asyncExecuteFunction(function(){f.executeBatch_()})}this.batch_.push(c)};var q=$yojscomp.global.setTimeout;f.prototype.asyncExecuteFunction=function(c){q(c,0)};f.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var c= this.batch_;this.batch_=[];for(var f=0;f<c.length;++f){var q=c[f];c[f]=null;try{q()}catch(I){this.asyncThrow_(I)}}}this.batch_=null};f.prototype.asyncThrow_=function(c){this.asyncExecuteFunction(function(){throw c;})};var t=function(c){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var f=this.createResolveAndReject_();try{c(f.resolve,f.reject)}catch(G){f.reject(G)}};t.prototype.createResolveAndReject_=function(){function c(c){return function(n){q||(q=!0,c.call(f,n))}}var f=this,q=!1; return{resolve:c(this.resolveTo_),reject:c(this.reject_)}};t.prototype.resolveTo_=function(c){if(c===this)this.reject_(new TypeError('A Promise cannot resolve to itself'));else if(c instanceof t)this.settleSameAsPromise_(c);else{a:switch(typeof c){case 'object':var f=null!=c;break a;case 'function':f=!0;break a;default:f=!1}f?this.resolveToNonPromiseObj_(c):this.fulfill_(c)}};t.prototype.resolveToNonPromiseObj_=function(c){var f=void 0;try{f=c.then}catch(G){this.reject_(G);return}'function'==typeof f? this.settleSameAsThenable_(f,c):this.fulfill_(c)};t.prototype.reject_=function(c){this.settle_(2,c)};t.prototype.fulfill_=function(c){this.settle_(1,c)};t.prototype.settle_=function(c,f){if(0!=this.state_)throw Error('Cannot settle('+c+', '+f+'): Promise already settled in state'+this.state_);this.state_=c;this.result_=f;this.executeOnSettledCallbacks_()};t.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var c=0;c<this.onSettledCallbacks_.length;++c)u.asyncExecute(this.onSettledCallbacks_[c]); this.onSettledCallbacks_=null}};var u=new f;t.prototype.settleSameAsPromise_=function(c){var f=this.createResolveAndReject_();c.callWhenSettled_(f.resolve,f.reject)};t.prototype.settleSameAsThenable_=function(c,f){var q=this.createResolveAndReject_();try{c.call(f,q.resolve,q.reject)}catch(I){q.reject(I)}};t.prototype.then=function(c,f){function q(c,f){return'function'==typeof c?function(f){try{n(c(f))}catch(La){S(La)}}:f}var n,S,y=new t(function(c,f){n=c;S=f});this.callWhenSettled_(q(c,n),q(f,S)); return y};t.prototype.catch=function(c){return this.then(void 0,c)};t.prototype.callWhenSettled_=function(c,f){function q(){switch(n.state_){case 1:c(n.result_);break;case 2:f(n.result_);break;default:throw Error('Unexpected state: '+n.state_);}}var n=this;null==this.onSettledCallbacks_?u.asyncExecute(q):this.onSettledCallbacks_.push(q)};t.resolve=n;t.reject=function(c){return new t(function(f,q){q(c)})};t.race=function(c){return new t(function(f,q){for(var t=$yojscomp.makeIterator(c),G=t.next();!G.done;G= t.next())n(G.value).callWhenSettled_(f,q)})};t.all=function(c){var f=$yojscomp.makeIterator(c),q=f.next();return q.done?n([]):new t(function(c,t){function G(f){return function(q){I[f]=q;S--;0==S&&c(I)}}var I=[],S=0;do I.push(void 0),S++,n(q.value).callWhenSettled_(G(I.length-1),t),q=f.next();while(!q.done)})};return t},'es6','es3');$yojscomp.SYMBOL_PREFIX='jscomp_symbol_';$yojscomp.initSymbol=function(){$yojscomp.initSymbol=function(){};$yojscomp.global.Symbol||($yojscomp.global.Symbol=$yojscomp.Symbol)}; $yojscomp.SymbolClass=function(c,f){this.$yojscomp$symbol$id_=c;$yojscomp.defineProperty(this,'description',{configurable:!0,writable:!0,value:f})};$yojscomp.SymbolClass.prototype.toString=function(){return this.$yojscomp$symbol$id_};$yojscomp.Symbol=function(){function c(n){if(this instanceof c)throw new TypeError('Symbol is not a constructor');return new $yojscomp.SymbolClass($yojscomp.SYMBOL_PREFIX+(n||'')+'_'+f++,n)}var f=0;return c}(); $yojscomp.initSymbolIterator=function(){$yojscomp.initSymbol();var c=$yojscomp.global.Symbol.iterator;c||(c=$yojscomp.global.Symbol.iterator=$yojscomp.global.Symbol('Symbol.iterator'));'function'!=typeof Array.prototype[c]&&$yojscomp.defineProperty(Array.prototype,c,{configurable:!0,writable:!0,value:function(){return $yojscomp.iteratorPrototype($yojscomp.arrayIteratorImpl(this))}});$yojscomp.initSymbolIterator=function(){}}; $yojscomp.initSymbolAsyncIterator=function(){$yojscomp.initSymbol();var c=$yojscomp.global.Symbol.asyncIterator;c||(c=$yojscomp.global.Symbol.asyncIterator=$yojscomp.global.Symbol('Symbol.asyncIterator'));$yojscomp.initSymbolAsyncIterator=function(){}};$yojscomp.iteratorPrototype=function(c){$yojscomp.initSymbolIterator();c={next:c};c[$yojscomp.global.Symbol.iterator]=function(){return this};return c};$yojscomp.underscoreProtoCanBeSet=function(){var c={a:!0},f={};try{return f.__proto__=c,f.a}catch(n){}return!1}; $yojscomp.setPrototypeOf='function'==typeof Object.setPrototypeOf?Object.setPrototypeOf:$yojscomp.underscoreProtoCanBeSet()?function(c,f){c.__proto__=f;if(c.__proto__!==f)throw new TypeError(c+' is not extensible');return c}:null;$yojscomp.generator={};$yojscomp.generator.ensureIteratorResultIsObject_=function(c){if(!(c instanceof Object))throw new TypeError('Iterator result '+c+' is not an object');}; $yojscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};$yojscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError('Generator is already running');this.isRunning_=!0};$yojscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1}; $yojscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$yojscomp.generator.Context.prototype.next_=function(c){this.yieldResult=c};$yojscomp.generator.Context.prototype.throw_=function(c){this.abruptCompletion_={exception:c,isException:!0};this.jumpToErrorHandler_()};$yojscomp.generator.Context.prototype.return=function(c){this.abruptCompletion_={return:c};this.nextAddress=this.finallyAddress_}; $yojscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(c){this.abruptCompletion_={jumpTo:c};this.nextAddress=this.finallyAddress_};$yojscomp.generator.Context.prototype.yield=function(c,f){this.nextAddress=f;return{value:c}};$yojscomp.generator.Context.prototype.yieldAll=function(c,f){c=$yojscomp.makeIterator(c);var n=c.next();$yojscomp.generator.ensureIteratorResultIsObject_(n);if(n.done)this.yieldResult=n.value,this.nextAddress=f;else return this.yieldAllIterator_=c,this.yield(n.value,f)}; $yojscomp.generator.Context.prototype.jumpTo=function(c){this.nextAddress=c};$yojscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$yojscomp.generator.Context.prototype.setCatchFinallyBlocks=function(c,f){this.catchAddress_=c;void 0!=f&&(this.finallyAddress_=f)};$yojscomp.generator.Context.prototype.setFinallyBlock=function(c){this.catchAddress_=0;this.finallyAddress_=c||0};$yojscomp.generator.Context.prototype.leaveTryBlock=function(c,f){this.nextAddress=c;this.catchAddress_=f||0}; $yojscomp.generator.Context.prototype.enterCatchBlock=function(c){this.catchAddress_=c||0;c=this.abruptCompletion_.exception;this.abruptCompletion_=null;return c};$yojscomp.generator.Context.prototype.enterFinallyBlock=function(c,f,n){n?this.finallyContexts_[n]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=c||0;this.finallyAddress_=f||0}; $yojscomp.generator.Context.prototype.leaveFinallyBlock=function(c,f){f=this.finallyContexts_.splice(f||0)[0];if(f=this.abruptCompletion_=this.abruptCompletion_||f){if(f.isException)return this.jumpToErrorHandler_();void 0!=f.jumpTo&&this.finallyAddress_<f.jumpTo?(this.nextAddress=f.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=c};$yojscomp.generator.Context.prototype.forIn=function(c){return new $yojscomp.generator.Context.PropertyIterator(c)}; $yojscomp.generator.Context.PropertyIterator=function(c){this.object_=c;this.properties_=[];for(var f in c)this.properties_.push(f);this.properties_.reverse()};$yojscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var c=this.properties_.pop();if(c in this.object_)return c}return null};$yojscomp.generator.Engine_=function(c){this.context_=new $yojscomp.generator.Context;this.program_=c}; $yojscomp.generator.Engine_.prototype.next_=function(c){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,c,this.context_.next_);this.context_.next_(c);return this.nextStep_()}; $yojscomp.generator.Engine_.prototype.return_=function(c){this.context_.start_();var f=this.context_.yieldAllIterator_;if(f)return this.yieldAllStep_('return'in f?f['return']:function(c){return{value:c,done:!0}},c,this.context_.return);this.context_.return(c);return this.nextStep_()}; $yojscomp.generator.Engine_.prototype.throw_=function(c){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_['throw'],c,this.context_.next_);this.context_.throw_(c);return this.nextStep_()}; $yojscomp.generator.Engine_.prototype.yieldAllStep_=function(c,f,n){try{var q=c.call(this.context_.yieldAllIterator_,f);$yojscomp.generator.ensureIteratorResultIsObject_(q);if(!q.done)return this.context_.stop_(),q;var t=q.value}catch(u){return this.context_.yieldAllIterator_=null,this.context_.throw_(u),this.nextStep_()}this.context_.yieldAllIterator_=null;n.call(this.context_,t);return this.nextStep_()}; $yojscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var c=this.program_(this.context_);if(c)return this.context_.stop_(),{value:c.value,done:!1}}catch(f){this.context_.yieldResult=void 0,this.context_.throw_(f)}this.context_.stop_();if(this.context_.abruptCompletion_){c=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(c.isException)throw c.exception;return{value:c.return,done:!0}}return{value:void 0,done:!0}}; $yojscomp.generator.Generator_=function(c){this.next=function(f){return c.next_(f)};this.throw=function(f){return c.throw_(f)};this.return=function(f){return c.return_(f)};$yojscomp.initSymbolIterator();this[Symbol.iterator]=function(){return this}};$yojscomp.generator.createGenerator=function(c,f){f=new $yojscomp.generator.Generator_(new $yojscomp.generator.Engine_(f));$yojscomp.setPrototypeOf&&$yojscomp.setPrototypeOf(f,c.prototype);return f}; $yojscomp.asyncExecutePromiseGenerator=function(c){function f(f){return c.next(f)}function n(f){return c.throw(f)}return new Promise(function(q,t){function u(c){c.done?q(c.value):Promise.resolve(c.value).then(f,n).then(u,t)}u(c.next())})};$yojscomp.asyncExecutePromiseGeneratorFunction=function(c){return $yojscomp.asyncExecutePromiseGenerator(c())};$yojscomp.asyncExecutePromiseGeneratorProgram=function(c){return $yojscomp.asyncExecutePromiseGenerator(new $yojscomp.generator.Generator_(new $yojscomp.generator.Engine_(c)))}; $yojscomp.checkEs6ConformanceViaProxy=function(){try{var c={},f=Object.create(new $yojscomp.global.Proxy(c,{get:function(n,q,t){return n==c&&'q'==q&&t==f}}));return!0===f.q}catch(n){return!1}};$yojscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$yojscomp.ES6_CONFORMANCE=$yojscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$yojscomp.checkEs6ConformanceViaProxy();$yojscomp.owns=function(c,f){return Object.prototype.hasOwnProperty.call(c,f)}; $yojscomp.polyfill('WeakMap',function(c){function f(){if(!c||!Object.seal)return!1;try{var f=Object.seal({}),q=Object.seal({}),n=new c([[f,2],[q,3]]);if(2!=n.get(f)||3!=n.get(q))return!1;n.delete(f);n.set(q,4);return!n.has(f)&&4==n.get(q)}catch(Ka){return!1}}function n(){}function q(c){var f=typeof c;return'object'===f&&null!==c||'function'===f}function t(c){if(!$yojscomp.owns(c,y)){var f=new n;$yojscomp.defineProperty(c,y,{value:f})}}function u(c){var f=Object[c];f&&(Object[c]=function(c){if(c instanceof n)return c;t(c);return f(c)})}if($yojscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(c&&$yojscomp.ES6_CONFORMANCE)return c}else if(f())return c;var y='$yojscomp_hidden_'+Math.random();u('freeze');u('preventExtensions');u('seal');var L=0,G=function(c){this.id_=(L+=Math.random()+1).toString();if(c){c=$yojscomp.makeIterator(c);for(var f;!(f=c.next()).done;)f=f.value,this.set(f[0],f[1])}};G.prototype.set=function(c,f){if(!q(c))throw Error('Invalid WeakMap key');t(c);if(!$yojscomp.owns(c,y))throw Error('WeakMap key fail: '+ c);c[y][this.id_]=f;return this};G.prototype.get=function(c){return q(c)&&$yojscomp.owns(c,y)?c[y][this.id_]:void 0};G.prototype.has=function(c){return q(c)&&$yojscomp.owns(c,y)&&$yojscomp.owns(c[y],this.id_)};G.prototype.delete=function(c){return q(c)&&$yojscomp.owns(c,y)&&$yojscomp.owns(c[y],this.id_)?delete c[y][this.id_]:!1};return G},'es6','es3'); $yojscomp.polyfill('WeakSet',function(c){function f(){if(!c||!Object.seal)return!1;try{var f=Object.seal({}),n=Object.seal({}),u=new c([f]);if(!u.has(f)||u.has(n))return!1;u.delete(f);u.add(n);return!u.has(f)&&u.has(n)}catch(y){return!1}}if($yojscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(c&&$yojscomp.ES6_CONFORMANCE)return c}else if(f())return c;var n=function(c){this.map_=new WeakMap;if(c){c=$yojscomp.makeIterator(c);for(var f;!(f=c.next()).done;)this.add(f.value)}};n.prototype.add=function(c){this.map_.set(c, !0);return this};n.prototype.has=function(c){return this.map_.has(c)};n.prototype.delete=function(c){return this.map_.delete(c)};return n},'es6','es3');$yojscomp.iteratorFromArray=function(c,f){$yojscomp.initSymbolIterator();c instanceof String&&(c+='');var n=0,q={next:function(){if(n<c.length){var t=n++;return{value:f(t,c[t]),done:!1}}q.next=function(){return{done:!0,value:void 0}};return q.next()}};q[Symbol.iterator]=function(){return q};return q}; $yojscomp.polyfill('Array.prototype.keys',function(c){return c?c:function(){return $yojscomp.iteratorFromArray(this,function(c){return c})}},'es6','es3');$yojscomp.findInternal=function(c,f,n){c instanceof String&&(c=String(c));for(var q=c.length,t=0;t<q;t++){var u=c[t];if(f.call(n,u,t,c))return{i:t,v:u}}return{i:-1,v:void 0}};$yojscomp.polyfill('Array.prototype.findIndex',function(c){return c?c:function(c,n){return $yojscomp.findInternal(this,c,n).i}},'es6','es3');$yojscomp.MapEntry=function(){}; $yojscomp.polyfill('Map',function(c){function f(){if($yojscomp.ASSUME_NO_NATIVE_MAP||!c||'function'!=typeof c||!c.prototype.entries||'function'!=typeof Object.seal)return!1;try{var f=Object.seal({x:4}),n=new c($yojscomp.makeIterator([[f,'s']]));if('s'!=n.get(f)||1!=n.size||n.get({x:4})||n.set({x:4},'t')!=n||2!=n.size)return!1;var q=n.entries(),t=q.next();if(t.done||t.value[0]!=f||'s'!=t.value[1])return!1;t=q.next();return t.done||4!=t.value[0].x||'t'!=t.value[1]||!q.next().done?!1:!0}catch(Ka){return!1}} if($yojscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(c&&$yojscomp.ES6_CONFORMANCE)return c}else if(f())return c;$yojscomp.initSymbolIterator();var n=new WeakMap,q=function(c){this.data_={};this.head_=y();this.size=0;if(c){c=$yojscomp.makeIterator(c);for(var f;!(f=c.next()).done;)f=f.value,this.set(f[0],f[1])}};q.prototype.set=function(c,f){c=0===c?0:c;var n=t(this,c);n.list||(n.list=this.data_[n.id]=[]);n.entry?n.entry.value=f:(n.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:c, value:f},n.list.push(n.entry),this.head_.previous.next=n.entry,this.head_.previous=n.entry,this.size++);return this};q.prototype.delete=function(c){c=t(this,c);return c.entry&&c.list?(c.list.splice(c.index,1),c.list.length||delete this.data_[c.id],c.entry.previous.next=c.entry.next,c.entry.next.previous=c.entry.previous,c.entry.head=null,this.size--,!0):!1};q.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=y();this.size=0};q.prototype.has=function(c){return!!t(this,c).entry}; q.prototype.get=function(c){return(c=t(this,c).entry)&&c.value};q.prototype.entries=function(){return u(this,function(c){return[c.key,c.value]})};q.prototype.keys=function(){return u(this,function(c){return c.key})};q.prototype.values=function(){return u(this,function(c){return c.value})};q.prototype.forEach=function(c,f){for(var n=this.entries(),q;!(q=n.next()).done;)q=q.value,c.call(f,q[1],q[0],this)};q.prototype[Symbol.iterator]=q.prototype.entries;var t=function(c,f){var q=f&&typeof f;'object'== q||'function'==q?n.has(f)?q=n.get(f):(q=''+ ++L,n.set(f,q)):q='p_'+f;var t=c.data_[q];if(t&&$yojscomp.owns(c.data_,q))for(c=0;c<t.length;c++){var u=t[c];if(f!==f&&u.key!==u.key||f===u.key)return{id:q,list:t,index:c,entry:u}}return{id:q,list:t,index:-1,entry:void 0}},u=function(c,f){var n=c.head_;return $yojscomp.iteratorPrototype(function(){if(n){for(;n.head!=c.head_;)n=n.previous;for(;n.next!=n.head;)return n=n.next,{done:!1,value:f(n)};n=null}return{done:!0,value:void 0}})},y=function(){var c={};return c.previous= c.next=c.head=c},L=0;return q},'es6','es3');$yojscomp.polyfill('Array.prototype.entries',function(c){return c?c:function(){return $yojscomp.iteratorFromArray(this,function(c,n){return[c,n]})}},'es6','es3');$yojscomp.polyfill('Array.prototype.find',function(c){return c?c:function(c,n){return $yojscomp.findInternal(this,c,n).v}},'es6','es3'); $yojscomp.checkStringArgs=function(c,f,n){if(null==c)throw new TypeError("The 'this' value for String.prototype."+n+' must not be null or undefined');if(f instanceof RegExp)throw new TypeError('First argument to String.prototype.'+n+' must not be a regular expression');return c+''}; $yojscomp.polyfill('String.prototype.startsWith',function(c){return c?c:function(c,n){var f=$yojscomp.checkStringArgs(this,c,'startsWith');c+='';var t=f.length,u=c.length;n=Math.max(0,Math.min(n|0,f.length));for(var y=0;y<u&&n<t;)if(f[n++]!=c[y++])return!1;return y>=u}},'es6','es3');$yojscomp.assign='function'==typeof Object.assign?Object.assign:function(c,f){for(var n=1;n<arguments.length;n++){var q=arguments[n];if(q)for(var t in q)$yojscomp.owns(q,t)&&(c[t]=q[t])}return c}; $yojscomp.polyfill('Object.assign',function(c){return c||$yojscomp.assign},'es6','es3');$yojscomp.polyfill('Array.from',function(c){return c?c:function(c,n,q){n=null!=n?n:function(c){return c};var f=[],u='undefined'!=typeof Symbol&&Symbol.iterator&&c[Symbol.iterator];if('function'==typeof u){c=u.call(c);for(var y=0;!(u=c.next()).done;)f.push(n.call(q,u.value,y++))}else for(u=c.length,y=0;y<u;y++)f.push(n.call(q,c[y],y));return f}},'es6','es3'); $yojscomp.polyfill('Set',function(c){function f(){if($yojscomp.ASSUME_NO_NATIVE_SET||!c||'function'!=typeof c||!c.prototype.entries||'function'!=typeof Object.seal)return!1;try{var f=Object.seal({x:4}),n=new c($yojscomp.makeIterator([f]));if(!n.has(f)||1!=n.size||n.add(f)!=n||1!=n.size||n.add({x:4})!=n||2!=n.size)return!1;var u=n.entries(),y=u.next();if(y.done||y.value[0]!=f||y.value[1]!=f)return!1;y=u.next();return y.done||y.value[0]==f||4!=y.value[0].x||y.value[1]!=y.value[0]?!1:u.next().done}catch(L){return!1}} if($yojscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(c&&$yojscomp.ES6_CONFORMANCE)return c}else if(f())return c;$yojscomp.initSymbolIterator();var n=function(c){this.map_=new Map;if(c){c=$yojscomp.makeIterator(c);for(var f;!(f=c.next()).done;)this.add(f.value)}this.size=this.map_.size};n.prototype.add=function(c){c=0===c?0:c;this.map_.set(c,c);this.size=this.map_.size;return this};n.prototype.delete=function(c){c=this.map_.delete(c);this.size=this.map_.size;return c};n.prototype.clear=function(){this.map_.clear(); this.size=0};n.prototype.has=function(c){return this.map_.has(c)};n.prototype.entries=function(){return this.map_.entries()};n.prototype.values=function(){return this.map_.values()};n.prototype.keys=n.prototype.values;n.prototype[Symbol.iterator]=n.prototype.values;n.prototype.forEach=function(c,f){var n=this;this.map_.forEach(function(q){return c.call(f,q,q,n)})};return n},'es6','es3'); $yojscomp.polyfill('Object.is',function(c){return c?c:function(c,n){return c===n?0!==c||1/c===1/n:c!==c&&n!==n}},'es6','es3');$yojscomp.polyfill('Array.prototype.includes',function(c){return c?c:function(c,n){var f=this;f instanceof String&&(f=String(f));var t=f.length;n=n||0;for(0>n&&(n=Math.max(n+t,0));n<t;n++){var u=f[n];if(u===c||Object.is(u,c))return!0}return!1}},'es7','es3'); $yojscomp.polyfill('String.prototype.includes',function(c){return c?c:function(c,n){return-1!==$yojscomp.checkStringArgs(this,c,'includes').indexOf(c,n||0)}},'es6','es3'); (function(c,f){return f(c)})('undefined'!==typeof window?window:this,function(c,f){function n(a){h.log('ShopifyCheckout: page_viewed event ',a);ia=null;var b=a.context.window.location.href;!1===ta.isCheckoutCompletedURL(a.context.window.location.pathname)&&(ia=b,x.rum&&(x.rum.fullPageURL=b,m.publish({topic:'rum/send',message:x.rum})))}function q(a){h.log('ShopifyCheckout: checkout_completed event ',Ma,a);Ma?h.log('ShopifyCheckout: checkout already completed'):(Ma=!0,r.setBusinessData({currencyType:a.data.checkout.totalPrice.currencyCode, purchaseAmount:a.data.checkout.totalPrice.amount,purchaseType:'Standard',orderId:a.data.checkout.order.id,source:'shopify'}),ia=a.context.window.location.href,x.rum.fullPageURL=a.context.window.location.href,r.setNewPageGuid(),m.publish({topic:'rum/send',message:x.rum}))}function t(){var a=g.rum.key?g.rum.key:h.getCookie('yo-rum-key'),b=navigator.connection||navigator.mozConnection||navigator.webkitConnection,d={};1==h.def(b)&&(d.effectiveType=b.effectiveType,d.rtt=b.rtt);return{commonDimensions:Object.assign({}, ja,{optState:ja.optState||Ba}),connection:d,eventTimestamp:(new Date).getTime(),fullPageURL:document.location.href,metaEvents:[],pageCategory:g.rum.pageCategory||'',releaseDate:x.releaseDate,requestType:Ca.requestTypes.navigation,siteKey:null!=a?a:c.location.hostname,userAgent:navigator.userAgent,uuid:h.uuid(),sessionTracking:Z.isLocalStorageAvailable()}}function u(){for(var a=t(),b,d=b=0,e=0,l=0;l<g.delayed.length;l++){var p=g.delayed[l];'none'!=p.orgDelayType&&(Ba='active',p.newNode&&p.newNode.nodeName? 'img'==p.newNode.nodeName.toLowerCase()?d++:'script'==p.newNode.nodeName.toLowerCase()&&'attributesrc'!=p.type&&b++:p.me&&p.me.nodeName&&'script'==p.me.nodeName.toLowerCase()&&e++)}b={numDelayedObjects:g.delayed.length,numBlocksSequenced:e,numImagesSequenced:d,numScriptsSequenced:b};if(0==h.hasResourceTiming()||0==h.def(c.performance.getEntriesByType))d={};else{d=c.performance.getEntriesByType('resource');e=d.length;l={};for(p=0;p<e;p++){var f=d[p],k=l[f.initiatorType];k?(k.count++,k.size+=f.decodedBodySize): l[f.initiatorType]={count:1,size:f.decodedBodySize}}d=l}e=document.getElementsByTagName('*').length;a=Object.assign({},a,{domElementCount:e,formatVersion:'3',entryMap:d,isNavigationSupported:h.supportsPerformanceEntryType('navigation'),isPaintTimingSupported:h.supportsPerformanceEntryType('paint'),isResourceTimingSupported:h.supportsPerformanceEntryType('resource'),lastInteraction:Na,maxScrollDepth:x.maxScrollDepth,metaEvents:Oa,pagePrefetched:Pb(),pageTitle:document.title,sequencing:b,yOptimizations:h.metaDataValue('X-Yottaa-Optimizations')}); if(b=x.geo)a.geo=b;if(b=r.getVisitorInfo())a.visitor=b;if(b=Pa('rapid-js-qoe-5'))a.qoe=b;d=h.supportsPerformanceEntryType('navigation');e=g.rum.spa;b={};1==d&&!0!==e&&(b.navigationTiming=c.performance.timing.toJSON(),b.experienceMetrics=T,nb&&(b.webVitalsInfo=V));b.paintTiming={};b.userTiming={};b.measureTiming={};if(c.performance&&c.performance.getEntriesByType){e=c.performance.getEntriesByType('paint');if(null!=e&&0<e.length)for(l=0;l<e.length;l++)b.paintTiming[e[l].name]=e[l].startTime;e=c.performance.getEntriesByType('mark'); if(null!=e&&0<e.length)for(l=0;l<e.length;l++)b.userTiming[e[l].name]=e[l].startTime;e=c.performance.getEntriesByType('measure');if(null!=e&&0<e.length)for(l=0;l<e.length;l++)b.measureTiming[e[l].name]=e[l].duration;d&&(d=c.performance.getEntriesByType('navigation'))&&0<d.length&&d[0].serverTiming&&0<d[0].serverTiming.length&&(b.cdnMetrics=d[0].serverTiming.slice(0,50))}a=Object.assign({},a,b);x.rum=a}function y(a){for(var b=0;b<g.delayed.length;b++){var d=g.delayed[b];if(d.src==a||d.srcAttr==a)return d}return null} function L(a,b,d,e){a={lastByteTime:d.duration,implementationType:'dom',type:a,zone:b,resourceName:d.name,resourceSizeBytes:d.decodedBodySize};d=y(d.name);null!=d&&(a.delayedType=d.orgDelayType,a.delayedValue=d.delayValue);h.def(e)&&(a.stack=e);return a}function G(a){if(0!=h.hasResourceTiming()){try{if(!c.localStorage||!c.localStorage.getItem)return}catch(ob){h.log('localStorage was not available');return}var b=x.rum,d=[],e=c.performance.timing,l=0,p=0,f=e.domInteractive-e.navigationStart,k=e.domContentLoadedEventEnd- e.navigationStart,n=e.domComplete-e.navigationStart,m=e.loadEventEnd-e.navigationStart,q=c.performance.getEntries();e=q.length;for(var t=0;t<e;t++){var r=q[t],v=r.startTime,u=0;if('resource'==r.entryType){v<=f?(p+=g.rum.advanced.domInteractiveCoef,u=1):v<=k?(p+=g.rum.advanced.domContentLoadedEventCoef,u=2):v<=n?(p+=g.rum.advanced.domCompleteCoef,u=3):v<=m||a&&t<a?(p+=g.rum.advanced.loadEventCoef,u=4):0<r.duration&&(l+=r.duration);var w=Qa[r.name];0!=u&&r.duration>g.rum.advanced.blockingTime?W.push(L(4, u,r,w)):0==u&&r.duration>g.rum.advanced.performanceTime&&W.push(L(0,u,r,w));r.decodedBodySize>g.rum.advanced.violationSize&&W.push(L(1,u,r,w));1==r.name.toLowerCase().startsWith('https:')&&1==r.name.toLowerCase().startsWith('http:')&&W.push(L(3,u,r,w));r.toJSON&&(r=r.toJSON(),r.implementationType='dom',h.def(w)&&(r.stack=w),w=y(r.name),null!=w&&(r.delayedType=w.orgDelayType,r.delayedValue=w.delayValue),r.onLoadStartTime=v-m,d.push(r))}}1<e&&h._calculateTti(q,e,m);c.performance.getEntriesByName&&!0!== g.rum.spaTransition&&(a=document.getElementsByTagName('script'),Ra(a,'src'),a=document.getElementsByTagName('link'),Ra(a,'href'),a=document.getElementsByTagName('img'),Ra(a,'currentSrc'));a=Pa('rapid-js-qoe-5');a=null==a?{sessionTimeSaved:l,journeyTime:l}:{sessionTimeSaved:(new Date).getTime()>a.collectionTimestamp+g.sessionTimeout?l:a.sessionTimeSaved+l,journeyTime:a.journeyTime+l};a.entries=e;a.timeSaved=l;a.score=p;a.pageMeasured=b?b.fullPageURL:c.location.href;a.pageMeasuredCategory=b?b.pageCategory: '';a.violations=W;!0===g.rum.requests&&(a.resourceTiming=d);a.jsErrors=Sa;a.domElementCount=document.getElementsByTagName('*').length;a.maxScrollDepth=x.maxScrollDepth;a.pageMeasuredPrefetched=b&&b.pagePrefetched?b.pagePrefetched:null;a.pageMeasuredUuid=Ta;a.lastInteraction=Na;a.serviceWorkers=x.serviceWorkers||{};a.serviceWorkers.yottaaConfig=x.config.serviceWorker;a.collectionTimestamp=(new Date).getTime();a.commonDimensions={};for(var z in ja)a.commonDimensions[z]=ja[z];a.experienceMetrics=T;nb&& (a.webVitalsInfo=V);a.commonDimensions.optState||(a.commonDimensions.optState=Ba);try{!0!==g.sendRumOnUnload?pb('rapid-js-qoe-5',a):b.qoe=a}catch(ob){h.log('LocalStorage failed to save',ob)}}}function I(a,b){b=void 0===b?{}:b;return{time:(new Date).getTime(),elapsedTime:performance.now(),name:a,metadata:b}}function S(a){if(c.performance&&c.performance.getEntriesByType)for(var b=c.performance.getEntriesByType('resource'),d=0;d<b.length;d++)if(b[d].name===a)return d;return-1}function Ob(a,b,d,e){if(g.sequenceWrites&& 'script'==a.nodeName.toLowerCase()){for(var c in M)0<M[c].length&&e.writeSelector!=M[c][0].getWriteSelector()&&k.def(e.writeSelector)&&(a.yo_writeSelector=e.writeSelector);k.def(e.writeSelector)&&k.def(e.writeSelector.nodeName)&&(e.writeSelector.id?e.writeSelector='#'+e.writeSelector.id:(b='yo_write_'+Math.floor(1E9*Math.random()),e.writeSelector.setAttribute('id',b),e.writeSelector='#'+b));c=k.select(e.writeSelector);if(null!=c){e=new J(c,{src:a},e);e.initialize();a.write_context=e;a.original_onload= a.onload;a.original_onreadystatechange=a.onreadystatechange;a.onload=a.onreadystatechange=null;var p=!1;a.onerror=a.onload=function(){p||this.readyState&&'loaded'!==this.readyState&&'complete'!==this.readyState||(k.log('loading ',this,this.write_context.getId()),p=!0,this.original_onload?this.original_onload.call(arguments):m.publish({topic:'sequence/afterloaded/'+a.src,message:a}),this.write_context.finalizeWriteOverride(),this.original_onload=this.write_context=this.onload=this.onreadystatechange= null)};a.onreadystatechange=function(){p||this.readyState&&'loaded'!==this.readyState&&'complete'!==this.readyState||(k.log('loading ',this,this.write_context.getId()),p=!0,this.original_onload||m.publish({topic:'sequence/afterloaded/'+a.src,message:a}),this.write_context.finalizeWriteOverride(),this.original_onload=this.write_context=this.onload=this.onreadystatechange=null);this.original_onreadystatechange&&this.original_onreadystatechange.call(arguments)}}}return!0}function Ka(a,b){for(;a.firstChild;)a.removeChild(a.firstChild); k.writeHTML(a,b)}function Nb(){if(0!=g.afterShockLoaded){for(var a=0;a<g.delayed.length;a++)if('none'!=g.delayed[a].delayType)return;null!=g.intervalID&&(clearInterval(g.intervalID),g.intervalID=null,k.log('Turning off response timer all objects are loaded.'))}}function mb(a){g.sequenceWrites&&k.undef(a.yo_write)&&(a.yo_write=a.write,Ua=La,a.writeln=a.write=function(){var b=Array.prototype.slice.call(arguments).join('');Ua(b,a)})}function La(a,b){for(var d=!1,e=0;e<g.write.length;e++){var c=g.write[e]; if(a.match(c.start)||1==c.state){e={document:b};for(var p in c)e[p]=c[p];d=!0;c.string&&0==Va?c.string+=a:(c.state=1,c.string=a);if(k.undef(c.end)||a.match(c.end)){if(k.undef(e.delayType)||'none'==e.delayType){c.config=e;if(k.def(e.onBefore))e.onBefore(c,b);k.undef(e.selector)||null==e.selector?e.selector=b:e.selector=k.select(e.selector);e.selector.yo_write?(Va=!0,-1!=c.string.indexOf('m_js_controller.js')&&(Va=!0),e.selector.yo_write(c.string)):k.writeHTML(e.selector,c.string,e.how);if(k.def(e.onAfter))e.onAfter(c, b)}else k.undef(e.selector)?(e.selector='yo_write_'+Math.floor(1E9*Math.random()),k.undef(e.how)&&(e.how='append'),k.undef(e.delayValue)&&(e.delayValue=e.selector),document.yo_write('<di'+'v id='+e.selector+' style=width:0px;height:0px></di'+'v>'),e.selector=k.select(e.selector).parentNode):e.selector=k.select(e.selector),p=Yo.sequence.resource(''),k.def(e.onBefore)&&p.beforeLoading(e.onBefore),k.def(e.onLoad)&&p.afterLoaded(e.onLoad),p.type='inner',p.how=c.how,p.newNode=a,p.before=e.selector,p.me=e.selector, g.delayed.push(p),domCompleteTriggered&&p.execute();c.state=2;c.string=''}break}}0==d&&b.yo_write(a);k.log('write hander = '+a)}function qb(a){return function(b,d){var e='on'+b.toLowerCase(),l=N[e];k.log('loadEventSequencing: _addListener via fireLoadEvents',b,d,e);if(l)0==ka?aa(function(){try{k.log('loadEventSequencing: triggger event immediately not async',l),d.call(l.object||c,l.event)}catch(ua){k.log('loadEventSequencing: Overridden event listener threw an exception',ua)}},0):(l.listeners.push(d), l.stacks.push(Error().stack));else try{var p=Array.prototype.slice.call(arguments,0);return a?this.yo_addEventListener.apply(this,p):this.yo_attachEvent.apply(this,p)}catch(ua){k.log('loadEventSequencing: Overridden event listener threw an exception',ua)}}}function Rb(a,b,d){function e(a){k.log('Loading '+d.before.src+' via event handler '+d.delayValue);d.afterShock();var c=null;k.def(a.currentTarget)?c=a.currentTarget:k.def(a.srcElement)&&(c=a.srcElement);k.removeEvent(c,b[0],e)}k.log('Adding event ', b[0],b[1]);k.addEvent(a,b[0],e)}function rb(a,b){return a.top>b.top-a.height&&a.bottom<b.bottom+g.offset+2*a.height&&a.left>b.left-a.width&&a.right<b.right+g.offset+2*a.width}function Sb(a,b){return Wa(this,a,b,'insertBefore')}function Tb(a){return Wa(this,a,a,'appendChild')}function Ub(){for(var a=0;a<arguments.length;a++){var b=arguments[a];1==h.def(b)&&null!=b&&Wa(this,b,b,'append')}}function Wa(a,b,d,e){if(1!=h.undef(b)&&null!=b){m.publish({topic:'sequence/captured',message:{parentNode:a,newNode:b, before:d,captureType:e}});if(0==Da(b,a,function(a,c){a=a.clone();a.type=e;a.newNode=b;a.src=b?b.src:'';a.before=d;a.me=c;g.delayed.push(a)}))return ba.safeWriteInsert(b,d,a,xa(b),e);a=g.delayed[g.delayed.length-1];if(domCompleteTriggered||'none'==a.delayType)return a.execute()}}function Da(a,b,d){var e=null,c=null,p=!1;a&&a.nodeName&&(e=a.nodeName.toLowerCase());if('script'==e||'iframe'==e){1==g.log&&k.log('Found',e,'(',a,') beginning analysis for optimization. Callstack',Error().stack);c=xa(a);d(c, b);p=!0;var f=!1;a.onreadystatechange&&(a.onreadystatechangeOriginal=a.onreadystatechange,a.onreadystatechange=null);a.onreadystatechange=function(){f||this.readyState&&'loaded'!==this.readyState&&'complete'!==this.readyState||(m.publish({persistent:!0,topic:'sequence/afterloaded/'+c.key,message:c}),f=!0);if(this.onreadystatechangeOriginal){var a=this.onreadystatechangeOriginal;this.onreadystatechangeOriginal=null;a.apply(this,arguments)}};a.onload&&(a.onloadOriginal=a.onload,a.onload=null);a.onload= function(){0==f&&(m.publish({persistent:!0,topic:'sequence/afterloaded/'+c.key,message:c}),f=!0);if(this.onloadOriginal){var a=this.onloadOriginal;this.onloadOriginal=null;a.apply(this,arguments)}}}else if(c=xa(b),null==c||'none'!=c.delayType)d(c,b),c.before=b,p=!0;k.log(a.nodeName+' '+a.src+' is'+(p?' ':' NOT ')+'sequenced.');0==p&&m.publish({topic:'sequence/beforeloading/'+c.key,message:c});return p}function xa(a){var b=a.src;1==g.excludeParameters&&b&&b.split&&(b=b.split('?')[0]);1==k.def(a.yo_src)&& (b=a.yo_src);if(null==b||0==b.length){var d=new (_delayed());d.delayType='none';return d}for(d=0;d<g.resources.length;d++){var e=g.resources[d];if(1==e.match&&1==k.matchUrl(e.url,b)||'function'===typeof e.url&&1==e.url(a,e))if(a.nodeName===e.nodeName||'resource'===e.nodeName&&('SCRIPT'===a.nodeName||'IFRAME'===a.nodeName))return k.log('Found configuration for ',b,' delayType ',e.delayType,e.delayValue),'empty'==e.delayType&&(a.src=null==e.delaySrc?'data:text/javascript;plain,//':e.delaySrc,e.delayType= 'none'),e}k.log('Did NOT find configuration for '+b+' checking local configuration. ');d=new (_delayed());d.key=d.src=b;if(null!=a.delayType)'empty'==a.delayType&&(a.src=null==a.delaySrc?'data:text/javascript;plain,//':a.delaySrc,a.delayType='none'),d[a.delayType](a.delayValue);else d[g.defaultType](g.defaultDelay);d.before=a;return d}function Xa(){for(var a=0;a<g.resources.length;a++){var b=g.resources[a];if(!b.isConfig){var d=new (_delayed());d.key=d.url=b.url;d.match=!0;d.local=!0;d[b.delayType](b.delayValue); g.resources[a]=d}}}if(c.Yo)return c.Yo;var A={},aa=c.setTimeout,sb=c.setInterval,B=console.log,O=console.table,g={defaultDelay:5E3,defaultType:'none',log:!1,throttle:20,sequenceXHR:!1,sequenceWrites:!1,sendTimingData:!1,timingDataURL:'',offset:100,scan:['script','img','source','picture'],resources:[],abTesting:[],write:[],intervalID:null,lazyCheckSize:!0,pre:'data-yo-',srcAttrs:['data-yo-src','data-yo-srcset'],afterShockLoaded:!1,optimizeIE:!0,logPrefix:'Yo.utils.log: ',delayed:[],maxMessageSize:2048E3, enableMissingPurchase:!1,safeCloneMaxDepth:30,safeCloneMaxSize:100,scriptAttrs:['async','nomodule','defer','crossorigin'],ttiWatcherInterval:3E3,ttiLagTime:2E3,scrapeLevel:'top',sendRumOnUnload:!1,excludeParameters:!1,rumDelay:100,sessionTimeout:18E5,newConfigFetch:!1,isConfigFetched:!1},ya={},Ea={};ya.safeClone=function(a){return Ea._safeClone(a)};Ea._safeClone=function(a,b,d){b=void 0===b?new WeakSet:b;d=void 0===d?{count:0,depth:0}:d;var e=g.safeCloneMaxDepth||30,c=g.safeCloneMaxSize||100;d.count++; if(d.count>c)return'[[MaxSize]]';if(d.depth>e)return'[[MaxDepth]]';if('function'===typeof a)return'[[Function]]'+(a.name?'('+a.name+')':'');if(a===globalThis)return'[[Global]]';if('object'!==typeof a||null===a||a instanceof Boolean||a instanceof Date||a instanceof Number||a instanceof RegExp||a instanceof String)return a;if(b.has(a))return'[[CircularRef]]';b.add(a);d.depth++;if(Array.isArray(a)){e=[];var p=a.length>c?c:a.length;for(c=0;c<p;c++)e[c]=Ea._safeClone(a[c],b,d)}else{e={};p=Object.keys(a); c=p.length>c?c:p.length;for(var f=0;f<c;f++)e[p[f]]=Ea._safeClone(a[p[f]],b,d)}b.delete(a);return e};ya.safeStringify=function(a){return JSON.stringify(ya.safeClone(a))};var tb={calculatePurchaseAmount:function(a){return(a||'').split(',').reduce(function(a,d){d=parseFloat(d.split(';')[3]||'0');return a+d},0)}},h={};h.omniture=tb;h.safeJson=ya;h.log=function(){if(g.log&&1==h.def(B)){var a=Array.prototype.slice.call(arguments);a.unshift(g.logPrefix);B.apply(console,a)}};h.def=function(a){return'undefined'!= typeof a};h.undef=function(a){return!h.def(a)};h.isFunction=function(a){return!!(a&&a.constructor&&a.call&&a.apply)};h.decodeSafeString=function(a){return decodeURIComponent(a)};h.getCookie=function(a){for(var b=document.cookie.split(';'),d=0;d<b.length;d++){var e=b[d],c=e.indexOf(a+'=');if(0==c||1==c&&' '==e.charAt(0)){for(;' '==e.charAt(0);)e=e.substring(1,e.length);return e.substring(a.length+1,e.length)}}return null};h.setCookie=function(a,b,d){var e='';d&&(e=new Date,e=new Date(e.getTime()+1E3* d),e='; expires='+e.toGMTString());document.cookie=a+'='+b+e+'; path=/';return!0};h.isInIframe=function(){try{if(!0===c.testingiFrameEscapeHatch)return h.log('Unit testing! Pretending we are NOT in an iFrame.'),!1;if(!1===c.testingiFrameEscapeHatch)return h.log('Unit testing! Pretending we ARE in an iFrame.'),!0;if(c.self===c.top)return h.log('Rapid is NOT running in an iFrame.'),!1;var a=c.getComputedStyle(document.body),b=document.body.style;if(10>=parseInt(a.width)||10>=parseInt(a.height)||'0'=== b.height||'0px'===b.height||'0'===b.width||'0px'===b.width||10>=document.body.clientWidth||10>=document.body.clientHeight)return h.log('Rapid is running in an iFrame.'),!0;h.log('Rapid is NOT running in an iFrame.');return!1}catch(d){return h.log('Rapid is running in an iFrame.'),!0}};h.addEvent=function(a,b,d){a.attachEvent?a.attachEvent('on'+b,d):a.addEventListener&&a.addEventListener(b,d,!1)};h.removeEvent=function(a,b,d){a.detachEvent?a.detachEvent('on'+b,d):a.removeEventListener(b,d,!1)};h.metaDataValue= function(a,b){var d=document.getElementsByName(a);return null!=d&&1==d.length?1==arguments.length?d[0].getAttribute('content'):d[0].setAttribute('content',b):null};h.matchUrl=function(a,b){if(null==b||null==a||''==a)return!1;h.log('Match Criteria',a,'and resource Url',b);return'string'===typeof a&&-1!=b.indexOf(a)||'object'===typeof a&&null!=b.match(a)};h.sendData=function(a,b){if(1==h.isIE('8'))return h.log('IE 8 detected we will not send data back for this browser currently.'),!1;var d=JSON.stringify(a); if(navigator.sendBeacon&&d.length<g.maxMessageSize&&3E4>d.length)A.pubsub.publish({topic:'sequence/beforeloading/'+b,message:a}),navigator.sendBeacon(b,d),A.pubsub.publish({topic:'sequence/afterloaded/'+b,message:a});else if(d.length<g.maxMessageSize)if(1==h.def(c.fetch))fetch(b,{method:'POST',headers:{'Content-Type':'application/json'},body:d}).then(function(a){h.log('Successfully sent beacon data via fetch',a.status)})['catch'](function(a){h.log('Error from sending beacon data via fetch',a)});else a= new XMLHttpRequest,a.onreadystatechange=function(){4==this.readyState&&h.log('Rum data response received',this.status)},a.open('POST',b,!0),a.setRequestHeader('Content-type','application/json'),a.send(d);else h.log('Message is larger than max message length for qoe calles message size: ',d.length,g.maxMessageSize)};h.uuid=function(){var a='0123456789abcdef'.split(''),b=[],d=Math.random;b[8]=b[13]=b[18]=b[23]='-';b[14]='4';for(var e=0;36>e;e++)if(!b[e]){var c=0|16*d();b[e]=a[19==e?c&3|8:c&15]}return b.join('')}; var m={},X={},ub=1,Ya={},la=[],Za=function(a,b,d){var e=d||b.topic;a.once&&m.unsubscribe(a.id);if(1==b.async)aa(function(){a.callback.call(a.context,b.message,e)},0);else return a.callback.call(a.context,b.message,e)};m.reset=function(){X={};ub=1;Ya={};la=[]};m.subscribe=function(a){a.id=++ub;h.undef(a.priority)&&(a.priority=0);'string'===typeof a.topic&&-1!=a.topic.indexOf('*')&&(a.topic=new RegExp(a.topic.replace(/\*/g,'.*')));a.once=a.once||!1;if('string'===typeof a.topic){a.topic=a.topic.toLowerCase(); 1==h.undef(X[a.topic])&&(X[a.topic]=[]);X[a.topic].push(a);X[a.topic].sort(function(a,b){return b.priority-a.priority});var b=Ya[a.topic];h.def(b)&&Za(a,b)}else la.push(a);h.log('_pubsub.subscribe',a.topic,a.id);return a.id};m.publish=function(a){var b=a.topic;a.topic=a.topic.toLowerCase();for(var d=X[a.topic],e=d=1==h.undef(d)?[]:d.slice(0),c=0;c<la.length;c++){var p=la[c];null!=a.topic.match(p.topic)&&e.push(p)}a.persistent&&(Ya[a.topic]=a);if(0<d.length){e=[];for(c=0;c<d.length;c++)if(p=d[c],h.log('_pubsub.publish', p.topic,p.id),a.async)Za(p,a);else if(p=Za(p,a,b),1==h.def(p)&&e.push(p),0==p&&!0===a.cancellable)break;return e}h.log('_pubsub.publish',a.topic,'no callbacks');return 0};m.unsubscribe=function(a){for(var b in X)for(var d=X[b],e=0;e<d.length;e++)if(d[e].id==a)return d.splice(e,1),h.log('_pubsub.unsubscribe','found',a),!0;b=la.findIndex(function(b){return b.id===a});if(-1!==b)return la.splice(b,1),h.log('_pubsub.unsubscribe','found wildcard',a),!0;h.log('_pubsub.unsubscribe','not found');return!1}; var x={releaseDate:'v8.5.2-2025-10-29T15:17Z',errors:{has:!1},config:g,maxScrollDepth:0,serviceWorkers:{supported:!1,registrations:[],cacheStats:[]}},za=function(){return x};m.subscribe({topic:'core/configure',callback:function(a){za.config=g}});m.subscribe({topic:'core/start',callback:function(){za.config=g;if('serviceWorker'in navigator)try{navigator.serviceWorker.getRegistrations().then(function(a){for(var b=0;b<a.length;b++){var d=a[b].active;x.serviceWorkers.registrations.push({scope:a[b].scope, scriptURL:1==h.def(d)?d.scriptURL:'',state:1==h.def(d)?d.state:''})}}),x.serviceWorkers.supported=!0}catch(a){x.serviceWorkers.supported=!1,h.log('Error adding service worker stats to qoe call, most likely a security issue',a)}}});h.addEvent(c,'scroll',function(){var a=c.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;a>x.maxScrollDepth&&(x.maxScrollDepth=a)});h.addEvent(c,'error',function(a){var b=a.message,d=a.lineno,e=a.filename;3==arguments.length&&(b=arguments[0], e=arguments[1],d=arguments[2]);h.log('errorCapture',b,d,e);var c='';try{c=a&&a.error&&a.error.stack?a.error.stack:Error().stack}catch(p){}m.publish({topic:'core/js/error',persistent:!0,message:{message:b,implementationType:'dom',resourceName:e,lineNumber:d,stack:c,collectionTimestamp:(new Date).getTime()}});x.errors={has:!0}});var U={runOnce:function(a){var b=!1;return function(){b||(a(),b=!0)}},onHidden:function(a){document.addEventListener('visibilitychange',function(){'hidden'===document.visibilityState&& a()})},whenIdle:function(a){var b=self.requestIdleCallback||self.setTimeout,d=-1;a=U.runOnce(a);'hidden'===document.visibilityState?a():(d=b(a),U.onHidden(a));return d},getName:function(a){if(!a)return'';var b=a.nodeName;return 1===a.nodeType?b.toLowerCase():b.toUpperCase().replace(/^#/,'')},getSelector:function(a,b){var d='';try{for(;a&&9!==a.nodeType;){var e=a.id?'#'+a.id:U.getName(a)+(a.classList&&a.classList.value&&a.classList.value.trim()&&a.classList.value.trim().length?'.'+a.classList.value.trim().replace(/\s+/g, '.'):'');if(d.length+e.length>(b||100)-1)return d||e;d=d?e+'>'+d:e;if(a.id)break;a=a.parentNode}}catch(l){}return d},getNavigationEntry:function(){var a=self.performance&&performance.getEntriesByType&&performance.getEntriesByType('navigation')[0];if(a&&0<a.responseStart&&a.responseStart<performance.now())return a},getLoadState:function(a){if('loading'===document.readyState)return'loading';var b=U.getNavigationEntry();if(b){if(a<b.domInteractive)return'loading';if(0===b.domContentLoadedEventStart|| a<b.domContentLoadedEventStart)return'dom-interactive';if(0===b.domComplete||a<b.domComplete)return'dom-content-loaded'}return'complete'}},$a=[],ca=[],Fa=new Map,ma=[];var Vb=function(a){$a.forEach(function(b){return b(a)});if(0<a.interactionId||'first-input'===a.entryType){var b=ca[ca.length-1],d=Fa.get(a.interactionId);if(d||10>ca.length||a.duration>b.latency)d?a.duration>d.latency?(d.entries=[a],d.latency=a.duration):a.duration===d.latency&&a.startTime===d.entries[0].startTime&&d.entries.push(a): (b={id:a.interactionId,latency:a.duration,entries:[a]},Fa.set(b.id,b),ca.push(b)),ca.sort(function(a,b){return b.latency-a.latency}),10<ca.length&&ca.splice(10).forEach(function(a){return Fa.delete(a.id)})}};var w={idleHandle:-1,_largestNextPaint:0,MAX_PREVIOUS_FRAMES:50,interactionTargetMap:new Map,entryToEntriesGroupMap:new WeakMap,pendingEntriesGroups:[],latestProcessingEnd:0,handleLoAFEntries:function(a){ma=ma.concat(a);w.queueCleanup()},listenForLoAFEntries:function(){(new PerformanceObserver(function(a){Promise.resolve().then(function(){w.handleLoAFEntries(a.getEntries())})})).observe({type:'long-animation-frame', buffered:!0})},getIntersectingLoAFs:function(a,b){for(var d=[],e=0,c;c=ma[e];e++)if(!(c.startTime+c.duration<a)){if(c.startTime>b)break;d.push(c)}return d},groupEntriesByRenderTime:function(a){var b=a.startTime+a.duration;w.latestProcessingEnd=Math.max(w.latestProcessingEnd,a.processingEnd);for(var d=w.pendingEntriesGroups.length-1;0<=d;d--){var e=w.pendingEntriesGroups[d];if(8>=Math.abs(b-e.renderTime)){var c=e;c.startTime=Math.min(a.startTime,c.startTime);c.processingStart=Math.min(a.processingStart, c.processingStart);c.processingEnd=Math.max(a.processingEnd,c.processingEnd);c.entries.push(a);break}}c||(c={startTime:a.startTime,processingStart:a.processingStart,processingEnd:a.processingEnd,renderTime:b,entries:[a]},w.pendingEntriesGroups.push(c));(0<a.interactionId||'first-input'===a.entryType)&&w.entryToEntriesGroupMap.set(a,c);w.queueCleanup()}};$a.push(w.groupEntriesByRenderTime);w.saveInteractionTarget=function(a){0<a.interactionId&&a.target&&!w.interactionTargetMap.has(a.interactionId)&& w.interactionTargetMap.set(a.interactionId,a.target)};$a.push(w.saveInteractionTarget);w.queueCleanup=function(){0>w.idleHandle&&(w.idleHandle=U.whenIdle(w.cleanupEntries))};w.cleanupEntries=function(){var a=w.pendingEntriesGroups.length-w.MAX_PREVIOUS_FRAMES;w.pendingEntriesGroups=w.pendingEntriesGroups.filter(function(b,e){return e>=a});var b=ma.length-1-w.MAX_PREVIOUS_FRAMES;ma=ma.filter(function(a,e){return e>b?!0:!1});10<w.interactionTargetMap.size&&w.interactionTargetMap.forEach(function(a, b){Fa.has(b)||w.interactionTargetMap.delete(b)});w.idleHandle=-1};w.extractInteractionData=function(a){var b=a[0],d=w.entryToEntriesGroupMap.get(b),e=b.processingStart;d=d?d.processingEnd:b.processingEnd;var c=w.getIntersectingLoAFs(b.startTime,d);a=(a=a.find(function(a){return a.target}))&&a.target||w.interactionTargetMap.get(b.interactionId);c=[b.startTime+b.duration,d].concat(c.map(function(a){return a.startTime+a.duration}));c=Math.max.apply(Math,c);return{firstEntry:b,interactionTargetElement:a, processingStart:e,processingEnd:d,nextPaintTime:c}};w.processINP=function(a){a.forEach(Vb);var b=null;a.forEach(function(d){if(0<d.interactionId&&w._largestNextPaint<d.duration&&(w._largestNextPaint=d.duration,d)){b||(b=w.extractInteractionData(a));var e={interactionTarget:U.getSelector(b.interactionTargetElement),interactionTargetElement:h.elementToString(b.interactionTargetElement),interactionType:b.firstEntry.name.startsWith('key')?'keyboard':'pointer',interactionTime:b.firstEntry.startTime,nextPaintTime:b.nextPaintTime, inputDelay:b.processingStart-b.firstEntry.startTime,processingDuration:b.processingEnd-b.processingStart,presentationDelay:Math.max(b.nextPaintTime-b.processingEnd,0),loadState:U.getLoadState(b.firstEntry.startTime)};m.publish({topic:'web-vitals/interaction-to-next-paint',persistent:!0,message:{entry:d,attribution:e}})}})};var vb=!1;h.hasWebVitals=function(){return'undefined'!==typeof c.LayoutShift};var ab=function(){var a=new PerformanceObserver(function(a){Promise.resolve().then(function(){U.whenIdle(function(){w.processINP(a.getEntries())})})}); a.observe({type:'event',durationThreshold:16,buffered:!0});a.observe({type:'first-input',buffered:!0});(new PerformanceObserver(function(a){Promise.resolve().then(function(){for(var b=a.getEntries(),e=0;e<b.length;e++){var c=b[e];m.publish({topic:'web-vitals/cumulative-layout-shift',persistent:!0,message:{score:c.value,entry:c}})}})})).observe({type:'layout-shift',buffered:!0});(new PerformanceObserver(function(a){Promise.resolve().then(function(){for(var b=a.getEntries(),e=0;e<b.length;e++){var c= b[e];m.publish({topic:'web-vitals/first-input',persistent:!0,message:{delay:c.processingEnd-c.startTime,name:c.name,startTime:c.startTime,entry:c}})}})})).observe({type:'first-input'});(new PerformanceObserver(function(a){1!=vb&&Promise.resolve().then(function(){U.whenIdle(function(){for(var b=a.getEntries(),e=0;e<b.length;e++){var c=b[e];m.publish({topic:'web-vitals/largest-contentful-paint',persistent:!0,message:{time:c.startTime,entry:c}})}})})})).observe({type:'largest-contentful-paint',buffered:!0}); w.listenForLoAFEntries()};try{1==h.hasWebVitals()&&ab()}catch(a){h.log('WebVital initialize error',a.message)}h.hasResourceTiming=function(){return h.def(c.performance)&&h.def(c.performance.getEntries)};h.supportsPerformanceEntryType=function(a){return PerformanceObserver&&PerformanceObserver.supportedEntryTypes?-1!==PerformanceObserver.supportedEntryTypes.indexOf(a):!1};h.calculateTti=function(){var a=c.performance.timing;if(0==h.hasResourceTiming()||h.undef(a.loadEventEnd))return-1;var b=c.performance.getEntries(); return h._calculateTti(b,b.length,a.loadEventEnd-a.navigationStart)};h._calculateTti=function(a,b,d){for(var e=[],c=g.ttiLagTime,p=-1,f=a[0],k=f.startTime,h=k+f.duration,m=[k,h+c],n=0;n<b;n++)if(f=a[n],k=f.startTime,h=k+f.duration,'resource'==f.entryType)if(1==(k+h>=m[0]&&k<=m[1])){if(e.push(f),2<e.length)if(m=[k,h+c],wb(e,m),3<=e.length)p=m[1]-c;else break}else if(k>m[1]-c){if(h>d)break;m=[k,h+c];wb(e,m)}if(p<d){if(0==g.afterShockLoaded)return-1;p=d}r.setExperienceMetric('time_to_interactive',p); return p};var wb=function(a,b){for(var d=0;d<a.length;d++){var e=a[d],c=e.startTime;0==(c+(c+e.duration)>=b[0]&&c<=b[1])&&(a.splice(d,1),d--)}};m.publish({topic:'sequencing/user/first',callback:function(){vb=!0}});var Z={isLocalStorageAvailable:function(){return!(!c.localStorage||!c.localStorage.getItem)},safeGetItem:function(a){try{var b=localStorage.getItem(a);return null==b?null:JSON.parse(b)}catch(d){return h.log('_safeLocalStorageGet - Error retrieving "'+a+'"',d),null}},safeSetItem:function(a, b){try{var d=JSON.stringify(b);localStorage.setItem(a,d);return!0}catch(e){return h.log('_safeLocalStorageSet - Error setting "'+a+'"',{key:a,value:b,e:e}),!1}}},na={},E={isAvailable:!1};Object.defineProperty(na,'isAvailable',{get:function(){return E.isAvailable}});E.dataLayer=null;Object.defineProperty(na,'dataLayer',{get:function(){return E.dataLayer}});E.possibleDataLayerVariables=['adobeDataLayer'];na.get=function(){return new Promise(function(a){E.isAvailable?a(E.dataLayer):m.subscribe({topic:'rum/dataLayers/adobe/ready', once:!0,callback:function(b){a(b)}})})};E.isAdobeDataLayer=function(a){if(!Array.isArray(a))return!1;var b=['addEventListener','getState','removeEventListener'].every(function(b){return b in a&&'function'===typeof a[b]}),d=['version'].every(function(b){return Object.prototype.hasOwnProperty.call(a,b)}),e=E.isVersionSupported(a.version);return b&&d&&e};E.isVersionSupported=function(a){return'string'!==typeof a?!1:'2'===a.split('.')[0]};E.makeAvailable=function(a){E.isAvailable=!0;E.dataLayer=a;m.publish({topic:'rum/dataLayers/adobe/ready', message:a})};E.makeUnavailable=function(){E.isAvailable=!1;E.dataLayer=null};E.initialize=function(){for(var a=$yojscomp.makeIterator(E.possibleDataLayerVariables),b=a.next();!b.done;b=a.next()){b=b.value;try{c[b]=c[b]||[],'push'in c[b]&&c[b].push(E.dataLayerCallback)}catch(d){h.log('adobeDataLayer - error setting callback on window.'+b,d)}}};E.dataLayerCallback=function(a){E.isAvailable||E.isAdobeDataLayer(a)&&E.makeAvailable(a)};m.subscribe({topic:'rum/trackBusinessValue/initialize',once:!0,callback:function(){E.initialize()}}); var oa={_purchase:null,get:function(){return oa._purchase},_isPurchaseValid:function(a){return!!(a&&a.purchaseAmount&&a.orderId&&a.purchaseType&&a.source)},_updatePurchase:function(a){try{var b=a.getState(),d=b&&b.orderContext||{},e={currencyType:(b&&b.storefrontInstanceContext||{}).baseCurrencyCode,orderId:d.orderId,purchaseAmount:'number'===typeof d.grandTotal?d.grandTotal.toFixed(2):void 0,purchaseType:'Standard',source:'aep'};oa._isPurchaseValid(e)&&(oa._purchase=e)}catch(l){h.log('adobeAnalyticsPurchase - Error updating purchase', l)}}};m.subscribe({topic:'rum/trackBusinessValue/initialize',once:!0,callback:function(){(function(){var a,b;return $yojscomp.asyncExecutePromiseGeneratorProgram(function(d){if(1==d.nextAddress)return d.setCatchFinallyBlocks(2),d.yield(na.get(),4);if(2!=d.nextAddress)return a=d.yieldResult,oa._updatePurchase(a),a.addEventListener('adobeDataLayer:change',function(){oa._updatePurchase(this)},{scope:'future'}),d.leaveTryBlock(0);b=d.enterCatchBlock();h.log('adobeAnalyticsPurchase - Error while watching for purchase', b);d.jumpToEnd()})})()}});var pa=function(a){var b=a.completeFn,d=a.setTimeoutFn,e=a.clearTimeoutFn;this.pollFn=a.pollFn;this.completeFn=b;this.setTimeout=d||aa.bind(c);this.clearTimeout=e||c.clearTimeout.bind(c);this.currentTimeout=null;this.delayMs=250;this.start()};pa.prototype.start=function(){var a=this;this.started||(h.log('Poller - Starting'),this.delayMs=250,this.currentTimeout=this.setTimeout(function(){return a._poll()},0))};pa.prototype.stop=function(){this.started&&(this.clearTimeout(this.currentTimeout), this.currentTimeout=null,h.log('Poller - Stopped'))};pa.prototype._isSessionExpired=function(){var a=r.getVisitorInfo();a=a&&a.visitorTimestamp?a.visitorTimestamp:void 0;if(!a)return h.log('Poller - No session start time available'),!0;var b=a+g.sessionTimeout;return(new Date).getTime()>b?(h.log('Poller - Session from '+a+' expired, stopping polling.'),!0):!1};pa.prototype._poll=function(){var a=this;if(this.started)if(this._isSessionExpired())this.stop(),r.sendMetaEvent('polling-session-expired', {message:'Polling stopped due to session expiration'});else{var b=null;try{b=this.pollFn()}catch(d){h.log('Poller - Error while polling: ',d)}b?(h.log('Poller - Found result: ',b),this.completeFn(b),this.stop()):(this.currentTimeout=this.setTimeout(function(){return a._poll()},this.delayMs),h.log('Poller - Did not get a result, polling again in '+this.delayMs+'ms'),this.delayMs=Math.min(1.2*this.delayMs,1E4))}};$yojscomp.global.Object.defineProperties(pa.prototype,{started:{configurable:!0,enumerable:!0, get:function(){return null!==this.currentTimeout}}});var v={defaultCurrency:'USD',purchaseMapFunctions:[],localStorageKey:'yottaa-ci',purchasePoller:null,trackBusinessValue:function(a,b,d){1==h.def(b)&&(v.defaultCurrency=b);1==h.def(a)&&(v.purchaseMapFunctions=a.concat(v.purchaseMapFunctions));m.publish({topic:'rum/trackBusinessValue/initialize',persistent:!0});h.isInIframe()||v._startPurchasePolling()},_startPurchasePolling:function(){return v.purchasePoller?!1:(v.purchasePoller=new pa({pollFn:function(){return v._findPurchase()}, completeFn:function(a){return v._handlePurchase(a)}}),m.subscribe({topic:'rum/spa/rendered',callback:function(){v.purchasePoller.stop();v.purchasePoller.start()}}),!0)},setBusinessData:function(a,b){1==h.def(b)&&(v.defaultCurrency=b);v.purchasePoller&&v.purchasePoller.stop();return v._handlePurchase(a)},_shopify:function(){if(c.Shopify&&c.Shopify.Checkout)return{currencyType:c.Shopify.Checkout.currency,purchaseAmount:c.Shopify.Checkout.totalPrice,purchaseType:'Standard',orderId:c.Shopify.checkout.order_id.toString(), source:'shopify'}},_gtm:function(){if(c.dataLayer)for(var a=0;a<c.dataLayer.length;a++){var b=c.dataLayer[a];if(b.event&&-1<b.event.indexOf('purchase'))return a=b.ecommerce||b,1==h.undef(a.transaction_id)&&(a=b.ecommerce.purchase.actionField),{currencyType:a.currency,purchaseAmount:a.total||a.value||(parseFloat(a.revenue)+parseFloat(a.tax)+parseFloat(a.shipping)).toFixed(2),purchaseType:'Standard',orderId:a.transaction_id||a.id,source:'gtm'}}},_ga4:function(){if(c.dataLayer)for(var a=0;a<c.dataLayer.length;a++){var b= c.dataLayer[a];if(3<=b.length&&b[1]&&-1<b[1].indexOf('purchase'))return a=b[2],1==h.undef(a.transaction_id)&&(a=b.ecommerce.purchase.actionField),{currencyType:a.currency,purchaseAmount:a.total||a.value||(parseFloat(v._fixPurchaseAmount(a.revenue))+parseFloat(v._fixPurchaseAmount(a.tax))+parseFloat(v._fixPurchaseAmount(a.shipping))).toFixed(2),purchaseType:'Standard',orderId:a.transaction_id||a.id,source:'ga4'}}},_omniture:function(){var a=c.s||c.omnitureActivity;if(a&&a.events&&-1!=a.events.indexOf('purchase'))return{purchaseAmount:tb.calculatePurchaseAmount(a.products), purchaseType:'Standard',orderId:a.purchaseID,currencyType:a.currencyCode,source:'omniture'}},_uniVariable:function(){if(c.universal_variable&&c.universal_variable.transaction){var a=c.universal_variable.transaction;return{currencyType:a.currency,purchaseAmount:a.total,purchaseType:'Standard',orderId:a.order_id,source:'universalvariable'}}}};v._adobeAnalytics=oa.get;v.purchaseMapFunctions.push(v._shopify);v.purchaseMapFunctions.push(v._gtm);v.purchaseMapFunctions.push(v._ga4);v.purchaseMapFunctions.push(v._omniture); v.purchaseMapFunctions.push(v._uniVariable);v.purchaseMapFunctions.push(v._adobeAnalytics);v._getPurchaseHistory=function(){return(Z.safeGetItem(v.localStorageKey)||{}).history||[]};v._setPurchaseHistory=function(a){var b=Z.safeGetItem(v.localStorageKey)||{};b.history=a;return Z.safeSetItem(v.localStorageKey,b)};v._isPurchaseInHistory=function(a){return-1<v._getPurchaseHistory().indexOf(a)};v._addPurchaseToHistory=function(a){var b=v._getPurchaseHistory();b.push(a);v._setPurchaseHistory(b)};v._fixPurchaseAmount= function(a){return'string'!==typeof a?a:a.replace(/[^0-9.-]+/g,'')};v._isPurchaseValid=function(a){return!(!a||!a.purchaseAmount)};v._fixPurchase=function(a){return Object.assign({},a,{purchaseAmount:v._fixPurchaseAmount(a.purchaseAmount),currency:a.currency||v.defaultCurrency})};v._handlePurchase=function(a){if(!v._isPurchaseValid(a))return m.publish({topic:'ecomm/faultyPurchaseFound',message:a}),!1;a=v._fixPurchase(a);if('string'===typeof a.orderId||'number'===typeof a.orderId){if(v._isPurchaseInHistory(a.orderId))return m.publish({topic:'ecomm/duplicatePurchaseFound', message:a.orderId}),!1;v._addPurchaseToHistory(a.orderId)}m.publish({topic:'ecomm/purchase',message:{purchase:a}});return!0};v._findPurchase=function(){for(var a=$yojscomp.makeIterator(v.purchaseMapFunctions),b=a.next();!b.done;b=a.next()){b=b.value;try{var d=b();if(v._isPurchaseValid(d))return this._fixPurchase(d)}catch(e){h.log('Purchase mapping error',e,'we will keep going.')}}return null};var ta={},ia=null,Ma=!1;ta.trackShopifyCheckout=function(a){a.subscribe('page_viewed',n);a.subscribe('checkout_completed', q);m.subscribe({topic:'rum/beforeSend',priority:100,callback:function(a){h.log('ShopifyCheckout: window location of rum call: '+c.location.pathname,'checkoutUrl: '+ia);if(null===ia)return h.log('ShopifyCheckout: checkout url is null'),!1;a.fullPageURL=ia}})};ta.isCheckoutCompletedURL=function(a){return/^\/checkouts\/.*\/(thank-you|processing)/.test(a)};m.subscribe({topic:'rum/initial-session',callback:function(a){m.subscribe({topic:'rum/optstate-set',once:!0,callback:function(){r.sendMetaEvent('initial-session', {sessionId:a.sessionId,isConfigCached:!g.isConfigFetched})}})}});var F={_wasPurchaseReported:!1,_wasDuplicatePurchaseFound:!1,_wasFaultyPurchaseFound:!1,_faultyPurchase:null,_getEcommResults:function(a){return{shopify:F._getEcommResult(a._shopify),gtm:F._getEcommResult(a._gtm),ga4:F._getEcommResult(a._ga4),omniture:F._getEcommResult(a._omniture),uniVariable:F._getEcommResult(a._uniVariable),adobeAnalytics:F._getEcommResult(a._adobeAnalytics)}},_getEcommResult:function(a){var b=null;try{b=a()||null}catch(d){b= {error:d instanceof Error?d.toString():'_ERROR_'}}return b},_getEcommDataLayers:function(){var a=c.s||c.omnitureActivity||null;'object'===typeof a&&null!==a&&'events'in a||(a=null);return{shopify:c.Shopify||null,google:c.dataLayer||null,omniture:a,uniVariable:c.universal_variable||null,adobe:na.dataLayer||null}},_getTrackBusinessValueError:function(a){var b=null;try{a()}catch(d){b={message:'<NO MESSAGE>',stack:''},d&&d.toString&&'function'===typeof d.toString&&(b.message=d.toString()),a=d&&d.stack, 'string'===typeof a&&(a=a.split('\n').slice(0,5).join('\n'),b.stack=a)}return b},_checkPurchaseListener:function(){'hidden'===document.visibilityState&&(document.removeEventListener('visibilitychange',F._checkPurchaseListener),m.publish({topic:'ecomm/checkPurchase',message:{pageCategory:x.rum&&x.rum.pageCategory||'',path:c.location.pathname}}))},_isProbablyCheckout:function(a){var b=a.pageCategory;a=a.path;var d=/(check-?out|pay(?:ment)?|confirm(?:ation)?)(?=\/|\.|$)/i;return'order-confirmation'=== b||'checkout'===b||d.test(a||'')}};m.subscribe({topic:'ecomm/checkPurchase',callback:function(a){var b=a.path,d=a.pageCategory,e=a.trackBusinessValueFn;a=void 0===a.ecommFns?{}:a.ecommFns;g.enableMissingPurchase&&F._isProbablyCheckout({path:b,pageCategory:d})&&!F._wasPurchaseReported&&(b=F._getEcommResults(Object.assign({},v,a)),d=F._getEcommDataLayers(),e=F._getTrackBusinessValueError(e||v.trackBusinessValue),r.sendMetaEvent('purchase-missing',{ecommResults:b,trackBusinessValueError:e,wasDuplicatePurchaseFound:F._wasDuplicatePurchaseFound, wasFaultyPurchaseFound:F._wasFaultyPurchaseFound,faultyPurchase:F._faultyPurchase||void 0,dataLayers:d}))}});m.subscribe({topic:'rum/initialize',callback:function(){g.enableMissingPurchase&&(document.addEventListener('visibilitychange',F._checkPurchaseListener),m.subscribe({topic:'ecomm/faultyPurchaseFound',callback:function(a){F._wasFaultyPurchaseFound=!0;F._faultyPurchase={purchaseType:typeof a,purchase:a}}}),m.subscribe({topic:'ecomm/duplicatePurchaseFound',callback:function(){F._wasDuplicatePurchaseFound= !0}}),m.subscribe({topic:'ecomm/purchase',callback:function(a){F._wasPurchaseReported=!0}}))}});var r={};r.trackBusinessValue=v.trackBusinessValue;r.setBusinessData=v.setBusinessData;r.trackShopifyCheckout=ta.trackShopifyCheckout;r.shopify=ta;r.dataLayers={adobe:na};var Ca={inPageExiting:!1,requestTypes:{navigation:'navigation',purchase:'yottaa-purchase'}},xb=!1,Sa=[],Oa=[],W=[],Ba='unknown',ja={optState:Ba},Ta=h.uuid(),Qa={},Ga=0,yb=0,Na={},T={},nb=h.hasWebVitals(),V={lcp:[],cls:[],fid:[],inp:[]}; r.setNewPageGuid=function(){Ta=h.uuid()};r._reportPurchaseEvent=function(a){var b=t(),d=r.getVisitorInfo(),e=Object.assign({},b,{pageCategory:'yottaa-purchase',purchase:a,requestType:Ca.requestTypes.purchase,uuid:h.uuid(),visitor:d});m.subscribe({topic:'rum/initialize',once:!0,callback:function(){g.rum.beaconUrl?h.sendData(e,g.rum.beaconUrl):h.log('sendPurchaseEvent - Rum initialized, but no beacon URL')}})};var Pa=function(a){var b=g.rum&&g.rum.key?g.rum.key+'-'+a:null;null===b&&h.log('_rumStorageGet - Error retrieving item "'+ a+'": localStorage key was null');return Z.safeGetItem(b)},pb=function(a,b){var d=g.rum&&g.rum.key?g.rum.key+'-'+a:null;null===d&&h.log('_rumStorageSet - Error setting item "'+a+'": localStorage key was null');return Z.safeSetItem(d,b)};r.getVisitorInfo=function(){return Pa('rapid-js-visitor-3')};r._setVisitorInfo=function(a){pb('rapid-js-visitor-3',a);return a};var Pb=function(){var a=x;if(a.serviceWorkers&&a.serviceWorkers.cacheStats){a=a.serviceWorkers.cacheStats.hits||[];for(var b=0;b<a.length;b++)if(0== a[b].indexOf(c.location.toString()))return!0}return!1};r.captureRum=function(){h.def(g.rum)&&h.def(g.rum.beaconUrl)&&0==xb&&(xb=!0,h.isInIframe()?u():!0!==g.rum.spa&&aa(function(){h.log('onload window event triggered');!0===g.sendRumOnUnload?u():m.publish({topic:'rum/send',message:x.rum})},g.rumDelay),h.addEvent(document,'visibilitychange',function(){h.log('Visibility change detected:',document.visibilityState);'hidden'===document.visibilityState&&(Ca.inPageExiting=!0,h.log('Page Exit (visibilitychange->hidden) window event triggered'), !0===g.sendRumOnUnload?m.publish({topic:'rum/send',message:x.rum}):G())}))};r.initialize=function(a,b,d,e,l){g.rum={beaconUrl:a,requests:b,key:d,post:!0,advanced:{performanceTime:1500,blockingTime:750,violationSize:1024E3,domInteractiveCoef:200,domContentLoadedEventCoef:150,domCompleteCoef:100,loadEventCoef:50}};h.def(l)&&(l.performanceTime&&(g.rum.advanced.performanceTime=l.performanceTime),l.blockingTime&&(g.rum.advanced.blockingTime=l.blockingTime),l.violationSize&&(g.rum.advanced.violationSize= l.violationSize),l.maxMessageSize&&(g.maxMessageSize=l.maxMessageSize));c.performance&&c.performance.setResourceTimingBufferSize&&c.performance.setResourceTimingBufferSize(500);m.publish({topic:'rum/initialize',persistent:!0})};r.addViolation=function(a,b){W.push({lastByteTime:0,implementationType:'dom',type:a,zone:0,duration:0,startTime:-1,resourceName:b,resourceSizeBytes:0})};var Ra=function(a,b){a=Array.from(a);var d=new Set;a&&0<a.length&&'currentSrc'===b&&(a=a.filter(function(a){return(a=a[b])&& !d.has(a)?(d.add(a),!0):!1}));for(var e=0;e<a.length;e++){var l=a[e];if(!('href'===b&&'stylesheet'!==l.rel||'currentSrc'===b&&'lazy'===l.loading)&&(l=l[b],null!==l&&''!==l&&(0===l.indexOf('//')&&(l=c.location.protocol+l),!0===l.startsWith('http')))){var p=c.performance.getEntriesByName(l);null!==p&&0!==p.length||W.push(L(2,0,{name:l,duration:0,decodedBodySize:0},Qa[l]))}}};ab=function(){r.setExperienceMetric('cumulative_layout_shift',0);m.subscribe({topic:'web-vitals/cumulative-layout-shift',callback:function(a){var b= a.entry,d=[];if(!b.hadRecentInput){var e=r.getExperienceMetric('cumulative_layout_shift');r.setExperienceMetric('cumulative_layout_shift',e+a.score)}for(a=0;a<b.sources.length;a++)e=b.sources[a],d.push({node:h.elementToString(e.node),currentRect:e.currentRect,previousRect:e.previousRect});V.cls.push({duration:b.duration,entryType:b.entryType,hadRecentInput:b.hadRecentInput,lastInputTime:b.lastInputTime,name:b.name,sources:d,startTime:b.startTime,value:b.value})}});m.subscribe({topic:'web-vitals/first-input', callback:function(a){var b=a.entry;r.setExperienceMetric('first_input_delay',a.delay);r.setExperienceMetric('first_input_name',a.name);r.setExperienceMetric('first_input_start_time',a.startTime);V.fid.push({cancelable:b.cancelable,duration:b.duration,entryType:b.entryType,name:b.name,processingEnd:b.processingEnd,processingStart:b.processingStart,startTime:b.startTime,target:h.elementToString(b.target)})}});m.subscribe({topic:'web-vitals/largest-contentful-paint',callback:function(a){var b=a.entry; r.setExperienceMetric('largest_contentful_paint',a.time);V.lcp.push({entryType:b.entryType,duration:b.duration,id:b.id,name:b.name,renderTime:b.renderTime,startTime:b.startTime,size:b.size,loadTime:b.loadTime,url:b.url,resourceIndex:S(b.url),element:h.elementToString(b.element)})}});m.subscribe({topic:'web-vitals/interaction-to-next-paint',callback:function(a){var b=a.entry;a=a.attribution;r.setExperienceMetric('interaction_to_next_paint',b.duration);V.inp.push({duration:b.duration,entryType:b.entryType, interactionId:b.interactionId,name:b.name,processingEnd:b.processingEnd,processingStart:b.processingStart,startTime:b.startTime,target:h.elementToString(b.target),attribution:a})}})};r.captureStack=function(){try{return Error().stack}catch(a){return''}};r.set=function(a,b){ja[a]=b;'optState'===a&&m.publish({topic:'rum/optState-set',message:b,persistent:!0})};r.spa=function(){g.rum&&(g.rum.spa=!0)};r.get=function(){return ja};r.now=function(){return c.performance&&c.performance.now?Math.floor(c.performance.now()): Math.floor((new Date).getTime())};r.setExperienceMetric=function(a,b){if(b>T[a]||1==h.undef(T[a]))T[a]=b};r.addMetaEvent=function(a,b){b=void 0===b?{}:b;Oa.push(I(a,b))};r.clearMetaEvents=function(){Oa=[]};r.sendMetaEvent=function(a,b){b=void 0===b?{}:b;b=JSON.parse(ya.safeStringify(b));var d=I(a,Object.assign({},b));m.subscribe({topic:'rum/initialize',once:!0,callback:function(){if(g.rum.beaconUrl){var a=t();a=Object.assign({},a,{metaEvents:[d]});h.sendData(a,g.rum.beaconUrl)}else h.log('sendMetaEvent - Rum initialized, but no beacon URL')}})}; r.getExperienceMetric=function(a){return T[a]};r.getCoreWebVitalDetails=function(){return V};r._publishRum=function(){var a,b,d;return $yojscomp.asyncExecutePromiseGeneratorProgram(function(e){if(1==e.nextAddress){if(Ca.inPageExiting)return e.jumpTo(2);a=m.publish({topic:'rum/delayPublish',message:x.rum})||[];if(!(0<a.length))return e.jumpTo(2);b=new Promise(function(a){document.addEventListener('visibilitychange',function(){'hidden'===document.visibilityState&&a(!0)})});return e.yield(Promise.race([Promise.allSettled(a), b]),2)}d=m.publish({topic:'rum/beforeSend',async:!1,message:x.rum})||[];if(!1===d[0])return e.return(!1);h.sendData(x.rum,g.rum.beaconUrl);m.publish({topic:'rum/sendBeacon',message:x.rum});m.publish({topic:'rum/afterSend',message:x.rum});return e.return(!0)})};m.subscribe({topic:'core/load',callback:function(){m.subscribe({topic:'rum/initialize',once:!0,callback:function(){1==h.def(g.rum)&&(g.rum.onLoadTime=r.now());m.publish({topic:'rum/pageview'});r.captureRum()}})}});m.subscribe({topic:'rum/pageview', callback:function(){m.subscribe({topic:'rum/initialize',once:!0,callback:function(){if(!1===(Z.isLocalStorageAvailable()&&!(!g.rum||!g.rum.key)))h.log('_recordVisitorPageView - Storage unavailable');else{var a=r.getVisitorInfo();if(null==a)a={visitorTimestamp:(new Date).getTime(),numVisitorPageViews:1,numSessionPageViews:1,numSessions:1,visitorId:h.uuid(),sessionId:h.uuid(),bandwidth:''},m.publish({topic:'rum/initial-session',message:a});else{a.visitorId||(a.visitorId=h.uuid());var b=a.visitorTimestamp; b=(new Date).getTime()>b+g.sessionTimeout;a.visitorTimestamp=(new Date).getTime();a.numVisitorPageViews+=1;b?(a.numSessionPageViews=1,a.numSessions+=1,a.sessionId=h.uuid(),m.publish({topic:'rum/initial-session',message:a})):a.numSessionPageViews+=1}r._setVisitorInfo(a)}}})}});m.subscribe({topic:'sequence/captured',callback:function(a,b){b='';a.open_args?b=a.open_args[1]:a.newNode&&a.newNode.src?b=a.newNode.src:a.delayed&&a.delayed.newNode&&a.delayed.newNode.src?b=a.delayed.newNode.src:a.src&&(b=a.src); Qa[b]=r.captureStack()}});m.subscribe({topic:'core/js/error',callback:function(a,b){Sa.push(a)}});m.subscribe({topic:'rum/spa/transition/start',callback:function(a,b){if(0!=Ga){a=r.now();b=x.rum;g.rum.spa=g.rum.spaTransition=!0;g.delayed=[];if(h.undef(b)||h.undef(b.navigationTiming))h.undef(b)&&(b={}),c.performance&&c.performance.timing&&(b.navigationTiming=c.performance.timing.toJSON());for(var d in b.navigationTiming)b.navigationTiming[d]=a;Ta=h.uuid();W=[];Sa=[];G(yb);c.performance&&(r.clearResourceTimings.call(c.performance), c.performance.clearMarks&&c.performance.clearMarks(),c.performance.clearMeasures&&c.performance.clearMeasures())}}});m.subscribe({topic:'rum/spa/rendered',callback:function(a,b){b=x.rum;var d=r.now(),e=b?b.navigationTiming:null;0<Ga&&m.publish({topic:'rum/pageview'});u();b=x.rum;1==h.undef(b.navigationTiming)&&(b.navigationTiming=e?e:c.performance&&c.performance.timing?c.performance.timing.toJSON():{});a.pageType&&a.viewType&&(b.pageCategory=a.pageType+'-'+a.viewType);1==Yo.utils.def(a.trigger)&& (b.spaTrigger=a.trigger);if(!0===g.rum.spaTransition)b.navigationTiming.loadEventEnd=d;else if(g.rum.onLoadTime)b.navigationTiming.loadEventEnd=b.navigationTiming.navigationStart+(b.navigationTiming.loadEventEnd-b.navigationTiming.navigationStart)+(d-g.rum.onLoadTime);else return g.rum.spa=!1,Ga++,!1;g.rum.spaTransition=!1;1==h.hasResourceTiming()&&(yb=c.performance.getEntries().length);Ga++;r._publishRum();T.cumulative_layout_shift=0;T.time_to_interactive=0;T.interaction_to_next_paint=0;V={lcp:[], cls:[],fid:[],inp:[]};1==h.def(A.sequence)&&(A.configure({scan:['img','source','script']}),A.sequence.displayNow())}});m.subscribe({topic:'rum/send',callback:function(a,b){u();!0===g.sendRumOnUnload&&G();r._publishRum()}});m.subscribe({topic:'ecomm/purchase',callback:function(a){r._reportPurchaseEvent(a.purchase)}});c.performance&&c.performance.clearResourceTimings&&(r.clearResourceTimings=c.performance.clearResourceTimings,c.performance.clearResourceTimings=function(){});(function(){var a=function(a){Na= {type:a.type,target:h.elementToString(a.target)}};h.addEvent(document,'keydown',a);h.addEvent(document,'click',a);h.addEvent(document,'touchstart',a)})();ab();var qa=document;_loadCookieConfig=function(){var a=h.getCookie('yo-aftershock-config');if(null!=a&&0<a.length)try{a=JSON.parse(a);for(var b=a.resources||[],d=0;d<b.length;d++){var e=b[d];Yo.sequence[e.delayObject||'resource'](e.url)[e.delayType||'none'](e.delayValue)}delete a.resources;A.configure(a)}catch(l){}};_domready=function(){function a(a){b(a)} function b(a){('poll'===a||'readystatechange'===a.type)&&'complete'!==qa.readyState||e||(e=!0,g.afterShockLoaded=!0,m.publish({topic:'core/load',async:!0,message:A,persistent:!0}))}function d(){try{qa.documentElement.doScroll('left')}catch(p){aa(d,50);return}b('poll')}var e=!1,l=!0;if('complete'===qa.readyState)g.afterShockLoaded=!0,m.publish({topic:'core/load',async:!0,message:Yo,persistent:!0});else{if(qa.createEventObject&&qa.documentElement.doScroll){try{l=!c.frameElement}catch(p){}l&&d()}h.addEvent(c, 'load',a)}};m.subscribe({topic:'core/start',callback:function(){_loadCookieConfig();_domready()}});var H={man:function(){B('__   __    _   _    \n\\ \\ / /   | | | |            \n \\ V /___ | |_| |_ __ _  __ _  \n  \\ // _ \\| __| __/ _` |/ _` |\n  | | (_) | |_| || (_| | (_| | \n  \\_/\\___/ \\__|\\__\\__,_|\\__,_|');B('\n\nUse the console to see information about Yottaa running on your application\n');O([{command:'Yo.utils.console.man();',help:'You just ran this command, which displays this help.'}, {command:'Yo.utils.console.rum();',help:'See RUM statistics captured by Yottaa for the current web page.'},{command:'Yo.utils.console.resources();',help:'See information about resources that were loaded. Add a URL to see details about that specific URL.'},{command:'Yo.utils.console.coreWebVitals();',help:'See information about Core Web Vitals as they happen on your website.'},{command:'Yo.utils.console.sequencing();',help:'See the configuration for sequencing and the resources it is applied to.'}, {command:'Yo.utils.console.storeLocalConfiguration();',help:'Store your local configuration for easier debugging.'},{command:'Yo.utils.console.updateABTest();',help:'Update an A/B test variation.'}])},coreWebVitals:function(){B('\n\nCore web vital information for your page is detailed below.\n');1==h.def(r.getCoreWebVitalDetails)&&(B('\n\nRaw core web vital information below\n\n'),B(r.getCoreWebVitalDetails()));var a=function(a,d,e){var b=new PerformanceObserver(function(c){B(d);c=c.getEntries(); if('event'!=a)O(e(c));else{var l={duration:-1};(c||[]).forEach(function(a){0<a.interactionId&&l.duration<a.duration&&(l=a)});0<=l.duration&&O(e([l]))}b.disconnect()});b.observe({type:a,durationThreshold:16,buffered:!0})};a('layout-shift','\n\nCumlative Layout Shift (CLS).\n',function(a){return a.map(function(a){return{value:a.value,elementsChanged:a.sources.length,firstElement:0<a.sources.length?a.sources[0].node:'No element'}})});a('largest-contentful-paint','\n\nLargest Contentful Paint (LCP).\n', function(a){return a.map(function(a){return{element:a.element,url:a.url,startTime:a.startTime,duration:a.duration}})});a('event','\n\nInteraction to Next Paint (INP)\n',function(a){return a.map(function(a){return{target:a.target,entryType:a.entryType,name:a.name,startTime:a.startTime,duration:a.duration}})})},rum:function(){B('\n\nRum information for your page is detailed below.\n');var a=Yo.stats().rum;if(a){B();var b=function(a,b){this.prop=a;this.value=b};B('\n\nPAGE LEVEL DATA.\n');O([new b('Site Key', a.siteKey),new b('Optimization State',Yo.rum.get().optState||'None'),new b('Full Url',a.fullPageURL),new b('Category',a.pageCategory),new b('Title',a.pageTitle),new b('User Agent',a.userAgent),new b('Page Prefetched By Service Worker',a.pagePrefetched?'Yes':'No'),new b('Library Release Date',a.releaseDate),new b('Is SPA Site',x.config.rum.spa?'Yes':'No'),new b('Is Edge Page',a.yOptimizations?'Yes':'No'),new b('SPA Trigger',a.spaTrigger?JSON.stringify(a.spaTrigger):'No Info')]);var d=r.get().testVariations; 1==h.def(d)?(B('\n\nA/B TESTS.\n'),O(d.map(function(a){return{'Test name':a.testName,'Variation name':a.variationName,Stickiness:a.sticky,Timeout:a.timeout}}))):B('\n\nNO A/B TESTS.\n');B('\n\nVISITOR INFORMATION.\n');d=a.visitor;O([new b('Visitor',d.visitorId),new b('Visitor Sessions',d.numSessions),new b('Visitor Page views',d.numVisitorPageViews),new b('Session',d.sessionId),new b('Session Page views',d.numSessionPageViews)]);B('\n\nNAVIGATION TIMING INFORMATION.\n');d=a.navigationTiming;O([new b('DNS Lookup', d.domainLookupEnd-d.navigationStart),new b('Connection',d.connectEnd-d.navigationStart),new b('First Byte',d.responseStart-d.navigationStart),new b('Last Byte',d.responseEnd-d.navigationStart),new b('domLoading',d.domLoading-d.navigationStart),new b('domInteractive',d.domInteractive-d.navigationStart),new b('DOMContentLoaded',d.domContentLoadedEventEnd-d.navigationStart),new b('domComplete',d.domComplete-d.navigationStart),new b(x.config.rum.spa?'SPA Rendered':'onLoad',d.loadEventEnd-d.navigationStart)]); a=a.experienceMetrics;1==Yo.utils.def(a)&&(B('\n\nCORE WEB VITALS.\n\nFor detailed information of the core web vital information\nUser the Yo.utils.console.coreWebVitals(); function.'),O([new b('CLS',a.cumulative_layout_shift||'No Data'),new b('INP',a.interaction_to_next_paint||'No Data'),new b('LCP',a.largest_contentful_paint||'No Data'),new b('FID',a.first_input_delay||'No Data')]))}else B('NO DATA WAS COLLECTED')},sequencing:function(){B('\n\nSequencing information for your page is detailed below.\n\n'); var a=H._rapidInfo();H._rapidOutput(a);B('document.head sequenced - ',1==h.def(document.head.yo_ac),'\n\ndocument.body sequenced - ',1==h.def(document.body.yo_ac),'\n\nThe table below shows all the rules that have been scheduled for sequencing.\n');O(Yo.stats().config.resources.map(function(a){return{'Applies To':a.url,'Delay Type':a.delayType,'Delay Value':a.delayValue||'','# of Resources Caught':H._resourceAppliedTo(a.url)}}))},resources:function(a){var b=x.rum,d=b.navigationTiming,e=Math.round(100* (d.responseEnd-d.navigationStart)/(d.loadEventEnd-d.navigationStart)).toFixed(2);B('\n\nResources loaded by the website are detailed below.\n');B('\n\n%c It took %sms to load the html %s% of the onload\n','background: #222; color: #bada55',Math.floor(d.responseEnd-d.navigationStart),e);var l=H._rapidInfo();H._rapidOutput(l);e=x.rum.experienceMetrics;var p={DOMInteractive:Math.floor(d.domInteractive-d.navigationStart),LCP:Math.floor(e?e.largest_contentful_paint:0)};!0===x.config.rum.spa?(0==H._isSpaTransition()? B('\n\nThis is a SPA clean page %s.\n',b.pageCategory):B('\n\nThis is a SPA transition %s.\n',b.pageCategory),p['SPA Rendered']=Math.floor(d.loadEventEnd-d.navigationStart)):p.OnLoad=Math.floor(d.loadEventEnd-d.navigationStart);O(c.performance.getEntriesByType('resource').filter(function(b){return!a||0<=b.name.indexOf(a)}).map(function(a,b){return{'Resource Name':a.name,'Resource Type':H._initiatorType(a),'Load Time':Math.floor(a.duration),'Started Loading':H._isSpaTransition()?Math.floor(a.responseEnd- a.duration-d.navigationStart):Math.floor(a.responseEnd),'Yottaa Sequencing Type':H._sequencingType(a.name,b,l)}}).reduce(function(a,b){Object.keys(p).sort(function(a,b){return p[a]>p[b]}).forEach(function(d){0<p[d]&&b['Started Loading']>p[d]&&(a.push({'Resource Name':d,'Resource Type':'EVENT','Load Time':'---','Started Loading':p[d],'Yottaa Sequencing Type':'---'}),p[d]=Number.MAX_VALUE)});a.push(b);return a},[]))},storeLocalConfiguration:function(a){h.setCookie('yo-aftershock-config',JSON.stringify(a|| {}))},updateABTest:function(a,b){var d=r.get().testVariations;a=a||'A/B Testing';if(1==h.def(d)){var c=d.find(function(b){return b.testName==a});null==c?B('No test with the name of',a,'was found'):(1==h.def(b)?c.variationName=b:c.variationName='Optimized'==c.variationName?'Unoptimized':'Optimized',localStorage.setItem('rapid.testVariations',JSON.stringify(d)),B(a,'test variation name was set to',c.variationName,'Please refresh.'))}else B('No A/B Tests were enabled')},_sequencingType:function(a,b, d){b+=1;var c=za.config.delayed.filter(function(b){return b.src&&0<b.src.length?b.src==a:b.url==a});return 0==c.length||b<d.configResource?1==d.sa?'No Rule Applied':b<d.libraryResource?'No Library':b==d.libraryResource?'THE LIBRARY':b<d.configResource?'No Configuration':b==d.configResource?'THE CONFIGURATION':'No Rule Applied':1==c.length?c[0].orgDelayType:c.map(function(a){return a.orgDelayType}).join(',')},_resourceAppliedTo:function(a){var b=za.config.delayed.filter(function(b){return h.matchUrl(a, b.src)});return b?b.length:0},_initiatorType:function(a){if(0<=a.name.indexOf('/rapid/lib/'))return'RAPID LIBRARY';if(0<=a.name.indexOf('qoe-1.yottaa.net/log-nt/event'))return'RAPID RUM';if(0<=a.name.indexOf('/api/v1/configure.rapid.js'))return'RAPID CONFIG';var b=x.rum.webVitalsInfo;return b&&b.lcp&&null!=b.lcp.find(function(b){return a.name==b.url})?'LCP Trigger':a.initiatorType},_rapidInfo:function(){var a=x.rum;a={sa:h.def(a.yOptimizations)&&null!=a.yOptimizations,libraryResource:0,configResource:0}; for(var b=c.performance.getEntriesByType('resource'),d=0;d<b.length;d++){var e=b[d];0<=e.name.indexOf('/rapid/lib/')&&(a.libraryResource=d+1);0<=e.name.indexOf('/api/v1/configure.rapid.js')&&(a.configResource=d+1)}1==H._isSpaTransition()&&(a.libraryResource=1,a.configResource=1);return a},_rapidOutput:function(a){1==a.sa?B('Rapid was loaded via HTML using Edge'):1==H._isSpaTransition()?B('This is a SPA Transition page its assumed rapid was already running.'):(0==a.libraryResource?B('Rapid was NOT loaded via an external resource, assumed to be loaded via another resource'): B('Rapid was was %s resource to load',a.libraryResource),0==a.configResource?B('Rapid Configuration was NOT loaded via an external resource, assumed to be delivere through config caching'):B('Rapid Configuration %s resource to load',a.configResource))},_isSpaTransition:function(){var a=x.rum;return x.config.rum.spa&&a.pageCategory&&-1==a.pageCategory.toLowerCase().indexOf('clean')}};h.console=H;h.webWorker={initialize:function(a,b,d){if(!0===h.undef(c.Worker))return null;a=new Blob(['self.onmessage = ', a.toString()],{type:'application/javascript'});d=new Worker(URL.createObjectURL(a),d);d.onerror=function(a){A.utils.log('Web Worker Error: '+a.message)};d.onmessage=function(a){b(a)};return d}};var k=h;String.prototype.startsWith||(String.prototype.startsWith=function(a,b){return this.substr(b||0,a.length)===a});String.prototype.endsWith||(String.prototype.endsWith=function(a){return-1!==this.indexOf(a,this.length-a.length)});k.rewrite=function(a){var b=k.metaDataValue('resource.version'),d=k.metaDataValue('cdn.hostname'), c=k.metaDataValue('profile.id');return location.protocol+d+'/'+c+'/'+location.hostname+'/'+b+(0!=a.indexOf('/')?'/':'')+a};k.rewriteSrcSet=function(a,b){a=a.split(',');for(var d='',c=0;c<a.length;c++){var l=a[c].trim(),p=l.lastIndexOf(' '),g='';-1!=p&&(g=' '+l.substring(p).trim(),l=l.substring(0,p).trim());l=b(l,g);d+=l+g;c<a.length-1&&(d+=', ')}return d};k.select=function(a){var b;if(null==a||1==a.length)return null;if('document'==a)return document;if('window'==a)return c;if(k.def(a.nodeName))return a; if('.'==a[0])return a=document.getElementsByClassName(a.substring(1)),0<a.length?a[0]:null;if(-1!=(b=a.indexOf('['))){var d=a.substring(0,b),e=a.substring(b+1),l=e.indexOf(']'),p=e.indexOf('[');e=e.substring(0,l);var g,f=[],h=null;if(-1!=(g=e.indexOf('~')))l=2;else if(-1!=(g=e.indexOf('*')))l=1;else if(-1!=(g=e.indexOf('=')))l=0;else return null;if(-1!=p){p=a.substring(b+1+p+1);b=p.indexOf(']');try{p=parseInt(p.substring(0,b))}catch(mc){}}var m=e.substring(0,g);g=e.substring(g+1);2==l&&(h=new RegExp(g)); d=document.getElementsByTagName(d);for(b=0;b<d.length;b++){var n=0<m.length?d[b].getAttribute(m):d[b].innerHTML;0==l&&n==g?f.push(d[b]):1==l&&null!=n&&-1!=n.indexOf(g)?f.push(d[b]):2==l&&null!=n&&-1!=n.search(h)&&f.push(d[b])}k.log(a,e,m,g,0==f.length?f.length:f[0]);return-1!=p?p<f.length?f[p]:null:f[0]}'#'==a[0]&&(a=a.substring(1));return document.getElementById(a)};k.writeHTML=function(a,b,d){var c=document.createElement('div');c.innerHTML='string'===typeof b?b:b.innerHTML;for(b=c.childNodes;0< b.length;)if('script'==b[0].nodeName.toLowerCase())if(b[0].src)A.sequence.script(c.removeChild(b[0]).src).load();else try{eval(c.removeChild(b[0]).innerHTML)}catch(l){k.log(l)}else'insert'==d?a.parentNode.insertBefore(c.removeChild(b[0]),a):a.appendChild(c.removeChild(b[0]))};k.contains=document.documentElement.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)&16)}:document.documentElement.contains?function(a,b){return a!==b&&(a.contains?a.contains(b):!1)}:function(a,b){for(;b= b.parentNode;)if(b===a)return!0;return!1};k.updateHeadItemAttributes=function(a,b,d){0>a&&(document.cookie='yo-disable-instanton=true;Max-Age=2',c.location.reload(!0));a=document.documentElement.getElementsByTagName('head')[0].children[a];for(var e=0;e<b.length;e++)a.removeAttribute(b[e]);for(var l in d)a.setAttribute(l,d[l])};k.replaceHeadItemContent=function(a,b){0>a&&(document.cookie='yo-disable-instanton=true;Max-Age=2',c.location.reload(!0));document.documentElement.getElementsByTagName('head')[0].children[a].textContent= b};k.isIE=function(a){var b=navigator.userAgent;return b&&a&&11==parseInt(a)&&-1!=b.indexOf('rv:11')?!0:b&&a&&-1!=b.indexOf('MSIE '+a)?!0:b&&(-1!=b.indexOf('MSIE')||-1!=b.indexOf('rv:11'))};k.isIos=function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!c.MSStream};k.isAndroid=function(){return/Android/.test(navigator.userAgent)&&!c.MSStream};k.browser=function(){var a=navigator.userAgent,b=a.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if(/trident/i.test(b[1])){var d= /\brv[ :]+(\d+)/g.exec(a)||[];return{name:'IE',version:d[1]||''}}if('Chrome'===b[1]&&(d=a.match(/\bOPR|Edge\/(\d+)/),null!=d))return{name:'Opera',version:d[1]};b=b[2]?[b[1],b[2]]:[navigator.appName,navigator.appVersion,'-?'];null!=(d=a.match(/version\/(\d+)/i))&&b.splice(1,1,d[1]);return{name:b[0].toLowerCase(),version:parseInt(b[1])}};k.inArray=function(a,b,d){if(b){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(b,a,d);var c=b.length;for(d=d?0>d?Math.max(0,c+d):d:0;d<c;d++)if(d in b&&b[d]===a)return d}return-1};k.elementToString=function(a){try{if(a instanceof HTMLElement){var b='<'+a.nodeName.toLowerCase();if(a.getAttribute){var c=a.getAttribute('name'),e=a.getAttribute('id'),l=a.getAttribute('class');null!=c&&0<c.length&&(b+=' name="'+c+'"');null!=e&&0<e.length&&(b+=' id="'+e+'"');null!=l&&0<l.length&&(b+=' class="'+l+'"')}return b+' />'}return a.toString?a.toString():'[Object]'}catch(p){}};var bb=function(a){m.subscribe({topic:'sequence/beforeloading/'+this.key,callback:a, context:this});return this},cb=function(a){m.subscribe({topic:'sequence/afterloaded/'+this.key,callback:a,context:this});return this},ba={},M={},J=function(a,b,c){this.id='yo_write_'+Math.floor(1E9*Math.random());this.writeContent='';this.writeLocation=a;this.offScreenDom=null;this.delayed=c;this.domElement=b;this.scripts=[];k.log('creating WriteContext',this.id,this.domElement.src);J.prototype.getId=function(a){return this.id};J.prototype.collectDocumentWrite=function(a){this.writeContent+=a;k.log('write override', this.getId(),this.domElement.src,a)};J.prototype.addScript=function(a){this.scripts.push(a)};J.prototype.getWriteSelector=function(){return this.delayed.writeSelector};J.prototype.executeDeferredScripts=function(){for(var a=0;a<this.scripts.length;a++){var b=this.scripts[a],c=b.getAttribute('src');k.def(b.yo_src)&&(c=b.yo_src);A.sequence.script(c).none().writeLocation(b.yo_writeSelector).load()}};J.prototype.finalizeWriteOverride=function(){null==this.writeLocation?k.log('write location is null, content ignored', this.getId(),this.domElement.src):0<this.writeContent.length?(k.log('creating off screen DOM',this.getId(),this.domElement.src),this.offScreenDom=qa.createElement('div'),this.offScreenDom.innerHTML=this.writeContent):k.log('no content, just continue',this.getId(),this.domElement.src);this.continueWrite()};J.prototype.initialize=function(){var a=M[this.delayed.writeSelector];k.undef(a)&&(a=M[this.delayed.writeSelector]=[]);a.push(this);Ua=function(){var b=Array.prototype.slice.call(arguments,0,-1).join(''); 0<a.length&&a[a.length-1].collectDocumentWrite(b)}};J.prototype.insertContent=function(){for(;0<this.offScreenDom.childNodes.length;){var a=this.offScreenDom.childNodes[0],b=a.nodeName.toLowerCase();if('script'==b){b=a.getAttribute('language');if(null==b||'vbscript'!=b.toLowerCase()){M[this.delayed.writeSelector].push(this);try{this.offScreenDom.removeChild(a)}catch(p){}A.sequence.script(a.getAttribute('src')).none().writeLocation(this.delayed.writeSelector).load();return!1}try{eval(a.innerHTML), this.offScreenDom.removeChild(a)}catch(p){}this.writeLocation.parentNode.insertBefore(a,this.writeLocation)}else if('link'==b&&'stylesheet'==a.getAttribute('rel').toLowerCase()){document.getElementsByTagName('head')[0].appendChild(a);try{this.offScreenDom.removeChild(a)}catch(p){}}else this.writeLocation.parentNode.insertBefore(a,this.writeLocation)}this.offScreenDom.innerHTML='';return!0};J.prototype.continueWrite=function(){for(var a=M[this.delayed.writeSelector],b=a.pop();b;){k.log('Continue writing ', b.getId());if(b.offScreenDom&&0==b.insertContent())break;0==a.length&&b.executeDeferredScripts();b=a.pop()}}};ba.safeWriteInsert=function(a,b,c,e,l){if(1==Ob(a,b,c,e)){a:{try{1==k.def(a.yo_src)&&(1==k.isIE()?a.setAttribute('src',a.yo_src):a.src=a.yo_src);a.yo_processed=!0;var d='append'==l?c.yo_a(a):'appendChild'==l||c.contains&&0==c.contains(b)?c.yo_ac(a):c.yo_ib(a,b);break a}catch(ua){k.log('ERROR adding domElement into dom',a,ua)}d=void 0}return d}};ba.safeWriteEval=function(a,b,d,e,l){b=a;if(g.sequenceWrites&& k.def(e.writeLocation)){for(var p in M)0<M[p].length&&e.writeSelector!=M[p][0].getWriteSelector()&&k.def(e.writeSelector)&&(e.yo_writeSelector=e.writeSelector);k.def(e.writeSelector)&&k.def(e.writeSelector.nodeName)&&(e.writeSelector.id?e.writeSelector='#'+e.writeSelector.id:(p='yo_write_'+Math.floor(1E9*Math.random()),e.writeSelector.setAttribute('id',p),e.writeSelector='#'+p));p=k.select(e.writeSelector);null!=p&&(p=new J(p,{src:b},e),p.initialize(),e.write_context=p)}try{p=['<sc','ript>','</sc', 'ript>'];a=a.replace(p[0]+p[1],'').replace(p[2]+p[3],'');'gpt'==l&&(a='googletag.cmd.push(function() { googletag.pubads().enableSyncRendering = function(){}; '+a+'});');if(null!=e.before&&1==h.def(e.before.getAttribute)&&'module'==e.before.getAttribute('data-yo-type')){var f=document.createElement('script');for(l=0;l<g.scriptAttrs.length;l++){var m=g.scriptAttrs[l],n=e.before.getAttribute(m);null!=n&&f.setAttribute(m,n)}f.setAttribute('type','module');f.appendChild(document.createTextNode(a));e.before.parentNode.insertBefore(f, e.before)}else c.eval(a);g.sequenceWrites&&e.write_context.finalizeWriteOverride()}catch(wa){k.log('Error eval',wa)}};g.delayed=[];g.targets=[];var P=function(){this.executed=!1;this.cont=!0};P.prototype.afterLoaded=cb;P.prototype.beforeLoading=bb;P.prototype.execute=function(){return this.afterShock()};P.prototype.clone=function(){var a=new P,b;for(b in this)a[b]=this[b];return a};P.prototype.preventDefault=function(){this.cont=!1};P.prototype.key=null;P.prototype.isConfig=function(a){return this.delayType== a};P.prototype.afterShock=function(){var a=null;if(1!=this.loaded&&(this.delayType='none',this.loaded=!0,k.log('Injecting ',this.newNode,', by ',this.type,' into the DOM now.'),'attributesrc'!=this.type&&m.publish({topic:'sequence/beforeloading/'+this.key,message:this}),0!=this.cont)){var b=this.newNode,c=this.type,e=this.before;if('insertBefore'==c)a=ba.safeWriteInsert(b,e,this.me,this,c);else if('appendChild'==c)a=ba.safeWriteInsert(b,null,this.me,this,c);else if('append'==c)a=ba.safeWriteInsert(b, null,this.me,this,c);else if('replace'==c)this.me.replaceChild(b,e),m.publish({topic:'sequence/afterloaded/'+this.key,message:this});else if('attributesrc'==c)e.setAttribute('src',b.yo_src);else if('src'==c)k.def(this.animator)&&null!=this.animator?animator(e,this.animator):k.def(g.animator)&&animator(e,g.animator),c=e.getAttribute(g.pre+'srcset'),null!=c&&e.setAttribute('srcset',c),e.src=this.srcAttr;else if('style'==c)b.setAttribute('style',b.getAttribute(g.pre+'style'));else if('inner'==c)k.log(this.how+ ' -> '+b),'replace'==this.how?Ka(e,b):'eval'==this.how||'gpt'==this.how?a=ba.safeWriteEval(b,e,this.me,this,this.how):k.writeHTML(e,b,this.how),m.publish({persistent:!0,topic:'sequence/afterloaded/'+this.key,message:this});else if('function'==c)k.log(this.how+' -> '+b),e=this.func.apply(this.funcThis,this.funcParameters),m.publish({topic:'sequence/afterloaded/'+this.key,message:{delayed:this,retVal:e}});else if('xhr'==c){this.xhr.onreadystatechange&&(this.xhr.original_oonreadystatechange=this.xhr.onreadystatechange); var l=this;this.xhr.onreadystatechange=function(a){4==l.xhr.readyState&&m.publish({topic:'sequence/afterloaded/'+l.key,message:[a,this]});l.xhr.original_oonreadystatechange&&l.xhr.original_oonreadystatechange.apply(this)};this.xhr.xhr_send.apply(this.xhr,this.xhr._yo.send_args)}else{if('fetch'==c)return l=this,this.fetch.originalFetch.apply(this.fetch.self,this.fetch.args).then(function(a){m.publish({topic:'sequence/afterloaded/'+l.src,message:[a,b]});l.fetch.resolve&&l.fetch.resolve(a);return a})['catch'](function(a){l.fetch.reject&& l.fetch.reject(a);m.publish({topic:'sequence/afterloaded/'+l.src,message:[a,b]});return a});'image'==c&&this.loadImage(this)}Nb();return a}};_delayed=function(){return P};var da=function(a){var b=new (_delayed());'string'===typeof a&&0==a.indexOf('/')&&a.lastIndexOf('/')==a.length-1&&(a=new RegExp(a));b.key=b.url=a;b.match=!0;b.nodeName='resource';k.undef(g.resources)&&(g.resources=[]);for(var c=-1,e=0;e<g.resources.length;e++){var l=g.resources[e].url;if('string'===typeof a&&'string'===typeof l&& -1!=a.indexOf(l)||'string'!==typeof l&&'function'!==typeof l&&'string'===typeof a&&null!=a.match(l)){c=e;break}}b.writeLocation=function(a){this.writeSelector=a;return this};-1==c?g.resources.push(b):g.resources.splice(c,0,b);return b},Ua=null,Va=!1;m.subscribe({topic:'core/configure',callback:function(){mb(document)}});var K={},Wb=function(a,b,c,e,l){this._yo={open_args:arguments,async:!1===c?!1:!0};k.log('xhr open = '+b+', async '+c);m.publish({topic:'sequence/captured',message:this._yo});return this.xhr_open.apply(this, arguments)},Xb=function(a){if(k.undef(this._yo)||!0!==this._yo.async){m.publish({topic:'sequence/beforeloading/'+this._yo.open_args[1],message:{src:this._yo.open_args[1],nodeName:'xhr',args:this._yo.open_args}});var b=this.xhr_send.apply(this,arguments);m.publish({topic:'sequence/afterloaded/'+this._yo.open_args[1],message:{src:this._yo.open_args[1],nodeName:'xhr',args:this._yo.open_args}});return b}var c=this;b={src:this._yo.open_args[1],nodeName:'xhr'};if(0==Da(b,b,function(a,b){a=a.clone();a.type= 'xhr';a.xhr=c;a.src=b.src;a.newNode=b;g.delayed.push(a);1==g.afterShockLoaded&&a.execute()}))return k.log('xhr send is NOT deferred, '+b.src),this.xhr_send.apply(this,arguments);this._yo.send_args=arguments;var e=g.delayed[g.delayed.length-1];k.log('xhr send is deferred, ',b.src,', ',e.delayType,e.delayValue);return this},Yb=function(){if(k.undef(this._yo)||k.undef(this._yo.send_args)||!0!==this._yo.async)return this.xhr_abort.apply(this,arguments);k.log('Abort to the xhr object is called',' async true')}; if(k.def(c.fetch))var Zb=function(){k.log('fetch called ',arguments);m.publish({topic:'sequence/captured',message:{fetch_args:arguments}});var a=this,b={src:arguments[0].toString(),nodeName:'xhr'};if(0==Da(b,b,function(b,c){b=b.clone();b.type='fetch';b.xhr=a;b.src=c.src;b.newNode=c;g.delayed.push(b);1==g.afterShockLoaded&&b.execute()}))return k.log('fetch send is NOT deferred, ',b.src),K.originalFetch.apply(this,arguments).then(function(a){m.publish({topic:'sequence/afterloaded/'+b.src,message:[a, b]});return a})['catch'](function(a){m.publish({topic:'sequence/afterloaded/'+b.src,message:[a,b]});return a});var c=g.delayed[g.delayed.length-1];c.fetch={args:arguments,originalFetch:K.originalFetch,self:this};c.fetch.promise=new Promise(function(a,b){c.fetch.resolve=a;c.fetch.reject=b;k.log('Promise for delayed fetch call',c)});k.log('fetch is deferred, ',b.src,c.delayType,c.delayValue);return c.fetch.promise};K.create=function(a){1!=g.sequenceXHR&&A.configure({sequenceXHR:!0});a=da(a);a.nodeName= 'xhr';a.rewrite=function(a){this.afterLoaded(function(b){k.log('Begging to rewrite data for ajax call.');try{if(!(2>b.length)){var c=b[1],d=null,g=this;if('text'==c.responseType||''==c.responseType)d=c.responseText,d=a.call(this,d);else if('json'==c.responseType)d=JSON.stringify(c.response),d=a.call(this,d);else if('blob'==c.responseType){console.log('blob response',c.response);var f=c.onload;f&&(c.onload=null);var h=new FileReader;h.addEventListener('load',function(){g.blobText=a.call(g,h.result); f.call(c)});h.readAsText(c.response)}else return;Object.defineProperty&&(Object.defineProperty(c,'responseText',{get:function(){return d}}),Object.defineProperty(c,'response',{get:function(){return'json'==this.responseType?JSON.parse(d):'blob'==this.responseType?new Blob([g.blobText],{type:'application/json'}):d}}))}}catch(Qb){k.log('Error in rewrite handling',Qb)}})};return a};K.captureMethods=function(a){1==k.undef(a.XMLHttpRequest.prototype.xhr_open)&&(a.XMLHttpRequest.prototype.xhr_open=a.XMLHttpRequest.prototype.open, a.XMLHttpRequest.prototype.xhr_send=a.XMLHttpRequest.prototype.send,a.XMLHttpRequest.prototype.xhr_abort=a.XMLHttpRequest.prototype.abort,1==k.def(a.fetch)&&(K.originalFetch=a.fetch))};K.overrideMethods=function(a){a.XMLHttpRequest.prototype.open=Wb;a.XMLHttpRequest.prototype.send=Xb;a.XMLHttpRequest.prototype.abort=Yb;1==k.def(a.fetch)&&(a.fetch=function(){var a=this,c=arguments;return $yojscomp.asyncExecutePromiseGeneratorProgram(function(b){return b.return(Zb.apply(a,c))})})};K.captureMethods(c); m.subscribe({topic:'core/configure',callback:function(){1==g.sequenceXHR&&1==k.def(XMLHttpRequest)&&K.overrideMethods(c)}});_findTags=function(a,b){var c=document.getElementsByTagName(a);k.log('Find all '+a+' tags in the document.');for(var e=0,l=c.length;e<l;e+=1){var p=c[e];if(!0===b){var f=p.getAttribute(g.pre+'delayType');null==f||'defer'!=f&&'lazy'!=f||(p.setAttribute(g.pre+'delayType','none'),p.setAttribute(g.pre+'delayValue',''));f=p.getAttribute('type');null!=f&&(-1<f.indexOf('yo/sequence/defer')|| -1<f.indexOf('yo/sequence/lazy'))&&p.setAttribute('type','yo/sequence/none/')}if('true'!==p.getAttribute(g.pre+'loaded')){f=_srcAttr(p);var h=p.getAttribute(g.pre+'style');f?(k.log('Found src ',a,', src = '+f+' tag to handle with AfterShocK.'),A.sequence.content(p).load()):'script'==a?(f=p.getAttribute('type'),p.getAttribute(g.pre+'src'),f&&-1<f.indexOf('yo/sequence')?(k.log('Found a '+a+', yo/sequence tag to handle with AfterShocK.'),A.sequence.content(p).load()):'yo/abtest'==f&&_abTestScript(p)): h&&(k.log('Found style ',a,', src = '+f+' tag to handle with AfterShocK.'),p=A.sequence.content(p),p.type='style',p.before=p.newNode,p.load())}}};_srcAttr=function(a){for(var b=0;b<g.srcAttrs.length;b++){var c=a.getAttribute(g.srcAttrs[b]);if(null!=c)return c}return(c=a.getAttribute('src'))&&'data:image/cloaked;plain,'==c.slice(0,25)?c.substring(25):null};_needsEval=function(a){var b=a.getAttribute('type');return'SCRIPT'==a.nodeName.toUpperCase()&&null==a.getAttribute('src')&&null!=b&&0<=b.indexOf('chain')}; _loadFromDOM=function(a){a='string'===typeof a?k.select(a):a;var b=content=k.select(a.getAttribute(g.pre+'location')),d=a.getAttribute(g.pre+'how'),e=new (_delayed()),l=a.nodeName.toLowerCase(),f=a;'eval'==d||'gpt'==d?(content=a.innerHTML,e=A.sequence.script(content)):1==_needsEval(a)?(content=a.innerHTML,d='eval',e=A.sequence.script(content)):null==d&&(d='replace');var h=a.getAttribute(g.pre+'key');null!=h&&(e.key=h);var m=a.getAttribute(g.pre+'delayType'),n=a.getAttribute(g.pre+'delayValue'),q= _srcAttr(a),t=q&&0<q.length?'src':'inner',r=a.getAttribute(g.pre+'animator'),u=a.getAttribute(g.pre+'onbefore');null!=u&&k.isFunction(c[u])&&e.beforeLoading(c[u]);var v=a.getAttribute(g.pre+'onLoad');null!=v&&k.isFunction(c[v])&&e.afterLoaded(c[v]);null==content&&(content=a,d='insert');a.setAttribute(g.pre+'loaded','true');if(-1===k.inArray(a,g.targets)){e.animator=r;if('img'==l||'source'==l||'picture'==l)null==m&&(m='lazy'),null==b&&(b=a);else if('script'==l){l=a.getAttribute('type');null!=l&&(l= l.split('/'),2<l.length&&(m=l[2],n=l[3]));l=a.getAttribute(g.pre+'writeLocation');e.writeSelector=l||a;r=q;null==r&&'chain'==m&&(r=a.getAttribute('src'));if(null!=r){null==m&&(m='none');b={};for(d=0;d<g.scriptAttrs.length;d++)e=g.scriptAttrs[d],b[e]=a.getAttribute(e);d=a.getAttribute(g.pre+'type');null!=d&&(b.type=d);e=A.sequence.script(r,b)[m](n);null!=h&&(e.key=h);null!=u&&k.isFunction(c[u])&&e.beforeLoading(c[u]);null!=v&&k.isFunction(c[v])&&e.afterLoaded(c[v]);e.writeLocation(l||a);e.src=r;e.me= a;e.load();return e}null==b&&(b=a)}null==m&&(m='none');1==k.contains(document.documentElement,a)&&a.setAttribute(g.pre+'loaded','true');e[m](n);e.before=b;e.me=f;e.type=t;e.srcAttr=q;e.how=d;e.match=!1;e.newNode='eval'==d||'gpt'==d?content:a;e.key||(e.key=e.srcAttr);return e}};m.subscribe({topic:'core/load',callback:function(){A.sequence.scanTags(!1)}});var ra={},N={},ka=!1,db=null,zb=[],$b=function(a,b){var d='on'+b.toLowerCase();if(!k.def(N[d])&&(N[d]={object:a,name:b,event:null,propertySets:[], listeners:[],stacks:[]},k.addEvent(a,b,function(c){var d=N['on'+b.toLowerCase()];d.event=c;navigator.userAgent.match(/MSIE /)&&(d.event={type:c.type});!a.yo_addEventListener&&a.addEventListener&&(a.yo_addEventListener=a.addEventListener,a.addEventListener=qb(!0));!a.yo_attachEvent&&a.attachEvent&&(a.yo_attachEvent=a.attachEvent,a.attachEvent=qb(!1))}),Object.defineProperty&&'load'==b))try{Object.defineProperty(c,'onload',{set:function(a){try{k.log('loadEventSequencing: defineProperty window.onload', ka),0==ka?a.call(c,N.onload.event):(N.onload.propertySets.push(a),N.onload.stacks.push(Error().stack))}catch(l){k.log('loadEventSequencing: Overridden onload threw an exception',l)}}})}catch(e){k.log('loadEventSequencing: onload property event handler threw exception',e)}};_clearEvents=function(a){1==k.def(a.yo_addEventListener)&&(a.addEventListener=a.yo_addEventListener,delete a.yo_addEventListener);1==k.def(a.yo_attachEvent)&&(a.attachEvent=a.yo_attachEvent,delete a.yo_attachEvent)};ra.loadEvents= function(a,b){1==k.undef(a)&&(a=[{eventName:'DOMContentLoaded',eventObject:document},{eventName:'load',eventObject:c}]);1==k.def(b)&&(ka=b);for(b=0;b<a.length;b++)$b(a[b].eventObject,a[b].eventName)};ra.clearEvents=function(){for(var a=[c,document],b=0;b<a.length;b++)_clearEvents(a[b])};ra.fireLoadEvents=function(){if(1==ka){ka=!1;k.log('loadEventSequencing: fireLoadEvents was called will loop through all the events',N);for(var a in N){var b=N[a];if(b){for(var d=0;d<b.propertySets.length;d++)try{k.log('loadEventSequencing: Firing propertySets via fireLoadEvents', b),b.propertySets[d].call(c,b.event)}catch(e){k.log('loadEventSequencing: Exception for the property set listener',b,e)}for(d=0;d<b.listeners.length;d++)try{k.log('loadEventSequencing: Firing listeners via fireLoadEvents',b),b.listeners[d].call(b.object||c,b.event)}catch(e){k.log('loadEventSequencing: Exception for the event listener',b,e)}}}}};ra.jQueryEvents=function(a,b){db=$.fn.ready;$.fn.ready=function(){k.log('sequencejQueryEvents $.fn.ready',arguments,this);var a=Array.prototype.slice.call(arguments); if(0<this.length&&9===this[0].nodeType)zb.push({self:this,args:a});else return oldReady.apply(this,a)}};ra.firejQueryEvents=function(){k.log('sequencejQueryEvents $.fn.ready',arguments,this);1==Yo.utils.def(db)&&($.fn.ready=db);zb.forEach(function(a){$(document).ready(a.args[0])});1==k.def(c.$)&&1==k.def($.prototype.on)&&$(c).trigger('load')};var Ha=null,Ab=function(a){1==h.def(a.delayType)&&(a.tempImage=new Ha,0==h.def(a.orgOnLoad)&&(a.orgOnLoad=a.image.onload),a.image.onload=null,a.tempImage.onload= function(b){null!=a.orgOnLoad&&a.orgOnLoad.call(a.image,b);m.publish({topic:'sequence/afterloaded/'+a.key,message:arguments})},0==h.def(a.orgOnError)&&(a.orgOnError=a.image.onerror),a.image.onerror=null,a.tempImage.onerror=function(b){a.orgOnError&&a.orgOnError.call(a.image,b);m.publish({topic:'sequence/afterloaded/'+a.key,message:arguments})},m.publish({topic:'sequence/beforeloading/'+a.key,message:arguments}));0==a.webWorkerCallback?(a.tempImage.src=a.src,a.image.setAttribute('src',a.src)):ac(a.src, function(a,c){a=URL.createObjectURL(a.data.blob);c.image.setAttribute('src',a);m.publish({topic:'sequence/afterloaded/'+c.key,message:c})},a)},bc=function(a,b,c){this.yo_src=a;Yo.utils.log('Overloaded image src being set',a);a={src:a,key:a.toLowerCase()};m.publish({topic:'sequence/captured',message:a});var d={src:a.src,key:a.key,nodeName:'image'};nodeConfig=xa(d);var l=nodeConfig.clone();l.type='image';l.nodeName='image';l.src=d.src;l.image=b;l.newNode=d;g.delayed.push(l);l.loadImage=Ab;1==g.afterShockLoaded&& l.execute();a.image=c||b;'none'==nodeConfig.delayType&&Ab(a)},cc=function(){null==Ha&&(Ha=Image,Image=function(){var a=new Ha;try{Object.defineProperty(a,'src',{set:function(b){bc(b,this,a)},get:function(){return this.yo_src?this.yo_src:''}})}catch(b){k.log(b)}return a})},eb=null,fb={},ac=function(a,b,c){try{null===eb&&(eb=h.webWorker.initialize(function(a){var b,c,d;return $yojscomp.asyncExecutePromiseGeneratorProgram(function(e){if(1==e.nextAddress)return b=a.data.imageUrl,!0===a.data.log&&console.log('Loading image via a web worker', b),e.yield(fetch(b,a.data.fetchOptions),2);if(3!=e.nextAddress)return c=e.yieldResult,e.yield(c.blob(),3);d=e.yieldResult;!0===a.data.log&&console.log('Image finished loading and now posting message back',b);self.postMessage({imageURL:b,uuid:a.data.uuid,blob:d});e.jumpToEnd()})},function(a){b(a,fb[a.data.uuid].delayedObject);delete fb[a.data.uuid]},{name:'yottaa-image-manager'}));var d=h.uuid();fb[d]={delayedObject:c,imageUrl:a};eb.postMessage({uuid:d,imageUrl:a,log:g.log,fetchOptions:c.fetchOptions})}catch(l){h.log('Error creating image web worker', l)}};m.subscribe({topic:'core/configure',callback:function(){1==g.sequenceImage&&cc()}});m.subscribe({topic:'core/load',callback:function(){}});_delayed().prototype.defer=function(a){this.orgDelayType=this.delayType='defer';this.delayValue=a;if(1==k.isIE()&&0==g.optimizeIE)return k.log('Override defer on IE',this.url),this.none();this.execute=function(){if(0!=g.afterShockLoaded&&1!=this.executed){this.executed=!0;k.log('Loading ',this.newNode,' via timer event. It will load in ',this.delayValue); var a=this;aa(function(){a.afterShock()},1*this.delayValue);return this}};return this};_delayed().prototype.event=function(a){this.orgDelayType=this.delayType='event';this.delayValue=a;this.execute=function(){if(0!=g.afterShockLoaded&&1!=this.executed){this.executed=!0;k.log('Event handling '+(this.before?this.before.src:'no object')+' '+this.delayValue);var a=this.delayValue.split(' '),c=a[0].toLowerCase(),e=this;if('beforeloading'==c||'afterloaded'==c){a=a[1];if('#adjacent'==a)return this.defer(0); m.subscribe({topic:'sequence/'+c+'/'+a,context:this,callback:function(a){k.log('Loading '+(this.before?this.before.src:'no object')+' via event handler '+this.delayValue);e.afterShock()}})}else'pubsub'==c?(a=a[1],m.subscribe({topic:a,context:this,callback:function(a){k.log('Loading '+(this.before?this.before.src:'no object')+' via pubsub handler '+this.delayValue);e.afterShock()}})):Rb(k.select(a[1]),a,this);return this}};return this};m.subscribe({topic:'core/load',callback:function(){}});var ea= {},Y={top:0-g.offset,left:0-g.offset,height:0,width:0,right:0,bottom:0},Bb=function(a){a=a.getBoundingClientRect();k.undef(a.width)&&(a={top:a.top,left:a.left,right:a.right,bottom:a.bottom,width:a.right-a.left,height:a.bottom-a.top});return a},Cb,Db;document.defaultView&&document.defaultView.getComputedStyle&&(Cb=function(a,b){var c;if(c=a.ownerDocument.defaultView){if(c=c.getComputedStyle(a,null)){var e=c.getPropertyValue(b);''!==e||k.contains(a.ownerDocument.documentElement,a)||(e=a.style[b])}return e}}); document.documentElement.currentStyle&&(Db=function(a,b){a=a.currentStyle&&a.currentStyle[b];return''===a?'auto':a});var gb=Cb||Db;document.getElementsByClassName||(document.getElementsByClassName=function(a){return this.querySelectorAll('.'+a)});ea.scrollHandler=function(a){if(1==k.undef(document.body)||null==document.body)return!0;Y.height=c.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;Y.bottom=Y.height;Y.width=c.innerWidth||document.documentElement.clientWidth|| document.body.clientWidth;Y.right=Y.width;if(k.undef(document.documentElement.getBoundingClientRect))return!0;for(var b=a=0;b<g.delayed.length;b++)if(g.delayed[b].isConfig('lazy')){var d=b,e=g.delayed[d],l=e.delayValue;if('string'===typeof l)l=k.select(l);else if(null==l||k.def(l))l=e.before;if(null!=l&&(l&&'SOURCE'==l.nodeName&&(l=l.parentNode),1==k.contains(document.documentElement,l))){var f=Bb(l);if(0==(null!=g.intervalID&&k.def(l.getBoundingClientRect))&&f.top<Y.height+g.offset)k.log('showIfVisible is visible ', d,', ',l),g.delayed[d].afterShock();else{if(e=1==(null!=g.intervalID&&k.def(l.getBoundingClientRect)))if(e=(!g.lazyCheckSize||0<f.width&&0<f.height)&&1==rb(f,Y)){b:{e=l;for(var h=e.parentNode;null!=h&&1==h.nodeType;){var m=gb(h,'overflow');if(m&&'hidden'==m.toLowerCase())e.yo_clipped=h;else if(0==gb(h,'opacity')||'none'==gb(h,'display')){e=!1;break b}h=h.parentNode}1==k.undef(e.yo_clipped)&&(e.yo_clipped=!1);e=0!=e.yo_clipped?rb(f,Bb(e.yo_clipped)):!0}e=1==e}e&&(k.log('showIfVisible is visible ', d,', ',l),g.delayed[d].afterShock())}}a++}};ea.delayed=function(a){this.orgDelayType=this.delayType='lazy';this.delayValue=a;this.execute=function(a){return this};return this};var Eb=function(a,b){var c=0;return function(){var d=+new Date;d-c<b||(c=d,a.apply(this,arguments))}}(ea.scrollHandler,20);k.addEvent(c,'scroll',Eb);k.addEvent(c,'resize',Eb);m.subscribe({topic:'core/load',callback:function(){ea.scrollHandler()}});_delayed().prototype.lazy=ea.delayed;m.subscribe({topic:'core/configure',callback:function(a){0< a.lazyTimer&&null==g.intervalID&&(g.intervalID=sb(ea.scrollHandler,a.lazyTimer))}});_delayed().prototype.none=function(){this.orgDelayType=this.delayType='none';this.execute=function(){return this.afterShock()};return this};_delayed().prototype.remove=function(a,b,c){var d=!1,l='yostore'+k.metaDataValue('resource.version')+this.key;this.delayValue=a;k.undef(a)||'always'==a?(d=!0,this.delayValue='always'):'session'==a?sessionStorage&&'true'==sessionStorage.getItem(l)?d=!0:sessionStorage&&sessionStorage.setItem(l, 'true'):'visitor'==a&&(localStorage&&'true'==localStorage.getItem(l)?d=!0:localStorage&&localStorage.setItem(l,'true'));if(1==d)this.orgDelayType=this.delayType='remove',this.execute=function(){return this};else this[b](c);return this};var hb=null,dc=function(a,b){var c=k.select(b);hb=new MutationObserver(function(c){for(var d=!1,e=0;e<c.length;e++){var g=c[e];if('attributes'==g.type&&'observe.attributes'==a.delayType||'observe.all'==a.delayType)if(k.log('The '+g.attributeName+' attribute was modified for ', b),'all'==a.delayValue){d=!0;break}else{if(g.attributeName==a.delayValue){d=!0;break}}else if('childList'==g.type&&'observe.children'==a.delayType||'observe.all'==a.delayType)if(k.log('A child node has been added or removed for',b),'all'==a.delayValue){d=!0;break}else if(0<g.addedNodes.length&&'added'==a.delayValue){d=!0;break}else if(0<g.removedNodes.length&&'removed'==a.delayValue){d=!0;break}}1==d&&(a.afterShock(),hb.disconnect())});hb.observe(c,{attributes:!0,childList:!0})};_delayed().prototype.observe= function(a,b,c){this.orgDelayType=this.delayType='observe.'+b;this.delayValue=c?c:'all';if('undefined'===typeof MutationObserver)return k.log('Override defer on IE',this.url),this.none();this.execute=function(){if(0!=g.afterShockLoaded&&1!=this.executed)return this.executed=!0,k.log('Loading ',this.newNode,' via observer. It will loaded when ',a,'changes',b),dc(this,a),this};return this};_delayed().prototype.firstInput=function(a,b){return this.webvitals('first-input',a,b)};_delayed().prototype.largestContentfulPaint= function(a,b){return this.webvitals('largest-contentful-paint',a,b)};_delayed().prototype.timeToInteractive=function(a,b){return this.webvitals('time-to-interactive',a,b)};var ec=function(){var a=k.calculateTti();0<a&&(clearInterval(g.ttiWatcherIntervalID),m.publish({topic:'web-vitals/time-to-interactive',persistent:!0,message:{time:a}}))};_delayed().prototype.webvitals=function(a,b,c){this.delayType=this.orgDelayType=a;this.delayValue=[a,b];0==k.hasWebVitals()?(k.log('webvitals fallback for ',this.url), this.defer(b?b:1E3)):this.execute=function(){var a=this;this.executed=!0;m.subscribe({topic:'web-vitals/'+this.orgDelayType,callback:function(d,e){e=!0;c&&(e=c(d));e&&(g.afterShockLoaded?a.afterShock():a.defer(b?b:0))}});'time-to-interactive'==this.orgDelayType&&(0<g.ttiWatcherInterval&&null==g.ttiWatcherIntervalID&&(g.ttiWatcherIntervalID=sb(ec,g.ttiWatcherInterval)),a.defer(b?b:1E3));0==k.hasWebVitals()&&(k.log('webvitals fallback for ',this.url),a.defer(b?b:1E3))};return this};_delayed().prototype.spa= function(a){if(a)return this[a]();var b=this;this.event('pubsub rum/spa/rendered');m.subscribe({topic:'rum/spa/transition/start',callback:function(a,c){b.event('pubsub rum/spa/rendered')}});m.subscribe({topic:'rum/spa/rendered',callback:function(a,c){b.none()}})};_delayed().prototype.startTransition=function(a){this.orgDelayType=this.delayType='startTransition';this.delayValue=a;this.execute=function(){var a=this;this.executed=!0;m.subscribe({topic:'rum/spa/transition/start',callback:function(b,c){(k.undef(a.delayValue)|| 0<=(b.pageType+'-'+b.viewType).indexOf(a.delayValue))&&a.afterShock()}});return this};return this};_delayed().prototype.finishedRendering=function(a){this.orgDelayType=this.delayType='finishedRendering';this.delayValue=a;this.execute=function(){var a=this;this.executed=!0;m.subscribe({topic:'rum/spa/rendered',callback:function(b,c){(k.undef(a.delayValue)||0<=(b.pageType+'-'+b.viewType).indexOf(a.delayValue))&&a.afterShock()}});return this};return this};var Fb=!1,Gb=!1,Q=function(){0==Gb&&(m.publish({topic:'sequencing/user/first', async:!1,persistent:!0,message:{}}),k.removeEvent(document,'mousemove',Q),k.removeEvent(document,'scroll',Q),k.removeEvent(document,'keydown',Q),k.removeEvent(document,'click',Q),k.removeEvent(document,'touchstart',Q),Gb=!0)};_delayed().prototype.firstInteraction=function(a,b){this.orgDelayType=this.delayType='firstInteraction';this.delayValue=[a,b];this.execute=function(){var c=this;this.executed=!0;m.subscribe({topic:'sequencing/user/first',callback:function(d,l){1!=a||g.afterShockLoaded?c.afterShock(): c.defer(b?b:0)}})};return this};0==Fb&&(Fb=!0,k.addEvent(document,'mousemove',Q),k.addEvent(document,'scroll',Q),k.addEvent(document,'keydown',Q),k.addEvent(document,'click',Q),k.addEvent(document,'touchstart',Q));var Ia={};g.chaining={};_lastChainedResource=function(a,b){var c=Ia[a];if(1==k.undef(c))return Ia[a]=[b],null;c.push(b);return c[c.length-2]};m.subscribe({topic:'core/load',callback:function(){}});_delayed().prototype.chain=function(a){this.orgDelayType=this.delayType='chain';this.chainId= this.delayValue=a;if(1==k.undef(this.before))return this;if(1==k.isIE()&&0==g.optimizeIE)return k.log('Override defer on IE',this.url),this.none();var b=_lastChainedResource(a,this);this.chainIndex=null==b?0:b.chainIndex+1;this.key='chained-resource-'+a+'-'+this.chainIndex;this.beforeLoading(function(a){1==k.undef(a.writeSelector)&&(a.writeSelector=a.domElement||a.me);1==k.def(a.writeSelector)&&(a.writeSelector.id&&''!=a.writeSelector.id?a.writeSelector='#'+a.writeSelector.id:a.writeSelector.setAttribute&& (a.writeSelector.setAttribute('id',a.key),a.writeSelector='#'+a.key),0==g.sequenceWrites&&(g.sequenceWrites=!0,A.sequence.document(document)));var b=g.chaining[a.chainId];b&&0==a.chainIndex&&!0!==b.started&&(b.started=!0,m.publish({topic:'sequence/chain/'+a.chainId+'/starting',message:{id:a.key,config:b,resources:Ia[a.chainId]}}))});if(null==b){var c=g.chaining[a];1==k.def(c)?c(this):this.defer(10);g.chaining[a]={started:!1,resources:[]}}else this.execute=function(){this.key='chained-resource-'+a+ '-'+this.chainIndex;this.before&&this.before.src&&(this.key+='/'+this.before.src);this.executed=!0;var c=this;m.subscribe({topic:'sequence/afterloaded/'+b.key,context:this,callback:function(a){k.log('Loading chained resource',a);c.afterShock()}});this.afterLoaded(function(a){var b=g.chaining[a.chainId],c=Ia[a.chainId];c&&a.chainIndex==c[c.length-1].chainIndex&&!0!==b.finished&&(b.finished=!0,m.publish({topic:'sequence/chain/'+a.chainId+'/finished',message:{id:a.chainId,config:b,resources:c}}))})}; return this};var Aa={},fa=null;_isImageLike=function(a){return-1!='imgpicturesourceiframe'.indexOf(a)};var fc=function(a,b){for(var c=g.scan.length,e=0;e<c;e++)if(g.scan[e]===b){var l=a.getAttribute('src'),f={domElement:a,src:''!=a.src?l:a.textContent,nodeName:'dom'};Da(f,f,function(c,d){c=c.clone();c.type='dom';c.src=l;c.newNode=d;g.delayed.push(c);'script'==b&&(d=a.getAttribute('type')||'text/javascript',a.setAttribute(g.pre+'type',d),a.type='yo/sequence/'+c.delayType+'/'+c.delayValue,''!=a.src? (a.setAttribute(g.pre+'src',a.src),a.src=''):a.setAttribute(g.pre+'how','eval'))})}},Hb=function(a){'none'===a&&null!==fa?(fa.disconnect(),fa=null):'none'!==a&&'undefined'!==typeof MutationObserver&&null==fa&&(fa=new MutationObserver(function(a){for(var b=0;b<a.length;b++)for(var c=a[b].addedNodes,l=0;l<c.length;l++){var f=c[l];if(f.nodeType===Node.ELEMENT_NODE){var h=f.nodeName.toLowerCase();if('body'===h)C.node(f),'top'===g.scrapeLevel&&fa.disconnect();else if('sequencing'===g.scrapeLevel&&(null== f.type||f.type.indexOf&&-1==f.type.indexOf('yo/sequence')))try{fc(f,h)}catch(va){k.log('Exception _sequenceScraping',va)}}}}),fa.observe(document,{childList:!0,subtree:!0,attributes:!1,characterData:!1}))};Hb(g.scrapeLevel);m.subscribe({topic:'core/configure',callback:function(a,b){Xa();Hb(a.scrapeLevel)}});Aa.createElement=function(a){a.yo_createElement||(a.yo_createElement=a.createElement,a.createElement=function(b){var c=a.yo_createElement(b),e=b.toLowerCase();k.log('_sequencing.createElement', c,b);if(('iframe'==e||'script'==e)&&1==k.undef(c.yo_src_override)){c.yo_src_override=!0;try{Object.defineProperty(c,'src',{set:function(a){if(this.yo_src=a)if(k.log('Object.src',a),nodeConfig=xa(this),null!=nodeConfig&&'none'!=nodeConfig.delayType){if(a=nodeConfig.clone(),a.type='attributesrc',a.newNode=this,a.before=this,a.me=this,g.delayed.push(a),domCompleteTriggered)return a.execute()}else this.setAttribute('src',a)},get:function(){return this.yo_src?this.yo_src:''}})}catch(l){k.log(l)}}return c})}; Aa.create=function(a){var b=null;if(1===arguments.length)b=da(a);else if(2===arguments.length){var c=arguments[0],e=arguments[1];b=da(function(a){if('dom'==a.nodeName&&a.domElement.src&&0<a.domElement.src.length){var b=!1,d=!1;null!=c&&(b=null!=a.domElement.src.match(c));null!=e&&(d=null!=a.domElement.src.match(e));if(1==b&&1==d)return Yo.utils.log('This node was both excluded and include. It will be excluded - ',a),!1;Yo.utils.log('Included - ',b,'Excluded - ',d,' - ',a);return d?!d:b}Yo.utils.log('NODE => bypass nothing to do ', a);return!1})}'sequencing'!=g.scrapeLevel&&A.configure({scrapeLevel:'sequencing'});b.nodeName='dom';return b};1==k.isIE()&&1==g.optimizeIE&&Aa.createElement(document);m.subscribe({topic:'core/load',callback:function(){}});_delayed().prototype.alwaysBefore=function(a){this.alwaysBefore=a;if(1==k.isIE()&&0==g.optimizeIE)return k.log('Override defer on IE',this.url),this.none();var b=this.execute;this.execute=function(){1==k.def(b)&&b.call(this);if(0!=g.afterShockLoaded&&1!=this.alwaysBeforeExecuted){this.alwaysBeforeExecuted= !0;k.log('Loading ',this.newNode,' via alwaysBefore timer event. It will load in ',this.alwaysBefore);var a=this;aa(function(){a.afterShock()},1*this.alwaysBefore);return this}};return this};var C={};domCompleteTriggered=!1;C.node=function(a){if(a=k.select(a))a.yo_ac=k.def(a.yo_ac)?a.yo_ac:a.appendChild,a.yo_ib=k.def(a.yo_ib)?a.yo_ib:a.insertBefore,a.yo_a=k.def(a.yo_a)?a.yo_a:a.append,a.appendChild=Tb,a.append=Ub,a.insertBefore=Sb};C.clearNode=function(a){k.def(a.yo_ib)&&(a.insertBefore=a.yo_ib); k.def(a.yo_ac)&&(a.appendChild=a.yo_ac);k.def(a.yo_a)&&(a.append=a.yo_a)};C.addScanner=function(a){g.scan||(g.scan=[]);-1===k.inArray(a,g.scan)&&g.scan.push(a)};C.displayNow=function(a){!0===a&&'active'==A.rum.get().optState&&(a=!1);k.log('Handle the display of all visible tags up to now.');C.scanTags(!0,a);ea.scrollHandler({})};C.createTimer=function(a,b){Yo.configure({lazyTimer:a});b&&Yo.configure({lazyCheckSize:b})};C.resource=da;C.script=function(a,b,c){var d=da(a);1==k.isFunction(a)?(d.src='[object Function]'+ a.name,d.key=c||'[object Function]'+a.name,d.func=a):(d.src=a,d.newNode=a,1==k.def(c)&&(d.key=c));1==k.undef(b)&&(b={});d.before={src:a,attributes:b};d.load=function(a){var c=document.createElement('script');c.type='text/javascript';b.async=!0;for(var d in b)null!=b[d]&&c.setAttribute(d,b[d]);c.yo_src=this.url;(a||document.getElementsByTagName('script')[0].parentNode).appendChild(c);return this};d.eval=function(){g.delayed.push(this);this.how='eval';this.type='inner';this.execute();return this};d.apply= function(a,b){g.delayed.push(this);this.how='apply';this.type='function';this.funcThis=a;this.funcParameters=b;this.execute();return this};d.writeLocation=function(a){this.writeSelector=a;return this};return d};C.xhr=K.create;C.content=function(a){var b=_loadFromDOM(a);m.publish({topic:'sequence/captured',message:{delayed:b,location:a}});b.load=function(){k.log('Sequence a script = ',a,', type '+this.type);null==this.delayType||'none'==this.delayType?k.log('Content found that needs to be loaded immediately'): k.log('Content found that needs to be sequenced',this.delayType,this.delayValue);this.execute(g.delayed.length-1);g.delayed.push(this)};return b};C.event=ra;C.image=function(a){1!=g.sequenceImage&&A.configure({sequenceImage:!0});var b=da(a);b.nodeName='image';b.webWorkerCallback=!1;b.webWorker=function(a,c){b.webWorkerCallback=c||!0;b.webWorkerFetchOptions=a;return b};return b};C.dom=Aa.create;C.createElement=Aa.createElement;C.scanTags=function(a,b){if(g.scan){for(var c=0,e=g.scan.length;c<e;c++)_findTags(g.scan[c], b);!0!==a&&(g.scan=[])}};C.cloakImages=function(a,b){if(1!=k.undef(c.btoa))for(var d=0,e=a.length;d<e;d+=1){var l=a[d],f=document.getElementsByTagName(l);k.log('Cloak '+l);for(var g=0,h=f.length;g<h;g+=1)for(var m=f[g],n=0,q=b.length;n<q;n+=1){var r=b[n],t=m.getAttribute(r);null!=t&&(k.log('Cloak '+l,r,t),m.setAttribute(r,'data:image/cloaked;base64,'+btoa(t)))}}};C.document=mb;C.captureMethods=K.captureMethods;C.overrideMethods=K.overrideMethods;var Ib=document.getElementsByTagName('script');0<Ib.length&& C.node(Ib[0].parentNode);C.node(document.getElementsByTagName('head')[0]);var ib=document.getElementsByTagName('body');null!=ib&&0<ib.length&&C.node(ib[0]);k.addEvent(document,'readystatechange',function(a){'interactive'===document.readyState&&(k.log('readystatechange is document.interactive, calling displayNow'),'unknown'!==A.rum.get().optState&&C.displayNow(!0))});m.subscribe({topic:'core/start',callback:function(){Xa()}});m.subscribe({topic:'core/configure',callback:function(a,b){Xa()}});m.subscribe({topic:'core/load', callback:function(){domCompleteTriggered=!0;for(var a=0;a<g.delayed.length;a++)g.delayed[a].execute()}});g.services=[];var sa={add:function(a){a={afterLoaded:cb,beforeLoading:bb,host:a.host,key:'*'+a.host+'*',properties:a,name:a.name,budget:a.budget};g.services.push(a);m.publish({topic:'services/add',message:a});return a},findByHost:function(a){for(var b=sa.list(),c=0;c<b.length;c++){var e=b[c];if(1==k.matchUrl(e.host,a))return k.log('Found service configuration for '+a+' service ',e),e}k.log('Did NOT find service configuration for '+ a+' checking local configuration. ');return null},findByName:function(a){for(var b=sa.list(),c=0;c<b.length;c++){var e=b[c];if(e.name==a)return k.log('Found service configuration for '+a+' service ',e),e}k.log('Did NOT find service configuration for '+a+' checking local configuration. ');return null},list:function(){return g.services}},ha={};g.scheduling={onLoadTime:null,lastScheduleTime:6E3,last:100,step:100,scheduled:!1,hosts:[],priorities:{low:{last:3E3,step:100},medium:{last:1E3,step:100},high:{last:100, step:100},critical:{last:-1}},prioritiesToKeep:[],serviceToKeep:[],budgetTime:!1,servicesToBudget:[],loadTime:(new Date).getTime()};ha.resource=function(a){return{afterLoaded:cb,beforeLoading:bb,src:a,key:'*'+a+'*'}};ha.bestFit=function(){g.scheduling.type='bestfit';g.scheduling.scheduled=!0};ha.priority=function(a){g.scheduling.type='priority';g.scheduling.scheduled=!0;if(a&&a.services)for(var b=0;b<a.services.length;b++)A.services.add(a.services[b])};ha.spread=function(a){g.scheduling.type='spread'; k.def(a)&&(g.scheduling.step=a);g.scheduling.scheduled=!0};ha.configure=function(a){for(var b in a)g.scheduling[b]=a[b];m.publish({topic:'schedule/configure',message:g});return g.scheduling};ha.budget=function(a){if(a){a.budgetTime&&(g.scheduling.budgetTime=a.budgetTime);a.prioritiesToKeep&&(g.scheduling.prioritiesToKeep=a.prioritiesToKeep);if(a.servicesToBudget){g.scheduling.servicesToBudget=a.servicesToBudget;for(var b=0;b<a.servicesToBudget.length;b++){var c=a.servicesToBudget[b];c.budget=!0;A.services.add(c)}}g.scheduling.budgeter= a.budgeter?a.budgeter:gc}};m.subscribe({topic:'core/start',callback:function(){}});m.subscribe({topic:'sequence/captured',callback:function(a,b){null!=g.scheduling.onLoadTime&&(new Date).getTime()>g.scheduling.onLoadTime+g.scheduling.lastScheduleTime?k.log('Scheduling has expired',g.scheduling.lastScheduleTime):1==g.scheduling.scheduled&&('spread'==g.scheduling.type?jb(a,b):'bestfit'!=g.scheduling.type&&'priority'==g.scheduling.type&&hc(a,b))}});var hc=function(a,b){if(a.newNode){var c=a.newNode.src; if(c&&0<c.length){var e=kb(c),l=sa.findByHost(e);if(null!=e&&-1==g.scheduling.hosts.indexOf(e)){if(null==l)return jb(a,b);var f=g.scheduling.priorities[l.properties.priority];k.log('Service found ',l.properties.name,l.properties.priority);if(1==k.undef(f))return jb(a,b);0<=f.last&&(f.last+=f.step,m.subscribe({topic:'sequence/beforeloading/*'+e+'*',callback:function(){-1==g.scheduling.hosts.indexOf(e)&&g.scheduling.hosts.push(e)}}),b=null!=g.scheduling.budgeter?g.scheduling.budgeter(l,c,a,g.scheduling): !1,k.log('Scheduling resource ',a.newNode.src,e,'defer',f.last,', isBudgeted = ',b),1==b?a.newNode.delayType='remove':(a.newNode.delayType='defer',a.newNode.delayValue=f.last))}}}},jb=function(a,b){if(a.newNode&&(b=a.newNode.src)&&0<b.length){var c=kb(b),e=sa.findByHost(b);null!=c&&-1==g.scheduling.hosts.indexOf(c)&&(g.scheduling.last+=g.scheduling.step,m.subscribe({topic:'sequence/beforeloading/*'+c+'*',callback:function(){-1==g.scheduling.hosts.indexOf(c)&&g.scheduling.hosts.push(c)}}),b=null!= g.scheduling.budgeter?g.scheduling.budgeter(e,b,a,g.scheduling):!1,k.log('Scheduling resource ',a.newNode.src,c,'defer',g.scheduling.last,', isBudgeted = ',b),1==b?a.newNode.delayType='remove':(a.newNode.delayType='defer',a.newNode.delayValue=g.scheduling.last))}},gc=function(a,b,c,e){c=e.budgetTime;var d=kb(b);if(!1!==c){if((new Date).getTime()-g.scheduling.loadTime>=c){if(-1!=e.hosts.indexOf(d))return!1;if(e.servicesToBudget&&0<e.servicesToBudget.length)return(a=sa.findByHost(b))&&!0===a.budget? (r.addViolation(5,b),!0):!1;if(-1!=e.prioritiesToKeep.indexOf(a.properties.priority)||null!=a&&0==a.budget)return!1;r.addViolation(5,b);return!0}null!=a&&(a.budget=!1)}return!1},kb=function(a){return(a=a.split('/')[2])?a=a.split('.').slice(-2).join('.'):null};m.subscribe({topic:'core/load',callback:function(){g.scheduling.onLoadTime=(new Date).getTime()}});var Kb=function(a,b){var d='ul= dl= dt= sd= sr= vp= ct= rtt='.split(' ');d[0]+=navigator.language;d[1]+=encodeURIComponent(c.location.href.substring(0, 1E3));d[2]+=encodeURIComponent(document.title);d[3]+=c.screen.colorDepth;d[4]+=c.screen.width+','+c.screen.height;d[5]+=c.screen.availWidth+','+c.screen.availHeight;if(b)for(var e in b)d.push(e+'='+encodeURIComponent(b[e]));b=navigator.connection||navigator.mozConnection||navigator.webkitConnection;d[6]+=b?b.effectiveType:'unknown';d[7]+=b?b.rtt:'unknown';try{if(c.localStorage&&localStorage.getItem){var l=localStorage.getItem('rapid.testVariations');if(l&&'undefined'!=l)try{var f=JSON.parse(l);for(l= 0;l<f.length;l++){var k=f[l];if(!1!==k.sticky){var m=(new Date).getTime()>k.time+(k.timeout||g.sessionTimeout);'visitor'!=k.sticky&&!1!==m||d.push('testVariation='+k.testId+'-'+k.variationName)}}}catch(wa){h.log('Configuration error - Exception parsing test variations',wa)}if(-1!=(iPos=c.location.hash.indexOf('yoQoeConfig='))){var n=c.location.hash.substring(iPos+12).split('&');d=d.concat(n)}}}catch(wa){h.log('Configuration error - create test variation data.',wa)}if(1==h.def(c.fetch)&&1==g.newConfigFetch)fetch(a+ '&'+d.join('&')).then(function(b){b.text().then(function(b){Jb(b,a)});return b})['catch'](function(a){h.log('Error from loading ctrl configuration via fetch',a)});else f=null,f=c.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject('Microsoft.XMLHTTP'),f.open('GET',a+'&'+d.join('&'),!1),f.send(''),Jb(f.responseText,a)},Jb=function(a,b){try{var d=document.createElement('script');d.type='text/javascript';d.text=a;document.getElementsByTagName('head')[0].appendChild(d);h.log('Adding Rapid CTRL script into DOM: ', b);if(c.localStorage&&localStorage.setItem){var e=r.get().testVariations;a=[];if(e){for(b=0;b<e.length;b++){var f=e[b];f.time=(new Date).getTime();f.timeout=f.timeout||g.sessionTimeout;f.sticky=1==f.sticky?'session':f.sticky;a.push(f.testId)}var k=localStorage.getItem('rapid.testVariations');try{var n=JSON.parse(k);for(b=0;b<n.length;b++)-1==a.indexOf(n[b].testId)&&e.push(n[b])}catch(va){h.log('Configuration error - Exception parsing test variations',va)}localStorage.setItem('rapid.testVariations', JSON.stringify(e))}}m.publish({topic:'core/ctrlConfigLoaded',message:x.config})}catch(va){h.log('Error handling the response from the ctrl configuration call',va)}},Lb={releaseDate:'2025-10-29T15:17Z',version:'8.5.2',log:!1,resources:[],messageBridge:!1,defaultBlockedResponse:{status:200,body:'Blocked by service-worked'},security:{},handledResources:[],documentUri:'',publishHit:!0,caches:[],cacheHits:[],cacheTimeToLive:3E4,maxRefreshCount:3,cacheCheck:'htmlDocuments'};self._serviceWorkerConfig=Lb; var Ja={},ic={EQ:function(a,b){return a===b},NEQ:function(a,b){return a!==b},CONTAIN:function(a,b){return-1<a.indexOf(b)},'NOT-CONTAIN':function(a,b){return-1===a.indexOf(b)},'STARTS-WITH':function(a,b){return 0===a.indexOf(b)},'ENDS-WITH':function(a,b){return a.indexOf(b)===a.length-b.length},IN:function(a,b){return!0===b.includes(a)},'NOT-IN':function(a,b){return!1===b.includes(a)},REGEX:function(a,b){return lb(a,b)},MATCH:function(a,b){return lb(a,b)},'NOT-MATCH':function(a,b){return 0==lb(a,b)}, '>':function(a,b){try{return parseFloat(b)>parseFloat(a)}catch(d){return!1}},'>=':function(a,b){try{return parseFloat(b)>=parseFloat(a)}catch(d){return!1}},'<':function(a,b){try{return parseFloat(b)<parseFloat(a)}catch(d){return!1}},'<=':function(a,b){try{return parseFloat(b)<=parseFloat(a)}catch(d){return!1}},'==':function(a,b){try{return parseFloat(a)==parseFloat(b)}catch(d){return!1}},'!=':function(a,b){try{return parseFloat(a)!=parseFloat(b)}catch(d){return!1}}},jc={PROTOCOL:function(a){return a.protocol}, HOSTNAME:function(a){return a.hostname},HOST:function(a){return a.hostname},PATHNAME:function(a){return a.pathname},SEARCH:function(a){return a.search},EXTENSION:function(a){var b=a.pathname.lastIndexOf('.');return-1==b?'':a.pathname.substring(b+1)}},kc={COUNTRYNAME:function(a){return a.countryname},COUNTRYCODE:function(a){return a.countrycode},REGION:function(a){return a.region},REGIONCODE:function(a){return a.regioncode},METRO:function(a){return a.metro},ZIPCODE:function(a){return a.zipcode},LONGITUDE:function(a){return a.longitude}, LATITUDE:function(a){return a.latitude},CONTINENT:function(a){return a.continent}},lc={ALL:function(a){return!1},'function':function(a,b,c,e){return a.condition},'DOCUMENT-URI':function(a,b,c,e){return Lb.documentUri},'REQUEST-URI':function(a,b,c,e){return b.url},'USER-AGENT':function(a,b,d,e){return(e||c).navigator.userAgent},'User-Agent':function(a,b,c,e){return b.headers['User-Agent']},URI:function(a,b,d,e){return c.location.toString()},'URI-Component':function(a,b,c,e){return jc[a.request_property.toUpperCase()](b.uri)}, Geo:function(a,b,c,e){return kc[a.request_property.toUpperCase()](b.geo)}};Ja.matchAll=function(a,b,c){return new Promise(function(d,f){var e=Ja.match(b,a,c);1!=e?f(e):d(a)})};Ja.match=function(a,b,c){for(var d=0;d<b.length;d++)if(1==h.def(b[d].match)){a:{var f=a;for(var g=b[d].match,k=c,m=0;m<g.length;m++)if(0==Mb(g[m],f,k)){f=g[m];break a}f=!0}if(1!=f)return!1}else if(0==Mb(b[d],a,c))return b[d];return!0};var Mb=function(a,b,c){var d=lc[a.type||a.name];return d?(c=d(a,b,c,self),'function'===a.type? a.condition(a,b):'ALL'===a.type?!0:(b=ic[a.operator])&&c&&a.condition?b(c,a.condition):!1):!1},lb=function(a,b){try{if('object'===typeof b)return null!==a.match(b,'i');var c=b.indexOf('(?i)');return-1==c?null!==a.match(b):null!==a.match(new RegExp(b.substring(c+4),'i'))}catch(e){return h.log('Bad Regex in Condition',e),!1}};C.serviceWorker=function(a){var b=da(a);b.finalize=function(){h.log('Sending the url ',a,'to the service worker so it can sequence it.');m.publish({topic:'service-worker/broker/sequence/finalize', message:[a,b.delayType,b.delayValue]})};return b};var R={create:function(a){1==h.undef(a.exclusions)&&1==h.def(g.serviceWorker)&&1==h.def(g.serviceWorker.exclusions)&&(a.exclusions=g.serviceWorker.exclusions);return R._broker('create',arguments)},destroy:function(a){R._broker('destroy',arguments)},destroyAll:function(){R._broker('destroyAll',arguments)},putResources:function(a){return R._broker('putResources',arguments)},removeResources:function(a){return R._broker('removeResources',arguments)},refreshResources:function(a){R._broker('refreshResources', arguments)},stats:function(a){var b=m.subscribe({topic:'service-worker/cache/stats/return',callback:function(c){a(c.originalMessage);m.unsubscribe(b)}});R._broker('stats',[])},onCacheHit:function(a){m.subscribe({topic:'service-worker/cache/hit',callback:function(b){a(b.originalMessage.url)}})},clientValidation:function(a,b){R._broker('clientValidation',arguments)},_broker:function(a,b){return new Promise(function(c,e){var d='service-worker/broker/cache/'+a+'/'+h.uuid(),f=m.subscribe({topic:d+'/return', callback:function(a){if(a.sendFromServiceWorker){var b=a.originalMessage;a=b.success;var d=b.result;b=b.error;m.unsubscribe(f);a?c(d):e(b)}}});m.publish({topic:d,message:Array.prototype.slice.call(b)})})}};m.subscribe({topic:'core/start',callback:function(a,b){R.stats(function(a){x.serviceWorkers.cacheStats=a})}});var D={cache:R};g.serviceWorker={};D.manage=function(a){var b=a||g.serviceWorker;if('serviceWorker'in navigator&&!0===h.def(b))return new Promise(function(a,e){!0===Yo.utils.undef(b.scriptUrl)? b.scriptUrl=(new URL('/yottaa.service.worker.js',c.location.origin)).href:0==b.scriptUrl.startsWith('http')&&(1==b.scriptUrl.startsWith('/')&&(b.scriptUrl=b.scriptUrl.substring(1)),b.scriptUrl=(new URL(b.scriptUrl,c.location.origin)).href);'install'===b.mode?D.install(b.scriptUrl,b.scope).then(function(c){null!=navigator.serviceWorker.controller&&!0===h.def(b.requiredVersion)?D.version().then(function(c){b.currentVersion=c.version;c.version!==b.requiredVersion?(Yo.utils.log('Service worker version mismatch; updating version from: ', c.version,'to',b.version),D.update(b.scriptUrl).then(function(d){d?(Yo.utils.log('Successfully updated version from: ',c.version,'to',b.version),a(c)):a(null)}).catch(function(a){Yo.utils.log('Error updating version from: ',c.version,'to',b.version,' Error:',a);e(a)})):(Yo.utils.log('Service worker versions match ',b.version),a(c))}).catch(function(a){Yo.utils.log('Error getting version from: Error:',a);e(a)}):(a(c),D.version().then(function(a){b.currentVersion=a.version}))}).catch(function(a){Yo.utils.log('Error installing service worker. Error:', a);e(a)}):'uninstall'===b.mode?D.uninstall(b.scriptUrl).then(function(b){b?(Yo.utils.log('Successfully uninstalled service worker'),a(b)):a(null)}).catch(function(a){Yo.utils.log('Error uninstalling service worker. Error:',a);e(a)}):(Yo.utils.log('No mode was set for on the configuration variable. { mode: <install|uninstall> }'),a({}))})};D.install=function(a,b){if('serviceWorker'in navigator)return new Promise(function(c,e){h.log('ServiceWorker API present, we will register our worker.');navigator.serviceWorker.register(a, {scope:b}).then(function(b){h.log('ServiceWorker registration successful',a,b.scope);m.publish({topic:'service-worker/installed',message:{scope:b.scope,scriptURL:b.active?b.active.scriptURL:a}});D.version().then(function(a){!0===h.undef(g.serviceWorker)&&(g.serviceWorker={});g.serviceWorker.currentVersion=a.version});c(b)}).catch(function(a){h.log('ServiceWorker registration failed: ',a);m.publish({topic:'service-worker/exception',message:a});e(a)})})};D.uninstall=function(a){if('serviceWorker'in navigator)return new Promise(function(b,d){h.log('ServiceWorker API present, we will attempt to unregister our worker.');D.get(a).then(function(e){e?e.unregister().then(function(d){var f,g,l,k,n,q,r;return $yojscomp.asyncExecutePromiseGeneratorProgram(function(p){switch(p.nextAddress){case 1:h.log('ServiceWorker has been unregistered successfully, ',d);g=(f=Yo.tec.state())&&f.cacheNames||[];if(!('caches'in c)){p.jumpTo(2);break}return p.yield(caches.keys(),3);case 3:l=p.yieldResult,k=l.map(function(a){try{return JSON.parse(a).name}catch(nc){return a}}), n=$yojscomp.makeIterator(k),q=n.next();case 4:if(q.done){p.jumpTo(2);break}r=q.value;if(-1===r.indexOf('rapid-worker')&&!g.includes(r)){p.jumpTo(5);break}return p.yield(caches.delete(r),8);case 8:h.log('Cache deleted:',r);case 5:q=n.next();p.jumpTo(4);break;case 2:Yo.tec.cleanUp(),m.publish({topic:'service-worker/uninstalled',message:{scope:e.scope,scriptURL:e.active?e.active.scriptURL:a}}),b(e),p.jumpToEnd()}})}).catch(function(b){h.log('Failed to unregister the url',a,b);d(b)}):b(null)}).catch(function(b){h.log('We did not get the service work for', a,' we cannot unregister',b);d(b)})})};D.version=function(){if('serviceWorker'in navigator)return new Promise(function(a,b){if(1==Yo.utils.def(g.serviceWorker.version))a(g.serviceWorker.version);else{var c=m.subscribe({topic:'service-worker/version/info/return',callback:function(b){a(b.originalMessage);m.unsubscribe(c)}});m.publish({topic:'service-worker/broker/version/info',message:{}})}})};D.update=function(a){if('serviceWorker'in navigator)return new Promise(function(b,c){h.log('ServiceWorker API present, we will attempt to update our worker.'); D.get(a).then(function(d){d?d.update().then(function(c){h.log('ServiceWorker has been updated successfully, ',c);m.publish({topic:'service-worker/updated',message:{scope:d.scope,scriptURL:d.active?d.active.scriptURL:a}});b(d)}).catch(function(b){h.log('Failed to update the url',a,b);c(b)}):b(null)}).catch(function(b){h.log('We did not get the service work for',a,' we cannot update',b);c(b)})})};D.capability=function(){return'serviceWorker'in navigator};D.get=function(a){if('serviceWorker'in navigator)return new Promise(function(b, c){navigator.serviceWorker.getRegistrations().then(function(c){h.log('Service Workers registrations',c);(c=c.find(function(b){return 1==h.def(b.active)&&null!=b.active&&a==b.active.scriptURL}))?b(c):(h.log('Service worker not found for',a),b(null))}).catch(function(a){c(a)})})};D.configure=function(a){for(var b in a)g.serviceWorker[b]=a[b];m.publish({topic:'service-worker/configure',message:g.serviceWorker});return g.serviceWorker};if('serviceWorker'in navigator){h.log('ServiceWorker API present, initialize communication layer'); try{navigator.serviceWorker.addEventListener('message',function(a){if(a.data&&a.data.topic)return m.publish({topic:a.data.topic,message:{sendFromServiceWorker:!0,originalMessage:a.data.message}})}),m.subscribe({topic:'core/load',callback:function(a,b){m.publish({topic:'service-worker/application/loaded',message:{}})}}),m.subscribe({topic:'service-worker/start',callback:function(a,b){A.configure({})}})}catch(a){h.log('Error attaching to service worker messages, most likely a permissions issue',a)}m.subscribe({topic:/service-worker.*/, callback:function(a,b){try{if(navigator.serviceWorker.controller&&!0!==a.sendFromServiceWorker)try{return navigator.serviceWorker.controller.postMessage({message:a,topic:b})}catch(d){h.log('Post message to the service worker error',d)}}catch(d){h.log('Error attaching to service worker messages, most likely a permissions issue',d)}}})}var z={ready:!1,version:1,prefetchAfter:36E5,initializeCore:function(a,b){if('serviceWorker'in navigator){var c=z.state();c.cacheNames=a||[];c.cacheObjects={};c.cacheUpdates= [];c.serviceWorkerScriptUrl=b||g.serviceWorker.scriptUrl;c.version!=z.version&&(c.objectsAlreadyInCache=[]);c.version=z.version;z.state(c);z._serviceWorkerReady()}else h.log('_tec: Service workers are not supported in this browser.')},state:function(a){if(void 0===a){try{var b=localStorage.getItem('_tec.state'),c=b?JSON.parse(b):{};c.cacheNames=c.cacheNames||[];c.cacheObjects=c.cacheObjects||{};c.cacheUpdates=c.cacheUpdates||[];c.objectsAlreadyInCache=c.objectsAlreadyInCache||[];c.version=c.version|| z.version;return c}catch(e){h.log('_tec: Error getting state',e)}return{cacheNames:[],cacheObjects:{},cacheUpdates:[],objectsAlreadyInCache:[],version:z.version}}try{return a.updatedAt=new Date,localStorage.setItem('_tec.state',JSON.stringify(a)),a}catch(e){h.log('_tec: Error updating state',e)}},createCache:function(a,b){return new Promise(function(c){m.subscribe({topic:'tec/ready',callback:function(){var d=z.state(),f=d.cacheNames.includes(a.name);f&&!b?(h.log('_tec: Cache object already created, doing nothing', a),c({cacheObject:d.cacheObjects[a.name]})):(f?b&&h.log('_tec: Forcing cache object to be created that WAS already created',a):(h.log('_tec: Adding cache object that was NOT already created',a),d.cacheNames.push(a.name)),d.cacheObjects[a.name]=a,f=D.cache.create(a),z.state(d),c(f))}})})},cleanUp:function(){var a=z.state();a.cacheNames=[];a.cacheObjects={};a.cacheUpdates=[];z.state(a)},refreshResources:function(a,b){var c=z.state(),e=b||c.cacheNames;h.log('_tec: refreshResources for ',e,a||[/.*/]); m.subscribe({topic:'tec/ready',callback:function(){e.forEach(function(b){var d=c.cacheObjects[b];b={name:h.def(d)?d.name:b,process:'single',resources:a||[/.*/]};1==h.def(d)&&(b.version=d.version);D.cache.refreshResources(b)})}})},removeResources:function(a,b){return new Promise(function(c){var d=b||z.state().cacheNames;h.log('_tec: removeResources for ',d,a||[/.*/]);m.subscribe({topic:'tec/ready',callback:function(){var b=z.state();b.objectsAlreadyInCache=[];d.includes('cart-readiness')&&(b.cartCleared= !0);z.state(b);var e=d.map(function(c){var d=b.cacheObjects[c],e={name:h.def(d)?d.name:c,resources:a||[/.*/]};1==h.def(d)&&(e.version=d.version);return D.cache.removeResources(e).then(function(a){return[c,a]})});c(Promise.all(e))}})})},putResources:function(a,b,c){c=void 0===c?!1:c;return new Promise(function(d){var e=z.state().cacheObjects[a];h.log('_tec: putResources for ',a,{resources:b,cacheObject:e,refreshExisting:c});m.subscribe({topic:'tec/ready',callback:function(){var f={name:h.def(e)?e.name: a,resources:b,refreshExisting:c};1==h.def(e)&&(f.version=e.version);d(D.cache.putResources(f))}})})},sequencingInteraction:function(a,b,c,e){a.forEach(function(a){a.afterLoaded(function(){'refresh'===b?z.refreshResources(c,e):z.removeResources(c,e)})})},navigationInteraction:function(a,b,d,e){m.subscribe({topic:'core/load',callback:function(){null!=a.find(function(a){return a instanceof RegExp?null!=c.location.toString().match(a):-1!==a.indexOf('*')?null!=c.location.toString().match(new RegExp(a.replace(/\*/g, '.*'))):c.location.toString()===a})&&('refresh'===b?z.refreshResources(d,e):z.removeResources(d,e))}})},smartPrefetch:function(a,b,c,e){m.subscribe({topic:'tec/ready',callback:function(){b&&0<b.length&&'string'!==typeof b[0]&&(b=b.filter(function(a){return 1==h.undef(a.deviceType)?!0:h.isIos()||h.isAndroid()?2==a.deviceType:1==a.deviceType}).map(function(a){return a.pageUrl}));var d=z._findOnPageUrls(b,c||3);h.log('_tec: smartPrefetch being setup',a,b,c,d);z._fillCache(a,d,e||z.prefetchAfter)}})}, cartReadiness:function(a,b){m.subscribe({topic:'tec/ready',callback:function(){var c=z.state();-1==c.cacheNames.indexOf(a)?(h.log('_tec: create cart-readiness cache',a,b),c.cacheNames.push('cart-readiness'),D.cache.create({name:'cart-readiness',prefetch:!0,process:'single',resources:[a],expireAfter:b||3E5,htmlDocuments:!0}),z.state(c)):!0===c.cartCleared?(z.putResources('cart-readiness',[a]),c.cartCleared=!1,z.state(c)):h.log('_tec: cart-readiness cache should already be created',a,b)}})},clientValidation:function(a, b){m.subscribe({topic:'tec/ready',callback:function(){Yo.serviceWorker.cache.clientValidation(a,b)}})},_serviceWorkerReady:function(){!1===z.ready&&navigator.serviceWorker.ready.then(function(a){h.log('_tec: Service worker ready notification, configure message bridge',a);D.configure({messageBridge:!0});var b=m.subscribe({topic:'service-worker/*',callback:function(a,c){!1===z.ready&&(h.log('_tec: Service worker has started sending message consider it activated',c),z.ready=!0,m.unsubscribe(b),D.configure({messageBridge:!1}), m.publish({topic:'tec/ready',persistent:!0,message:{}}))}})})},_isExpired:function(a,b){a=(new Date(a)).getTime();return(new Date).getTime()>a+(b||z.prefetchAfter)},_findOnPageUrls:function(a,b,d){var e=Array.from(document.querySelectorAll('a:not([href*="#"])')).map(function(a){return a.href});a=a.map(function(a){return-1!=a.indexOf('://'+c.location.hostname)?a:0===a.indexOf('/')?c.location.protocol+'//'+c.location.host+a:c.location.protocol+'//'+c.location.host+'/'+a});var f=z.state();f.updatedAt&& 1!=z._isExpired(f.updatedAt,d)||(f.objectsAlreadyInCache=[]);var g=f.objectsAlreadyInCache||[];return a.reduce(function(a,c){a.length<=b&&-1!=e.indexOf(c)&&-1==g.indexOf(c)&&a.push(c);return a},[])},_fillCache:function(a,b){if(0<b.length){var c=z.state(),e=c.cacheObjects[a];c.objectsAlreadyInCache=(c.objectsAlreadyInCache||[]).concat(b);z.state(c);var f=!1;m.subscribe({topic:'tec/ready',callback:function(c,d){h.log('_tec: fill cache for smartPrefetch with new',b);0==f&&(f=!0,c={name:h.def(e)?e.name: a,process:'single',resources:b},1==h.def(e)&&(c.version=e.version),D.cache.putResources(c,!1))}})}}};c.Yo||(c.Yo={});A={configure:function(a,b){if('string'===typeof a)g.isConfigFetched=!0,Kb(a,b);else for(var c in a)'resources'==c?g.resources=g.resources.concat(a.resources):'configurationUrl'==c?(g.isConfigFetched=!0,Kb(a[c],b)):g[c]=a[c];m.publish({topic:'core/configure',message:g})},context:Ja,geo:function(){if(0===arguments.length)return x.geo;1===arguments.length&&(x.geo=arguments[0],m.publish({topic:'core/geo', message:arguments[0]}))},insert:{HEAD_START:'head_start',HEAD_END:'head_end',BODY_START:'body_start',BODY_END:'body_end',location:function(a){document.write((null!=document.body?['<d',"iv id='yo_tag_",a,"'></d",'iv>']:['<scr',"ipt id='yo_tag_",a,"'></scr",'ipt>']).join(''));m.publish({topic:'tag/location/'+a,persistent:!0})},resource:function(a,b,c,e){var d=A.sequence.script(a);d.loaded=!0;m.subscribe({topic:'tag/location/'+b,callback:function(){var a=k.select('#yo_tag_'+b);A.sequence.node(a);c&& ''!=c||(c='none');d[c](e);d.loaded=!1;d.load(a)}});return d},script:function(a,b,c,e){var d=Yo.sequence.script(a);d.loaded=!0;m.subscribe({topic:'tag/location/'+b,callback:function(){c&&''!=c||(c='none');d[c](e);d.loaded=!1;d.eval()}});return d},content:function(a,b,c,e){var d=document.createElement('script');c&&''!=c||(c='none');d.setAttribute('type','yo/sequencing/'+c+'/'+e);var f=Yo.sequence.content(d);f.loaded=!0;0==b.indexOf('css:')?m.subscribe({topic:'core/load',callback:function(){k.def(a.nodeName)? d.appendChild(a):d.innerHTML=a;var c=b.split(':');f.before=k.select(c[1]);3==c.length&&('after'==c[2]?null==f.before.nextSibling?(f.before=f.before.parentNode,f.how='append'):f.before=f.before.nextSibling:'prepend'==c[2]?0<f.before.childNodes.length?f.before=f.before.childNodes[0]:f.how='append':'append'==c[2]&&(f.how='append'));f.loaded=!1;f.load()}}):m.subscribe({topic:'tag/location/'+b,callback:function(){k.def(a.nodeName)?d.appendChild(a):d.innerHTML=a;f.loaded=!1;f.before=k.select('#yo_tag_'+ b);f.load()}});return f}},pubsub:m,rum:r,schedule:ha,sequence:C,services:sa,serviceWorker:D,spa:{trackMetrics:function(){r.spa()},startTransition:function(a,b){return m.publish({topic:'rum/spa/transition/start',message:{pageType:a,viewType:b}})},finishedRendering:function(a,b,c){return m.publish({topic:'rum/spa/rendered',message:{pageType:a,viewType:b,trigger:c}})}},stats:za,tec:z,utils:k};c.Yo=A;m.publish({topic:'core/start',message:A});return A}); 
Yo.configure('https://rapid-1.yottaa.net/api/v1/configure.rapid.js?key=zhajjpgj7oxiFw');
