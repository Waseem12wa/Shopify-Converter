window.Instant=window.Instant||{};window.Instant.initializedVersion=window.Instant?.initializedVersion||null;window.Instant.initializedListeners=!!window.Instant?.initializedListeners;window.Instant.initializedSwiper=!!window.Instant?.initializedSwiper;window.Instant.initSwiper=window.Instant?.initSwiper||(()=>{window.Instant.initializedSwiper||(window.Instant.initializedSwiper=!0,window.Instant.initializedListeners&&window.__instantInitSliders?.())});(()=>{function Se(t){fetch(`${window.Shopify?.routes?.root}cart/update.js`,{headers:{"Content-Type":"application/json",[z.key]:z.value},body:JSON.stringify({attributes:{"_instant-cart":"true"}}),method:"POST"}).then(async e=>{if(!e.ok)throw new Error;let n=await e.json();window.Shopify?.analytics.publish("instant:cart-drawer-opened",{context:{layoutId:t,localization:{countryCode:window.Shopify?.country,languageCode:`${window.Shopify?.locale}-${window.Shopify?.country}`}},data:{cart:n}})}).catch(e=>{console.warn("Failed to publish cart drawer opened event",e)})}var Jn=(t,e)=>{let n=new Headers;if(t instanceof Request)for(let[o,r]of t.headers.entries())n.set(o,r);if(e?.headers){let o=e.headers instanceof Headers?e.headers:new Headers(e.headers);for(let[r,i]of o.entries())n.set(r,i)}return n},Qn=(t,e)=>{let n=null;return e?.method?(n=e.method.toUpperCase(),n):(t instanceof Request&&(n=t.method),n||"GET")},Xn={add:[/\/cart\/add(?:\.js)?(?:\?.*)?$/],update:[/\/cart\/update(?:\.js)?(?:\?.*)?$/],change:[/\/cart\/change(?:\.js)?(?:\?.*)?$/],clear:[/\/cart\/clear(?:\.js)?(?:\?.*)?$/]};function Zn(t){t.startsWith("http")||(t.startsWith("/")||(t=`/${t}`),t=`${typeof window<"u"?window.location.origin:"http://placeholder.com"}${t}`);try{let e=new URL(t);return`${e.pathname}${e.search}`}catch{return t}}function to(t,e){for(let[n,o]of Object.entries(e))if(o.some(r=>r.test(t)))return n;return null}async function eo(t){let e=to(Zn(t.url),Xn);if(!e)return null;let n=await no(t);return{url:t.url,endpoint:e,body:n}}async function no(t){let{body:e,headers:n}=t,o=n?.get("Content-Type");if(!o){if(!(e instanceof FormData))return null;o="multipart/form-data"}try{if(o.includes("application/json")){let r=typeof e=="string"?JSON.parse(e):e instanceof ReadableStream?await new Response(e).json():e;return r||null}if(o.includes("application/x-www-form-urlencoded")){let r;if(e instanceof URLSearchParams)r=e;else if(typeof e=="string")r=new URLSearchParams(e);else if(e instanceof ReadableStream){let a=await new Response(e).text();r=new URLSearchParams(a)}else return null;let i={};for(let[a,s]of r)i[a]=s;return i}if(o.includes("multipart/form-data")){let r;if(e instanceof FormData)r=Object.fromEntries(e.entries());else if(e instanceof ReadableStream){let a=await new Response(e).formData();r=Object.fromEntries(a.entries())}else if(typeof e=="string"){let i={},a=e.split(/------WebKitFormBoundary[^\n]*/);for(let s of a){if(!s.trim())continue;let c=s.match(/name="([^"]+)"\s*\n\s*\n([\s\S]*?)(?:\n-|$)/);if(c){let[,d,l]=c;if(!d||!l)continue;i[d]=l.trim()}}r=i}else return console.warn("Unsupported body type for multipart/form-data"),null;return r}}catch(r){console.warn("Error parsing request body:",r)}return null}async function oo(t){if(t.method!=="POST")return!1;let e=await eo(t);if(!e)return!1;switch(e.endpoint){case"add":{if(e.body&&"items"in e.body){let n=e.body.items,o="id"in e.body;return(Array.isArray(n)?!!n?.length:Object.keys(n||{}).length>0)||o}return!0}case"update":return!(!e.body||!("updates"in e.body)||typeof e.body.updates=="object"&&!Object.keys(e.body.updates).length);default:return!1}}var Le=()=>{if(window.__instantCartApiListenerInitialized)return;window.__instantCartApiListenerInitialized=!0;let t=window.fetch;window.fetch=async function(...e){try{let[n,o]=e,r=n instanceof Request?n.clone():n,i=r instanceof Request?r.clone().body:o?.body;if(!i)return t.apply(this,e);let a={url:typeof r=="string"?r:r instanceof URL?r.toString():r.url,body:i,method:Qn(r,o),headers:Jn(r,o)},s=a.headers.get(z.key)!==z.value&&`${window.Shopify?.routes?.root}cart`!==location.pathname;if(s)try{s=await oo(a)}catch{console.error("Error checking if cart request"),s=!1}let c=await t(n,o);return s&&(Ft().catch(d=>{console.error("Error updating cart",d)}),lt(!0)),c}catch(n){throw n}}};var ro=()=>{let t=document.querySelector("#cart-icon-bubble");t&&document.addEventListener("instant:cart-updated",()=>{fetch(`${window.Shopify?.routes?.root}cart/update.js`,{method:"POST",headers:{"Content-Type":"application/json",[z.key]:z.value},body:JSON.stringify({updates:{},sections:["cart-icon-bubble"]})}).then(e=>e.json()).then(e=>{t.innerHTML=e.sections["cart-icon-bubble"]}).catch(e=>{console.error("Error updating cart",e)})},{signal:window.Instant.eventAbortController.signal})},io=()=>{let t=document.querySelector("header-actions > cart-drawer-component");if(!t)return;let e=document.createElement("style");e.textContent=`
		header-actions > cart-drawer-component dialog.cart-drawer__dialog {
			display: none !important;
		}
	`,document.head.appendChild(e),document.addEventListener("instant:cart-updated",()=>{fetch("/cart.js").then(o=>o.json()).then(o=>{let r=new CustomEvent("cart:update",{bubbles:!0,detail:{resource:o,sourceId:"instant-trigger",data:{itemCount:o.item_count}}});document.dispatchEvent(r)}).catch(o=>{console.error("Error updating cart",o)})},{signal:window.Instant.eventAbortController.signal});let n=t.querySelector("dialog.cart-drawer__dialog");if(n){let o=new MutationObserver(()=>{n.hasAttribute("open")&&t.close()});o.observe(n,{attributes:!0,attributeFilter:["open"]}),window.Instant.eventAbortController.signal.addEventListener("abort",()=>{o.disconnect()})}},ao=()=>{let t=document.querySelector("cart-drawer");!t||!("hide"in t)||t.addEventListener("dialog:before-show",()=>{t.hide()},{signal:window.Instant.eventAbortController.signal})},so=()=>{let t=document.querySelector("cart-drawer");if(!t||!("hide"in t))return;let e=new MutationObserver(()=>{t.hasAttribute("open")&&t.hide()});e.observe(t,{attributes:!0,attributeFilter:["open"]}),window.Instant.eventAbortController.signal.addEventListener("abort",()=>{e.disconnect()})},co=()=>{let t=document.querySelector("#CartDrawer"),e=t?.querySelector("#CartDrawerForm");if(!t||!e)return;let n=document.createElement("style");n.textContent=`
		.js-drawer-closing .main-content:after, .js-drawer-open .main-content:after {
			display: none !important;
		}
	`,document.head.appendChild(n);let o=new MutationObserver(()=>{t.classList.contains("drawer--is-open")&&document.dispatchEvent(new CustomEvent("cart:close"))});o.observe(t,{attributes:!0,attributeFilter:["class"]}),window.Instant.eventAbortController.signal.addEventListener("abort",()=>{o.disconnect()})},Ie=()=>{ro(),io(),ao(),so(),co()};var lo=new RegExp("^i[a-zA-Z0-9]{16}(-[a-zA-Z0-9]{16})*$"),Ce=t=>lo.test(t),Mt=t=>Ce(t)?t.substring(1):t,I=t=>{let e=Array.from(t.classList);return e.find(n=>Ce(n))??e[0]},ot=t=>{let e=t.getAttribute("data-instant-repeater-index");return`${Mt(I(t))}${e!=null?`_${e}`:""}`},ft=t=>{let e=t.parentElement;return e instanceof HTMLSpanElement?ft(e):e},Bt=(t,e)=>{let n=t.querySelectorAll('[type="application/json"]'),o,r,i;return Array.from(n).forEach(a=>{a.id.startsWith(`variants__${e}--`)&&(o=JSON.parse(a.innerHTML)),a.id.startsWith(`options__${e}--`)&&(r=JSON.parse(a.innerHTML)),a.id.startsWith(`selling_plans__${e}--`)&&(i=JSON.parse(a.innerHTML))}),{variants:o,options:r,sellingPlans:i}},At=t=>{let e=t.getAttribute("href")??t.getAttribute("data-instant-href");if(e){let n=document.createElement("a");return n.href=e,n.href}return null},ae=(t,e)=>{t instanceof HTMLAnchorElement?t.href=e:t.setAttribute("data-instant-href",e)},Pe=t=>t.match(/:(-?\d+)/)?.[1]??"1",Ut=t=>t.closest(".__instant")?.getAttribute("data-instant-id"),xe=t=>t.closest(".__instant")?.getAttribute("data-instant-layout"),Vt=(t,e)=>{let n;return(...o)=>{clearTimeout(n),n=setTimeout(()=>t(...o),e)}},jt=()=>!!document.querySelector('[data-instant-layout="CART"][data-instant-auto-connect-cart="true"]');var se=t=>`instant-countdown-end-${t}`,ce=t=>{let e=t.getAttribute("data-instant-countdown-date"),n=t.getAttribute("data-instant-countdown-time-zone"),o=t.getAttribute("data-instant-countdown-minutes"),r=t.getAttribute("data-instant-countdown-is-persistent")==="true"||t.closest('[data-instant-layout="CART"]')!==null,i=t.getAttribute("data-instant-countdown-leading-zeros")==="true",a=!!e,s=["DAYS","HOURS","MINUTES","SECONDS"],[c,d,l,u]=s.map(T=>t.querySelectorAll(`[data-instant-dynamic-content-source="COUNTDOWN_${T}"] span`)),f=T=>{let w=new Date,m=w.getTime(),O=(a?-w.getTimezoneOffset():0)*60*1e3;return T-m+O},p=T=>{let w=T.toString();return i?w.padStart(2,"0"):w},y,h=se(I(t)),b=sessionStorage.getItem(h);if(a)y=e?new Date(e).getTime():new Date().getTime();else if(b&&r)y=Number(b);else{let T=new Date().getTime()+(o?Number(o):0)*60*1e3;r&&!window?.Shopify?.designMode&&sessionStorage.setItem(h,`${T}`),y=T}let S=(()=>{let T=new Date;T.setSeconds(0,0);let w=T.toLocaleString("en-US",{timeZone:n??"Etc/UTC",hourCycle:"h23"}),m=/(\d+)\/(\d+)\/(\d+), (\d+):(\d+)/.exec(w);if(m){let[O,R,v,_,C,q]=m.map(Number),k=Date.UTC(_,R-1,v,C,q);return Math.floor((k-T.getTime())/(1e3*60))}return 0})(),x=(a?S:0)*60*1e3,L=y-x,M=0,N=T=>{if(!t.isConnected)return;let w=Math.ceil(f(L)/1e3),m=0,O=0,R=0,v=0;T-M>=1e3&&(w>0&&(v=Math.floor(w/(24*60*60)),R=Math.floor(w/(60*60)%24),O=Math.floor(w/60%60),m=Math.floor(w%60)),c.length===0&&v>0&&(R=R+v*24),d.length===0&&R>0&&(O=O+R*60),l.length===0&&O>0&&(m=m+O*60),Array.from(c).forEach(_=>{_.innerHTML=`${p(v)}`}),Array.from(d).forEach(_=>{_.innerHTML=`${p(R)}`}),Array.from(l).forEach(_=>{_.innerHTML=`${p(O)}`}),Array.from(u).forEach(_=>{_.innerHTML=`${p(m)}`}),M=T),w>=0&&requestAnimationFrame(N)};requestAnimationFrame(N)},Me=t=>{let e=t.querySelectorAll('[data-instant-type="countdown"]');Array.from(e).forEach(n=>{ce(n)})};var le=(t,e=!1)=>{t.forEach(n=>{let o=n.querySelector(':scope > [data-instant-type="accordion-content"]');if(o){let r=o.style.transitionDuration;o.style.transitionDuration="0s",o.style.setProperty("--instant-accordion-content-height","initial"),o.style.setProperty("--instant-accordion-content-width","initial");let{height:i,width:a}=o.getBoundingClientRect();o.style.transitionDuration=r,o.style.setProperty("--instant-accordion-content-height","0"),o.style.setProperty("--instant-accordion-content-width","0");let s=()=>{let c=o.style.getPropertyValue("--instant-accordion-content-height"),d=o.style.getPropertyValue("--instant-accordion-content-width");i&&c!==`${i}px`&&o.style.setProperty("--instant-accordion-content-height",`${i}px`),a&&d!==`${a}px`&&o.style.setProperty("--instant-accordion-content-width",`${a}px`)};e?s():"requestAnimationFrame"in window?window.requestAnimationFrame(s):setTimeout(s,16)}})},He=t=>{let e=t.querySelectorAll('[data-instant-type="accordion-container"]'),n=new ResizeObserver(()=>{let o=t.querySelectorAll('[data-instant-type="accordion-item"][data-state="open"]');le(Array.from(o),!0)});window.Instant.eventAbortController.signal.addEventListener("abort",()=>{n.disconnect()}),Array.from(e).reverse().forEach(o=>{let r=o.getAttribute("data-is-multi-open-enabled")==="true",i=o.querySelectorAll(':scope > [data-instant-type="accordion-item"]');le(Array.from(i),!0),Array.from(i).forEach(a=>{a.querySelectorAll(':scope > [data-instant-type="accordion-content"] > *').forEach(d=>{n.observe(d)});let c=a.querySelector(':scope > [data-instant-type="accordion-header"]');c&&c.addEventListener("click",()=>{let d=a.getAttribute("data-state")==="open";a.setAttribute("data-state",d?"closed":"open"),d||le([a]),r||Array.from(i).forEach(l=>{l!==a&&l.getAttribute("data-state")==="open"&&l.setAttribute("data-state","closed")})},{signal:window.Instant.eventAbortController.signal})})})};var Re=["PRICE","COMPARE_AT","SAVED_AMOUNT","SAVED_PERCENTAGE"],Oe=["SKU","VARIANT_TITLE","VARIANT_METAFIELD","OPTION1","OPTION2","OPTION3","QUANTITY_AVAILABLE"],de=["add-to-cart","add-to-instant-cart","redirect-to-cart","redirect-to-checkout","toggle-addon"],_e=de.map(t=>`[data-instant-action-type="${t}"]`).join(", "),zt=({variantId:t,scope:e,scopeId:n,selectedSellingPlan:o,skipVariantUrlUpdate:r})=>{let i=e.getAttribute("data-instant-form-product-url"),a=e.closest(".__instant")?.getAttribute("data-section-id"),s=Re.map(T=>`[data-instant-dynamic-content-source="${T}"]`).join(", "),c=e.querySelectorAll(s),d=Oe.map(T=>`[data-instant-dynamic-content-source="${T}"]`).join(", "),l=e.querySelectorAll(d),u=e.querySelectorAll('fieldset[data-instant-type="VARIANT_PICKER"] select option'),f=e.querySelectorAll('fieldset[data-instant-type="VARIANT_PICKER"] input[type="radio"]'),p=e.querySelectorAll('img[data-instant-dynamic-content-source="FEATURED_IMAGE"]'),y=e.querySelectorAll('img[data-instant-dynamic-content-source="REPEATER"]'),h=Array.from(e.querySelectorAll(_e));e.getAttribute("data-instant-action-type")&&de.includes(e.getAttribute("data-instant-action-type"))&&h.push(e);let b=Array.from(e.querySelectorAll('[data-instant-action-type="open-page"]'));e.getAttribute("data-instant-action-type")==="open-page"&&b.push(e);let A=e.querySelectorAll('[data-instant-action-type="select-variant-option"]'),S=e.querySelectorAll('[data-instant-action-type="select-selling-plan"]'),x=e.querySelectorAll('fieldset[data-instant-type="SELLING_PLAN_PICKER"] input[type="radio"]'),L=e.querySelectorAll('fieldset[data-instant-type="SELLING_PLAN_PICKER"] select'),M=e.querySelectorAll("[data-instant-conditional]");if(!t){for(let T of[...c,...l])T?.closest("[data-instant-form-product-url]")===e&&T&&(T.innerHTML="&nbsp;");for(let T of h)T.closest("[data-instant-form-product-url]")===e&&T&&T.setAttribute("data-instant-disabled","true");for(let T of u)if(T?.closest("[data-instant-form-product-url]")===e&&T){let w=T?.closest('fieldset[data-instant-type="VARIANT_PICKER"]')?.querySelector('span[data-instant-type="selected-variant-option"]'),m=T.closest("select");T.value===m?.value?(T.setAttribute("selected",""),w&&(w.innerHTML=T.innerHTML)):T.removeAttribute("selected")}return}if(!r&&e.closest('[data-instant-layout="PRODUCT_TEMPLATE"]')&&e.getAttribute("data-instant-type")==="root"){let T=new URL(window.location.toString()),w=T.searchParams.get("variant"),m=e.getAttribute("data-instant-form-variant-id");(w||t!==m)&&(T.searchParams.set("variant",t),window.history.replaceState({},"",T.toString()))}let N=new URLSearchParams({variant:t,section_id:a});o?.sellingPlanId&&N.set("selling_plan",o.sellingPlanId),fetch(`${i}?${N.toString()}`).then(T=>T.text()).then(T=>{let w=new DOMParser().parseFromString(T,"text/html"),m=e.getAttribute("data-instant-form-product-url"),[O,R]=n.split("_"),v=w.querySelector(`[class*="i${O}"]${R!=null?`[data-instant-repeater-index="${R}"]`:""}[data-instant-form-product-url="${m}"]`);if(!v){console.warn("Could not find source element in response");return}let _=Re.map(g=>`[data-instant-dynamic-content-source="${g}"]`).join(", "),C=Array.from(v.querySelectorAll(_)),q=Oe.map(g=>`[data-instant-dynamic-content-source="${g}"]`).join(", "),k=Array.from(v.querySelectorAll(q)),F=Array.from(v?.querySelectorAll('fieldset[data-instant-type="VARIANT_PICKER"] input[type="radio"]')),U=Array.from(v?.querySelectorAll('fieldset[data-instant-type="VARIANT_PICKER"] select option')),V=Array.from(v?.querySelectorAll('[data-instant-action-type="select-variant-option"]')),ht=Array.from(v?.querySelectorAll('fieldset[data-instant-type="SELLING_PLAN_PICKER"] input[type="radio"]')),ut=Array.from(v?.querySelectorAll('fieldset[data-instant-type="SELLING_PLAN_PICKER"] select')),oe=Array.from(v?.querySelectorAll('span[data-instant-type="selected-selling-plan-option"]')),$=Array.from(v?.querySelectorAll(_e));v?.getAttribute("data-instant-action-type")&&de.includes(v.getAttribute("data-instant-action-type"))&&$.push(v);let D=Array.from(v?.querySelectorAll('[data-instant-action-type="open-page"]'));v?.getAttribute("data-instant-action-type")==="open-page"&&D.push(v);let et=Array.from(v?.querySelectorAll('img[data-instant-dynamic-content-source="FEATURED_IMAGE"]')),nt=Array.from(v?.querySelectorAll('img[data-instant-dynamic-content-source="REPEATER"]')),ct=Array.from(v?.querySelectorAll("[data-instant-conditional]")),re=document.querySelector(`input[name="${n}__selling-plan-id"]`),ve=document.querySelector(`input[name="${n}__selling-plan-name"]`),Gn=e.querySelectorAll('span[data-instant-type="selected-selling-plan-option"]');for(let g of Gn){let P=I(g),E=oe.find(H=>I(H)===P);E?.closest("[data-instant-form-product-url]")===v&&E&&(g.innerHTML=E.innerHTML)}for(let g of x){let P=ht.find(E=>E.id===g.id);if(P?.closest("[data-instant-form-product-url]")===v&&P){let E=P.getAttribute("data-instant-disabled");E?g.setAttribute("data-instant-disabled",E):g.removeAttribute("data-instant-disabled"),P.hasAttribute("checked")?g.checked=!0:g.checked=!1,g.value=P.value;let H;if(g.labels&&([H]=Array.from(g.labels)),H){let B;if(P.labels&&([B]=Array.from(P.labels)),B){H.innerHTML=B.innerHTML;let G=B.getAttribute("title");G&&H.setAttribute("title",G)}}}}for(let g of L){let P=ut.find(E=>E.id===g.id);P?.closest("[data-instant-form-product-url]")===v&&(g.innerHTML=P.innerHTML)}for(let g of c){let P=I(g),E=C.find(H=>I(H)===P);if(E?.closest("[data-instant-form-product-url]")===v&&E){g.innerHTML=E.innerHTML;let H=E.getAttribute("style");H?g.setAttribute("style",H):g.removeAttribute("style")}}for(let g of S){let P=I(g),E=Array.from(v?.querySelectorAll('[data-instant-action-type="select-selling-plan"]')).find(bt=>I(bt)===P);if(E?.closest("[data-instant-form-product-url]")!==v)continue;let H=g?.querySelectorAll('[data-instant-type="SELLING_PLAN_PICKER"]'),B=decodeURIComponent(E.getAttribute("data-instant-selling-plan-name")),G=E.getAttribute("data-instant-selling-plan-id");if(!o&&G==="one-time-purchase"){g.setAttribute("data-instant-state","active");continue}if(o?.sellingPlanId===G||o?.sellingPlanName===B){g.setAttribute("data-instant-state","active");continue}if(H?.length>0&&o&&o.sellingPlanId!=="one-time-purchase"){g.setAttribute("data-instant-state","active");let bt=Array.from(g.querySelectorAll(_));for(let ie of bt){let Te=ie.getAttribute("data-instant-dynamic-content-source");Te==="PRICE"?ie.innerHTML=o.price:Te==="COMPARE_AT"&&(ie.innerHTML=o.compareAtPrice)}continue}g.setAttribute("data-instant-state","inactive")}for(let g of l){let P=I(g),E=k.find(H=>I(H)===P);E?.closest("[data-instant-form-product-url]")===v&&E&&(g.innerHTML=E.innerHTML)}for(let g of f){let P=F.find(E=>E.id===g.id);if(P?.closest("[data-instant-form-product-url]")===v&&P){let E=P.getAttribute("data-instant-disabled");E?g.setAttribute("data-instant-disabled",E):g.removeAttribute("data-instant-disabled"),P.hasAttribute("checked")?g.checked=!0:g.checked=!1;let H;if(g.labels&&([H]=Array.from(g.labels)),H){let B;if(P.labels&&([B]=Array.from(P.labels)),B){let G=B.getAttribute("title");G&&H.setAttribute("title",G)}}}}for(let g of u){let P=U.find(E=>E.id===g.id);if(P?.closest("[data-instant-form-product-url]")===v&&P){let E=P.getAttribute("data-instant-disabled");E?g.setAttribute("data-instant-disabled",E):g.removeAttribute("data-instant-disabled"),g.textContent=P.textContent;let H=g?.closest('fieldset[data-instant-type="VARIANT_PICKER"]')?.querySelector('span[data-instant-type="selected-variant-option"]');P.hasAttribute("selected")?(g.setAttribute("selected",""),H&&(H.innerHTML=P.innerHTML)):g.removeAttribute("selected")}}for(let g of p){let P=I(ft(g)),E=et.find(H=>I(ft(H))===P);if(E?.closest("[data-instant-form-product-url]")===v&&E){g.alt=E.alt,g.height=E.height,g.width=E.width;let H=window.TranslationLab?.CustomTranslations?.getImageTranslation(E.src);H&&H!==E.src?(g.src=H,g.sizes="",g.srcset=""):(g.src=E.src,g.sizes=E.sizes,g.srcset=E.srcset)}}for(let g of y){if(window.is_rubik_active&&v.closest('[data-instant-layout="PRODUCT_TEMPLATE"]')&&v.getAttribute("data-instant-type")==="root")continue;let P=nt.find(E=>E.getAttribute("data-instant-repeater-id")===g.getAttribute("data-instant-repeater-id")&&E.getAttribute("data-instant-repeater-index")===g.getAttribute("data-instant-repeater-index"));if(P?.closest("[data-instant-form-product-url]")===v&&P){g.alt=P.alt,g.height=P.height,g.width=P.width;let E=window.TranslationLab?.CustomTranslations?.getImageTranslation(P.src);E&&E!==P.src?(g.src=E,g.sizes="",g.srcset=""):(g.src=P.src,g.sizes=P.sizes,g.srcset=P.srcset);let H=g.closest(".instant-slider");H?.swiper&&H.swiper.realIndex!==0&&H?.closest("[data-instant-form-product-url]")===e&&H.swiper.slideTo(0,0)}}for(let g of h){let P=I(g),E=$.find(H=>I(H)===P);if(E?.closest("[data-instant-form-product-url]")===v&&E){E.getAttribute("data-instant-disabled")==="true"?g.setAttribute("data-instant-disabled","true"):g.removeAttribute("data-instant-disabled");let B=E.getAttribute("data-instant-state");B?g.setAttribute("data-instant-state",B):g.removeAttribute("data-instant-state");for(let bt of S)bt.getAttribute("data-instant-state")==="active"&&bt.getAttribute("data-instant-disabled")==="true"&&g.setAttribute("data-instant-disabled","true");g.setAttribute("data-instant-action-variant-id",t);let G=At(E);G&&ae(g,G)}}for(let g of b){let P=I(g),E=D.find(H=>I(H)===P);if(E?.closest("[data-instant-form-product-url]")===v&&E){let H=At(E);if(H){let B=new URL(H);B.searchParams.set("variant",t),ae(g,B.toString())}}}for(let g of A){let P=I(g),E=V.find(H=>I(H)===P);E?.closest("[data-instant-form-product-url]")===v&&E&&(g.setAttribute("data-instant-state",E.getAttribute("data-instant-state")??"inactive"),g.setAttribute("data-instant-disabled",E.getAttribute("data-instant-disabled")??""))}o||(ve&&ve.remove(),re&&re.value!=="one-time-purchase"&&re.remove());for(let g of M){let P=I(g),E=ct.find(B=>I(B)===P);if(E?.closest("[data-instant-form-product-url]")!==v)continue;let H=E.getAttribute("style");H?g.setAttribute("style",H):g.removeAttribute("style")}})},Q=(t,e,n)=>{let o=t.querySelector(`input[name="${e}"]`);if(o){o.value=n;return}let r=document.createElement("input");t.appendChild(r),r.setAttribute("type","hidden"),r.setAttribute("name",e),r.setAttribute("value",n)},Wt=t=>{let e=t.querySelectorAll("[data-instant-product-recommendations]");Array.from(e).forEach(n=>{let o=n.getAttribute("data-instant-product-recommendations");if(o&&n instanceof HTMLElement){if(n.getAttribute("data-instant-observed"))return;n.setAttribute("data-instant-observed","true"),n.style.display="block";let r=(a,s)=>{if(!a[0].isIntersecting)return;s.unobserve(n);let c=n.getAttribute("data-url");c&&fetch(c).then(d=>d.text()).then(d=>{let u=new DOMParser().parseFromString(d,"text/html").querySelector(`[data-instant-product-recommendations-output="${o}"]`);u&&u.innerHTML.trim().length&&(n.insertAdjacentHTML("afterend",u.innerHTML),wt(),n.remove())}).catch(d=>{console.error(d)})};new IntersectionObserver(r,{rootMargin:"0px 0px 200px 0px"}).observe(n)}})};var Kt=t=>t.querySelector("kaching-bundles-block"),qe=()=>{document.addEventListener("kaching-bundles-block-loaded",t=>{if("detail"in t){let{component:e}=t.detail,n=e.closest("[data-instant-form-product-url]");if(n){let o=ot(n);window.kachingBundlesDisableAddToCartHandling=!0,e.addEventListener("variant-selected",r=>{if("detail"in r){let{variantId:i}=r.detail;zt({variantId:i,scope:n,scopeId:o,skipVariantUrlUpdate:!0})}},{signal:window.Instant.eventAbortController.signal})}}},{signal:window.Instant.eventAbortController.signal})},Ne=t=>t.querySelector('input[data-timesact-selling-plan][name="selling_plan"]')?.value??null,$e=()=>{!!document.querySelector('script[src*="3ee93129-d11c-4adb-8a29-0c9bec8a2202"]')&&document.querySelectorAll("form[data-instant-form-product-id]").forEach(e=>{let n=e.getAttribute("data-instant-form-product-id");n&&(e.classList.add("timesact-form"),e.setAttribute("data-productid",n))})};var De=t=>{let e=t.closest('[data-instant-type="root"][data-instant-form-collection-url]');return e||console.warn("unable to determine collection scope for:",t),e},Fe=t=>{let e=t?.getAttribute("data-instant-form-collection-url");return e||console.warn("unable to determine form collection URL for:",t),e},Ht=(t,e={replace:!1})=>{let n=new URL(window.location.toString());return n.searchParams.get(t.key)&&!e.replace?n.searchParams.getAll(t.key).includes(t.value)?n.searchParams.delete(t.key,t.value):n.searchParams.append(t.key,t.value):n.searchParams.set(t.key,t.value),window.history.pushState({},"",n.toString()),n},Be=async t=>fetch(t).then(e=>{if(!e.ok)throw new Error(`Error fetching section (${e.status})`);return e.text()}).then(e=>new DOMParser().parseFromString(e,"text/html")).catch(e=>console.error(e)),uo=(t,e)=>{let n=Array.from(t.querySelectorAll('[data-instant-type="filter-container"]')),o=Array.from(e.querySelectorAll('[data-instant-type="filter-container"]'));for(let r of n){let i=I(r),a=o.find(s=>I(s)===i);a&&(r.innerHTML=a.innerHTML)}},fo=(t,e)=>{let n=Array.from(t.querySelectorAll('[data-instant-action-type="select-filter-option"]')),o=Array.from(e.querySelectorAll('[data-instant-action-type="select-filter-option"]'));for(let r of n){let i=I(r),a=r.getAttribute("data-instant-filter-id"),s=r.getAttribute("data-instant-filter-input"),c=o.find(l=>I(l)===i&&l.getAttribute("data-instant-filter-id")===a&&l.getAttribute("data-instant-filter-input")===s);r.setAttribute("data-instant-state",c?.getAttribute("data-instant-state")??"inactive"),r.setAttribute("data-instant-disabled",c?.getAttribute("data-instant-disabled")??"false");let d=r.querySelector('[data-instant-dynamic-content-source="FILTER_OPTION_COUNT"]');d&&(d.textContent=c?.querySelector('[data-instant-dynamic-content-source="FILTER_OPTION_COUNT"]')?.textContent??"0")}},mo=(t,e)=>{let n=Array.from(t.querySelectorAll(`[data-instant-type="sort-container"] [data-instant-dynamic-content-source="${"SELECTED_SORT_OPTION"}"]`)),o=Array.from(e.querySelectorAll(`[data-instant-type="sort-container"] [data-instant-dynamic-content-source="${"SELECTED_SORT_OPTION"}"]`));for(let r of n){let i=I(r),a=o.find(s=>I(s)===i);a&&(r.textContent=a.textContent)}},po=(t,e)=>{let n=Array.from(t.querySelectorAll('[data-instant-action-type="clear-filters"]')),o=Array.from(e.querySelectorAll('[data-instant-action-type="clear-filters"]'));for(let r of n){let i=I(r),a=o.find(s=>I(s)===i);a&&r.setAttribute("data-instant-visibility",a.getAttribute("data-instant-visibility")??"hidden")}},Ue=async t=>{let e=De(t);if(!e){console.error("Scope not found");return}let n=Fe(e);if(!n){console.error("Form collection URL not found");return}let o=Array.from(e.querySelectorAll(`[data-instant-form-product-url][data-instant-form-collection-url="${n}"]`)),r=Number(t.getAttribute("data-instant-action-page-param")),i=new URL(window.location.toString());i.searchParams.set("page",(r+1).toString());let a=await Be(i.toString());if(!a){console.error("Error rendering updated HTML");return}let s=Array.from(e.querySelectorAll(`[data-instant-form-product-url][data-instant-form-collection-url="${n}"]`)).pop(),c=s?.parentElement;if(!c){console.error("Last product has no parent element");return}let d=a.querySelector(`.${I(c)}`);if(!d){console.error("Updated product parent not found");return}let l=Array.from(d.querySelectorAll(`[data-instant-form-product-url][data-instant-form-collection-url="${n}"]`)),u=new Set(o.map(y=>y.getAttribute("data-instant-form-product-url"))),f=[];for(let y of l){let h=y.getAttribute("data-instant-form-product-url");!h||u.has(h)||f.some(b=>b.getAttribute("data-instant-form-product-url")===h)||f.push(y)}let p=t.getAttribute("data-instant-action-limit");if(p){let y=Number(p);f.length>y&&(f=f.slice(0,y))}s&&s.after(...f),t.setAttribute("data-instant-action-page-param",(r+1).toString()),Yt(e),wt()},Ve=async t=>{let e=De(t);if(!e){console.error("Scope not found");return}let n=new URL(window.location.toString()),o=Array.from(n.searchParams.entries()).filter(([r])=>r.startsWith("filter."));if(o.length===0){console.error("No filters to clear");return}for(let[r,i]of o)n.searchParams.delete(r,i);window.history.pushState({},"",n.toString()),Et({scope:e,url:n})},go=(t,e)=>{let n=e.querySelector(`.${I(t)}`);if(!n){console.error("Updated scope not found");return}let o=Array.from(n.querySelectorAll("[data-instant-form-product-url][data-instant-form-collection-url]")).map(s=>s.parentElement).filter(Boolean),r=Array.from(new Map(o.map(s=>[I(s),s])).values());for(let s of r){let c=I(s),d=t.querySelector(`.${c}`);d&&(d.innerHTML=s.innerHTML)}let i=Array.from(t.querySelectorAll("[data-instant-form-product-url][data-instant-form-collection-url]")).map(s=>s.parentElement).filter(Boolean),a=new Set(r.map(s=>I(s)));for(let s of i){let c=I(s);a.has(c)||(s.innerHTML="")}Yt(t)},yo=(t,e)=>{let n=Array.from(t.querySelectorAll('[data-instant-action-type="load-more"]')),o=Array.from(e.querySelectorAll('[data-instant-action-type="load-more"]'));for(let r of n){let i=I(r),a=o.find(s=>I(s)===i);a&&(r.setAttribute("data-instant-visibility",a.getAttribute("data-instant-visibility")??"visible"),r.setAttribute("data-instant-action-page-param",a.getAttribute("data-instant-action-page-param")??"1"),r.setAttribute("data-instant-product-count",a.getAttribute("data-instant-product-count")??"100"))}},Yt=t=>{if(t instanceof Document){let o=t.querySelector('[data-instant-type="root"][data-instant-form-collection-url]');if(!o)return;t=o}let e=Array.from(t.querySelectorAll('[data-instant-action-type="load-more"]')),n=Fe(t);if(!n){console.error("Form collection URL not found");return}for(let o of e){let r=o?.getAttribute("data-instant-product-count");if(!r)continue;r=Number(r);let i=Array.from(t.querySelectorAll(`[data-instant-form-product-url][data-instant-form-collection-url="${n}"]`)),a=new Set(i.map(s=>s.getAttribute("data-instant-form-product-url")));o.setAttribute("data-instant-visibility",a.size<r?"visible":"hidden")}},Et=async({scope:t,url:e})=>{let n=t.closest(".__instant")?.getAttribute("data-section-id");if(!n){console.error("Section ID not found");return}e.searchParams.set("section_id",n);let o=await Be(e.toString());if(!o){console.error("Error rendering updated HTML");return}if(!o.querySelector(`[data-section-id="${n}"]`)){console.error("Error finding updated section");return}uo(t,o),fo(t,o),mo(t,o),po(t,o),yo(t,o),go(t,o),wt(),window.okeWidgetApi?.initAllWidgets()},ke=t=>{let e=Array.from(document.querySelectorAll("[data-instant-form-product-url][data-instant-form-collection-url]")),n={};for(let r of e){let i=r.parentElement;if(!i)continue;let a=I(i);n[a]||(n[a]=i.innerHTML)}let o={scrollPosition:{x:window.scrollX,y:window.scrollY},productParents:n,loadMoreButtonVisibility:document.querySelector('[data-instant-action-type="load-more"]')?.getAttribute("data-instant-visibility")};sessionStorage.setItem(t,JSON.stringify(o))},ho=t=>{let e=JSON.parse(sessionStorage.getItem(t)??"{}");if(e.productParents)for(let o of Object.keys(e.productParents)){let r=document.querySelector(`.${o}`);r&&(r.innerHTML=e.productParents[o])}e.scrollPosition&&window.scrollTo(e.scrollPosition.x,e.scrollPosition.y);let n=document.querySelector('[data-instant-action-type="load-more"]');n&&n.setAttribute("data-instant-visibility",e?.loadMoreButtonVisibility??"visible"),wt()},je=()=>{let t=new URL(window.location.toString());if(!t.pathname.includes("/collections/"))return;window.Instant.performanceObserver&&window.Instant.performanceObserver.disconnect(),window.Instant.performanceObserver=new PerformanceObserver(o=>{o.getEntries()[0].toJSON().type==="back_forward"&&ho(t.pathname)}),window.Instant.performanceObserver.observe({entryTypes:["navigation"]});let n=window.open;window.open=(...o)=>(ke(t.pathname),n.apply(window,o)),document.addEventListener("click",o=>{let i=o.target.closest("a");i&&!i.getAttribute("data-instant-action-type")&&ke(t.pathname)},{signal:window.Instant.eventAbortController.signal,capture:!0})};var X=Math.min,j=Math.max,Ot=Math.round,_t=Math.floor,rt=t=>({x:t,y:t}),bo={left:"right",right:"left",bottom:"top",top:"bottom"},Ao={start:"end",end:"start"};function ue(t,e,n){return j(t,X(e,n))}function dt(t,e){return typeof t=="function"?t(e):t}function Z(t){return t.split("-")[0]}function vt(t){return t.split("-")[1]}function Jt(t){return t==="x"?"y":"x"}function fe(t){return t==="y"?"height":"width"}function it(t){return["top","bottom"].includes(Z(t))?"y":"x"}function me(t){return Jt(it(t))}function ze(t,e,n){n===void 0&&(n=!1);let o=vt(t),r=me(t),i=fe(r),a=r==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=Rt(a)),[a,Rt(a)]}function We(t){let e=Rt(t);return[Gt(t),e,Gt(e)]}function Gt(t){return t.replace(/start|end/g,e=>Ao[e])}function wo(t,e,n){let o=["left","right"],r=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?r:o:e?o:r;case"left":case"right":return e?i:a;default:return[]}}function Ke(t,e,n,o){let r=vt(t),i=wo(Z(t),n==="start",o);return r&&(i=i.map(a=>a+"-"+r),e&&(i=i.concat(i.map(Gt)))),i}function Rt(t){return t.replace(/left|right|bottom|top/g,e=>bo[e])}function Eo(t){return{top:0,right:0,bottom:0,left:0,...t}}function Ye(t){return typeof t!="number"?Eo(t):{top:t,right:t,bottom:t,left:t}}function mt(t){let{x:e,y:n,width:o,height:r}=t;return{width:o,height:r,top:n,left:e,right:e+o,bottom:n+r,x:e,y:n}}function Ge(t,e,n){let{reference:o,floating:r}=t,i=it(e),a=me(e),s=fe(a),c=Z(e),d=i==="y",l=o.x+o.width/2-r.width/2,u=o.y+o.height/2-r.height/2,f=o[s]/2-r[s]/2,p;switch(c){case"top":p={x:l,y:o.y-r.height};break;case"bottom":p={x:l,y:o.y+o.height};break;case"right":p={x:o.x+o.width,y:u};break;case"left":p={x:o.x-r.width,y:u};break;default:p={x:o.x,y:o.y}}switch(vt(e)){case"start":p[a]-=f*(n&&d?-1:1);break;case"end":p[a]+=f*(n&&d?-1:1);break}return p}var Je=async(t,e,n)=>{let{placement:o="bottom",strategy:r="absolute",middleware:i=[],platform:a}=n,s=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e)),d=await a.getElementRects({reference:t,floating:e,strategy:r}),{x:l,y:u}=Ge(d,o,c),f=o,p={},y=0;for(let h=0;h<s.length;h++){let{name:b,fn:A}=s[h],{x:S,y:x,data:L,reset:M}=await A({x:l,y:u,initialPlacement:o,placement:f,strategy:r,middlewareData:p,rects:d,platform:a,elements:{reference:t,floating:e}});l=S??l,u=x??u,p={...p,[b]:{...p[b],...L}},M&&y<=50&&(y++,typeof M=="object"&&(M.placement&&(f=M.placement),M.rects&&(d=M.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:r}):M.rects),{x:l,y:u}=Ge(d,f,c)),h=-1)}return{x:l,y:u,placement:f,strategy:r,middlewareData:p}};async function Qt(t,e){var n;e===void 0&&(e={});let{x:o,y:r,platform:i,rects:a,elements:s,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:l="viewport",elementContext:u="floating",altBoundary:f=!1,padding:p=0}=dt(e,t),y=Ye(p),b=s[f?u==="floating"?"reference":"floating":u],A=mt(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(s.floating)),boundary:d,rootBoundary:l,strategy:c})),S=u==="floating"?{x:o,y:r,width:a.floating.width,height:a.floating.height}:a.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(s.floating)),L=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},M=mt(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:S,offsetParent:x,strategy:c}):S);return{top:(A.top-M.top+y.top)/L.y,bottom:(M.bottom-A.bottom+y.bottom)/L.y,left:(A.left-M.left+y.left)/L.x,right:(M.right-A.right+y.right)/L.x}}var Qe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;let{placement:r,middlewareData:i,rects:a,initialPlacement:s,platform:c,elements:d}=e,{mainAxis:l=!0,crossAxis:u=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:h=!0,...b}=dt(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};let A=Z(r),S=it(s),x=Z(s)===s,L=await(c.isRTL==null?void 0:c.isRTL(d.floating)),M=f||(x||!h?[Rt(s)]:We(s)),N=y!=="none";!f&&N&&M.push(...Ke(s,h,y,L));let T=[s,...M],w=await Qt(e,b),m=[],O=((o=i.flip)==null?void 0:o.overflows)||[];if(l&&m.push(w[A]),u){let C=ze(r,a,L);m.push(w[C[0]],w[C[1]])}if(O=[...O,{placement:r,overflows:m}],!m.every(C=>C<=0)){var R,v;let C=(((R=i.flip)==null?void 0:R.index)||0)+1,q=T[C];if(q)return{data:{index:C,overflows:O},reset:{placement:q}};let k=(v=O.filter(F=>F.overflows[0]<=0).sort((F,U)=>F.overflows[1]-U.overflows[1])[0])==null?void 0:v.placement;if(!k)switch(p){case"bestFit":{var _;let F=(_=O.filter(U=>{if(N){let V=it(U.placement);return V===S||V==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(V=>V>0).reduce((V,ht)=>V+ht,0)]).sort((U,V)=>U[1]-V[1])[0])==null?void 0:_[0];F&&(k=F);break}case"initialPlacement":k=s;break}if(r!==k)return{reset:{placement:k}}}return{}}}};async function vo(t,e){let{placement:n,platform:o,elements:r}=t,i=await(o.isRTL==null?void 0:o.isRTL(r.floating)),a=Z(n),s=vt(n),c=it(n)==="y",d=["left","top"].includes(a)?-1:1,l=i&&c?-1:1,u=dt(e,t),{mainAxis:f,crossAxis:p,alignmentAxis:y}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...u};return s&&typeof y=="number"&&(p=s==="end"?y*-1:y),c?{x:p*l,y:f*d}:{x:f*d,y:p*l}}var Xe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;let{x:r,y:i,placement:a,middlewareData:s}=e,c=await vo(e,t);return a===((n=s.offset)==null?void 0:n.placement)&&(o=s.arrow)!=null&&o.alignmentOffset?{}:{x:r+c.x,y:i+c.y,data:{...c,placement:a}}}}},Ze=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){let{x:n,y:o,placement:r}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:s={fn:b=>{let{x:A,y:S}=b;return{x:A,y:S}}},...c}=dt(t,e),d={x:n,y:o},l=await Qt(e,c),u=it(Z(r)),f=Jt(u),p=d[f],y=d[u];if(i){let b=f==="y"?"top":"left",A=f==="y"?"bottom":"right",S=p+l[b],x=p-l[A];p=ue(S,p,x)}if(a){let b=u==="y"?"top":"left",A=u==="y"?"bottom":"right",S=y+l[b],x=y-l[A];y=ue(S,y,x)}let h=s.fn({...e,[f]:p,[u]:y});return{...h,data:{x:h.x-n,y:h.y-o}}}}},tn=function(t){return t===void 0&&(t={}),{options:t,fn(e){let{x:n,y:o,placement:r,rects:i,middlewareData:a}=e,{offset:s=0,mainAxis:c=!0,crossAxis:d=!0}=dt(t,e),l={x:n,y:o},u=it(r),f=Jt(u),p=l[f],y=l[u],h=dt(s,e),b=typeof h=="number"?{mainAxis:h,crossAxis:0}:{mainAxis:0,crossAxis:0,...h};if(c){let x=f==="y"?"height":"width",L=i.reference[f]-i.floating[x]+b.mainAxis,M=i.reference[f]+i.reference[x]-b.mainAxis;p<L?p=L:p>M&&(p=M)}if(d){var A,S;let x=f==="y"?"width":"height",L=["top","left"].includes(Z(r)),M=i.reference[u]-i.floating[x]+(L&&((A=a.offset)==null?void 0:A[u])||0)+(L?0:b.crossAxis),N=i.reference[u]+i.reference[x]+(L?0:((S=a.offset)==null?void 0:S[u])||0)-(L?b.crossAxis:0);y<M?y=M:y>N&&(y=N)}return{[f]:p,[u]:y}}}},en=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){let{placement:n,rects:o,platform:r,elements:i}=e,{apply:a=()=>{},...s}=dt(t,e),c=await Qt(e,s),d=Z(n),l=vt(n),u=it(n)==="y",{width:f,height:p}=o.floating,y,h;d==="top"||d==="bottom"?(y=d,h=l===(await(r.isRTL==null?void 0:r.isRTL(i.floating))?"start":"end")?"left":"right"):(h=d,y=l==="end"?"top":"bottom");let b=p-c.top-c.bottom,A=f-c.left-c.right,S=X(p-c[y],b),x=X(f-c[h],A),L=!e.middlewareData.shift,M=S,N=x;if(u?N=l||L?X(x,A):A:M=l||L?X(S,b):b,L&&!l){let w=j(c.left,0),m=j(c.right,0),O=j(c.top,0),R=j(c.bottom,0);u?N=f-2*(w!==0||m!==0?w+m:j(c.left,c.right)):M=p-2*(O!==0||R!==0?O+R:j(c.top,c.bottom))}await a({...e,availableWidth:N,availableHeight:M});let T=await r.getDimensions(i.floating);return f!==T.width||p!==T.height?{reset:{rects:!0}}:{}}}};function pt(t){return on(t)?(t.nodeName||"").toLowerCase():"#document"}function W(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function tt(t){var e;return(e=(on(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function on(t){return t instanceof Node||t instanceof W(t).Node}function K(t){return t instanceof Element||t instanceof W(t).Element}function J(t){return t instanceof HTMLElement||t instanceof W(t).HTMLElement}function nn(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof W(t).ShadowRoot}function St(t){let{overflow:e,overflowX:n,overflowY:o,display:r}=Y(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!["inline","contents"].includes(r)}function rn(t){return["table","td","th"].includes(pt(t))}function qt(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Xt(t){let e=Zt(),n=K(t)?Y(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function an(t){let e=at(t);for(;J(e)&&!gt(e);){if(Xt(e))return e;if(qt(e))return null;e=at(e)}return null}function Zt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function gt(t){return["html","body","#document"].includes(pt(t))}function Y(t){return W(t).getComputedStyle(t)}function Nt(t){return K(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function at(t){if(pt(t)==="html")return t;let e=t.assignedSlot||t.parentNode||nn(t)&&t.host||tt(t);return nn(e)?e.host:e}function sn(t){let e=at(t);return gt(e)?t.ownerDocument?t.ownerDocument.body:t.body:J(e)&&St(e)?e:sn(e)}function Tt(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);let r=sn(t),i=r===((o=t.ownerDocument)==null?void 0:o.body),a=W(r);if(i){let s=te(a);return e.concat(a,a.visualViewport||[],St(r)?r:[],s&&n?Tt(s):[])}return e.concat(r,Tt(r,[],n))}function te(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function dn(t){let e=Y(t),n=parseFloat(e.width)||0,o=parseFloat(e.height)||0,r=J(t),i=r?t.offsetWidth:n,a=r?t.offsetHeight:o,s=Ot(n)!==i||Ot(o)!==a;return s&&(n=i,o=a),{width:n,height:o,$:s}}function ge(t){return K(t)?t:t.contextElement}function Lt(t){let e=ge(t);if(!J(e))return rt(1);let n=e.getBoundingClientRect(),{width:o,height:r,$:i}=dn(e),a=(i?Ot(n.width):n.width)/o,s=(i?Ot(n.height):n.height)/r;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}var To=rt(0);function un(t){let e=W(t);return!Zt()||!e.visualViewport?To:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function So(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==W(t)?!1:e}function yt(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);let r=t.getBoundingClientRect(),i=ge(t),a=rt(1);e&&(o?K(o)&&(a=Lt(o)):a=Lt(t));let s=So(i,n,o)?un(i):rt(0),c=(r.left+s.x)/a.x,d=(r.top+s.y)/a.y,l=r.width/a.x,u=r.height/a.y;if(i){let f=W(i),p=o&&K(o)?W(o):o,y=f,h=te(y);for(;h&&o&&p!==y;){let b=Lt(h),A=h.getBoundingClientRect(),S=Y(h),x=A.left+(h.clientLeft+parseFloat(S.paddingLeft))*b.x,L=A.top+(h.clientTop+parseFloat(S.paddingTop))*b.y;c*=b.x,d*=b.y,l*=b.x,u*=b.y,c+=x,d+=L,y=W(h),h=te(y)}}return mt({width:l,height:u,x:c,y:d})}function Lo(t){let{elements:e,rect:n,offsetParent:o,strategy:r}=t,i=r==="fixed",a=tt(o),s=e?qt(e.floating):!1;if(o===a||s&&i)return n;let c={scrollLeft:0,scrollTop:0},d=rt(1),l=rt(0),u=J(o);if((u||!u&&!i)&&((pt(o)!=="body"||St(a))&&(c=Nt(o)),J(o))){let f=yt(o);d=Lt(o),l.x=f.x+o.clientLeft,l.y=f.y+o.clientTop}return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+l.x,y:n.y*d.y-c.scrollTop*d.y+l.y}}function Io(t){return Array.from(t.getClientRects())}function fn(t){return yt(tt(t)).left+Nt(t).scrollLeft}function Co(t){let e=tt(t),n=Nt(t),o=t.ownerDocument.body,r=j(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),i=j(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight),a=-n.scrollLeft+fn(t),s=-n.scrollTop;return Y(o).direction==="rtl"&&(a+=j(e.clientWidth,o.clientWidth)-r),{width:r,height:i,x:a,y:s}}function Po(t,e){let n=W(t),o=tt(t),r=n.visualViewport,i=o.clientWidth,a=o.clientHeight,s=0,c=0;if(r){i=r.width,a=r.height;let d=Zt();(!d||d&&e==="fixed")&&(s=r.offsetLeft,c=r.offsetTop)}return{width:i,height:a,x:s,y:c}}function xo(t,e){let n=yt(t,!0,e==="fixed"),o=n.top+t.clientTop,r=n.left+t.clientLeft,i=J(t)?Lt(t):rt(1),a=t.clientWidth*i.x,s=t.clientHeight*i.y,c=r*i.x,d=o*i.y;return{width:a,height:s,x:c,y:d}}function cn(t,e,n){let o;if(e==="viewport")o=Po(t,n);else if(e==="document")o=Co(tt(t));else if(K(e))o=xo(e,n);else{let r=un(t);o={...e,x:e.x-r.x,y:e.y-r.y}}return mt(o)}function mn(t,e){let n=at(t);return n===e||!K(n)||gt(n)?!1:Y(n).position==="fixed"||mn(n,e)}function Mo(t,e){let n=e.get(t);if(n)return n;let o=Tt(t,[],!1).filter(s=>K(s)&&pt(s)!=="body"),r=null,i=Y(t).position==="fixed",a=i?at(t):t;for(;K(a)&&!gt(a);){let s=Y(a),c=Xt(a);!c&&s.position==="fixed"&&(r=null),(i?!c&&!r:!c&&s.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||St(a)&&!c&&mn(t,a))?o=o.filter(l=>l!==a):r=s,a=at(a)}return e.set(t,o),o}function Ho(t){let{element:e,boundary:n,rootBoundary:o,strategy:r}=t,a=[...n==="clippingAncestors"?qt(e)?[]:Mo(e,this._c):[].concat(n),o],s=a[0],c=a.reduce((d,l)=>{let u=cn(e,l,r);return d.top=j(u.top,d.top),d.right=X(u.right,d.right),d.bottom=X(u.bottom,d.bottom),d.left=j(u.left,d.left),d},cn(e,s,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Ro(t){let{width:e,height:n}=dn(t);return{width:e,height:n}}function Oo(t,e,n){let o=J(e),r=tt(e),i=n==="fixed",a=yt(t,!0,i,e),s={scrollLeft:0,scrollTop:0},c=rt(0);if(o||!o&&!i)if((pt(e)!=="body"||St(r))&&(s=Nt(e)),o){let u=yt(e,!0,i,e);c.x=u.x+e.clientLeft,c.y=u.y+e.clientTop}else r&&(c.x=fn(r));let d=a.left+s.scrollLeft-c.x,l=a.top+s.scrollTop-c.y;return{x:d,y:l,width:a.width,height:a.height}}function pe(t){return Y(t).position==="static"}function ln(t,e){return!J(t)||Y(t).position==="fixed"?null:e?e(t):t.offsetParent}function pn(t,e){let n=W(t);if(qt(t))return n;if(!J(t)){let r=at(t);for(;r&&!gt(r);){if(K(r)&&!pe(r))return r;r=at(r)}return n}let o=ln(t,e);for(;o&&rn(o)&&pe(o);)o=ln(o,e);return o&&gt(o)&&pe(o)&&!Xt(o)?n:o||an(t)||n}var _o=async function(t){let e=this.getOffsetParent||pn,n=this.getDimensions,o=await n(t.floating);return{reference:Oo(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function qo(t){return Y(t).direction==="rtl"}var No={convertOffsetParentRelativeRectToViewportRelativeRect:Lo,getDocumentElement:tt,getClippingRect:Ho,getOffsetParent:pn,getElementRects:_o,getClientRects:Io,getDimensions:Ro,getScale:Lt,isElement:K,isRTL:qo};function $o(t,e){let n=null,o,r=tt(t);function i(){var s;clearTimeout(o),(s=n)==null||s.disconnect(),n=null}function a(s,c){s===void 0&&(s=!1),c===void 0&&(c=1),i();let{left:d,top:l,width:u,height:f}=t.getBoundingClientRect();if(s||e(),!u||!f)return;let p=_t(l),y=_t(r.clientWidth-(d+u)),h=_t(r.clientHeight-(l+f)),b=_t(d),S={rootMargin:-p+"px "+-y+"px "+-h+"px "+-b+"px",threshold:j(0,X(1,c))||1},x=!0;function L(M){let N=M[0].intersectionRatio;if(N!==c){if(!x)return a();N?a(!1,N):o=setTimeout(()=>{a(!1,1e-7)},1e3)}x=!1}try{n=new IntersectionObserver(L,{...S,root:r.ownerDocument})}catch{n=new IntersectionObserver(L,S)}n.observe(t)}return a(!0),i}function gn(t,e,n,o){o===void 0&&(o={});let{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:c=!1}=o,d=ge(t),l=r||i?[...d?Tt(d):[],...Tt(e)]:[];l.forEach(A=>{r&&A.addEventListener("scroll",n,{passive:!0}),i&&A.addEventListener("resize",n)});let u=d&&s?$o(d,n):null,f=-1,p=null;a&&(p=new ResizeObserver(A=>{let[S]=A;S&&S.target===d&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(e)})),n()}),d&&!c&&p.observe(d),p.observe(e));let y,h=c?yt(t):null;c&&b();function b(){let A=yt(t);h&&(A.x!==h.x||A.y!==h.y||A.width!==h.width||A.height!==h.height)&&n(),h=A,y=requestAnimationFrame(b)}return n(),()=>{var A;l.forEach(S=>{r&&S.removeEventListener("scroll",n),i&&S.removeEventListener("resize",n)}),u?.(),(A=p)==null||A.disconnect(),p=null,c&&cancelAnimationFrame(y)}}var yn=Xe;var hn=Ze,bn=Qe,An=en;var wn=tn,En=(t,e,n)=>{let o=new Map,r={platform:No,...n},i={...r.platform,_c:o};return Je(t,e,{...r,platform:i})};var vn=(t,e)=>{if(t&&t.id)try{let n=t.swiper;n&&typeof n.slideTo=="function"&&n.slideTo(e,0)}catch(n){console.warn("Failed to navigate to slide:",n)}},Tn=t=>{if(!window.Instant.initializedSwiper){if(t.querySelector('[data-instant-type="slider"]')){let i=document.createElement("script");i.onload=window.Instant.initSwiper,i.src=window.Instant.swiperScriptUrl||"https://client.instant.so/scripts/swiper-bundle.min.js",document.body.appendChild(i)}return}let e={},n=(i,a="slider")=>{if(i&&i.id){let s=document.getElementById(`instant-slider-${i.id}-params`),c=i.closest(".__instant")?.getAttribute("data-section-id"),d=i.getAttribute("data-instant-slider-id");try{if(s?.innerHTML){let l=JSON.parse(s.innerHTML);if(c&&l.navigation&&(l.navigation.nextEl=`[data-section-id='${c}'] ${l.navigation.nextEl}`,l.navigation.prevEl=`[data-section-id='${c}'] ${l.navigation.prevEl}`),l.pagination){let u=`[data-section-id='${c}'] ${l.pagination.el}`,f=document.querySelector(u),p=f?.querySelector(".instant-slider-pagination-bullet");if(l.pagination.el=u,f&&p){let y=I(p);l.pagination.renderBullet=(h,b)=>`<span class="${b} ${y}"></span>`}}if(l.on=l.on||{},l.on.changeDirection=u=>{if(u.params.direction==="horizontal"){let f=i.querySelector(":scope > .instant-slider-wrapper");f&&(f.style.height="")}},l.on.init=()=>{i.setAttribute("data-instant-slider-initialized","true")},a==="thumbnails"){let u=new Swiper(i,l);e[`${c}-${d}`]=u}else l.thumbs&&e?.[`${c}-${d}`]&&(l.thumbs={swiper:e?.[`${c}-${d}`],...l.thumbs}),new Swiper(i,l)}}catch{}}},o=t.querySelectorAll('[data-instant-type="thumbnails"]');Array.from(o).forEach(i=>{n(i,"thumbnails")});let r=t.querySelectorAll('[data-instant-type="slider"]');Array.from(r).forEach(i=>{n(i)})};var Sn=t=>{let e=t.querySelectorAll("iframe.tiktok__autoplay");Array.from(e).forEach(n=>{let o=n.getAttribute("src")??"";In(o,n)})},Ln=t=>{let e=t.querySelectorAll(".instant-video-fill__controls, .video-fill__controls");Array.from(e).forEach(n=>{let o=n.closest(".instant-video-fill__wrapper, .video-fill__wrapper"),r=o?.querySelector("video");o&&r&&n.addEventListener("click",()=>{r.paused?(r.play(),o.setAttribute("data-paused","false")):(r.pause(),o.setAttribute("data-paused","true"))},{signal:window.Instant.eventAbortController.signal})})},In=(t,e)=>{let n=t.split("/").pop();e.setAttribute("name",`__tt_embed__${n}`),window.addEventListener("message",o=>{try{let r=JSON.parse(o.data);r.height&&document.querySelector(`[name="${r.signalSource}"]`)?.closest(".instant-video__container, .video__container")?.setAttribute("style",`height:${r.height}px;width:325px;border-radius:8px 8px 8px 8px;overflow:hidden`)}catch{}},{signal:window.Instant.eventAbortController.signal})},Cn=t=>{let e=t.querySelectorAll("article.instant-video__wrapper, article.video__wrapper");Array.from(e).forEach(o=>{o.addEventListener("click",()=>{if(!o.querySelector("iframe")&&o.getAttribute("data-type")!=="external"){let r=o.getAttribute("data-src")??"",i=o.getAttribute("data-title")??"",a=document.createElement("iframe");a.className="instant-video__iframe",a.setAttribute("src",r),a.setAttribute("title",i),a.setAttribute("frameborder","0"),a.setAttribute("allow","accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"),a.setAttribute("allowfullscreen","allowfullscreen"),o.style.setProperty("background-image","none"),r?.includes("tiktok")&&In(r,a),o.appendChild(a)}else if(!o.querySelector("video")&&o.getAttribute("data-type")==="external"){let r=o.getAttribute("data-src")??"",i=document.createElement("video");i.className="instant-video__player",i.setAttribute("autoplay","true"),i.setAttribute("controls","true"),i.setAttribute("playsInline","true"),i.setAttribute("src",r),o.style.setProperty("background-image","none"),o.appendChild(i)}},{signal:window.Instant.eventAbortController.signal})});let n=t.querySelectorAll(".instant-video-fill__wrapper");Array.from(n).forEach(o=>{let r=o.querySelector("video");r&&r.play().then(()=>{}).catch(()=>{let i=o.querySelector(".instant-video-fill__overlay"),a=r.getAttribute("poster")??"",s=document.createElement("img");s.setAttribute("src",a),s.className="instant-video-fill__video",i?o.insertBefore(s,i):o.append(s)})})},ee=t=>{t.querySelectorAll(".instant-video__container").forEach(e=>{let n=e.querySelector("video");if(n){n.autoplay?n.muted=!0:n.pause();return}let o=e.querySelector("iframe");o?.src?.startsWith("https://www.youtube.com/")?o.contentWindow?.postMessage(JSON.stringify({event:"command",func:o.src.includes("autoplay=1")?"mute":"playVideo",args:[]}),"*"):o?.src?.startsWith("https://player.vimeo.com/")&&o.contentWindow?.postMessage(JSON.stringify(o.src.includes("autoplay=1")?{method:"setVolume",value:0}:{method:"pause"}),"*")})};var st=(t,e=!1,n)=>{let o=t.getAttribute("data-instant-overlay-pointer-events");if(t.getAttribute("data-state")==="open"){if(o==="AUTO"){let i=document.querySelectorAll('[data-instant-type="overlay"]');if(!Array.from(i).find(a=>a.id!==I(t)&&a.getAttribute("data-state")==="open"&&a.getAttribute("data-instant-overlay-pointer-events")==="AUTO")){let a=window.__instantOverlayBodyOverflow;document.body.style.overflow=a||"",delete window.__instantOverlayBodyOverflow}}(e&&o==="AUTO"||!e)&&(t.setAttribute("data-state","closed"),ee(t))}else{if(o==="AUTO"&&typeof window.__instantOverlayBodyOverflow>"u"){let i=document.body.style.overflow;window.__instantOverlayBodyOverflow=i,document.body.style.overflow="hidden"}if(t.setAttribute("data-state","open"),n){let i=n.getAttribute("data-instant-overlay-active-slide");if(i!==null){let a=parseInt(i,10);if(!isNaN(a)){let s=t.querySelectorAll('[data-instant-type="slider"]');Array.from(s).forEach(c=>{c&&c.getAttribute("data-instant-slider-initialized")==="true"&&vn(c,a)})}}}}},ye=(t,e)=>{let n=t.getAttribute("data-instant-action-id"),o;return n?o=document.querySelector(`.i${n}`):o=t.closest(`[data-instant-type="${e}"]`),o},It=(t,e,n,o)=>{let r=ye(t,e);if(r)if(e==="overlay")st(r,!1,t);else{let i=r.parentElement;if(!i)return;let a=t.getAttribute("data-instant-action-id"),s=document.querySelectorAll(`[data-instant-action-id="${a}"][data-instant-state="active"]`),c=i.getAttribute("data-state"),d=n||(c==="open"?"close":"open");s.length>0&&s.forEach(u=>{u!==t&&(u.setAttribute("data-instant-state","inactive"),u.style.pointerEvents="")});let l=document.body;l.getAttribute("safe-polygon")||(l.style.pointerEvents="none",l.setAttribute("safe-polygon",""),t.style.pointerEvents="auto",i.style.pointerEvents="auto"),he(r,t,d,o)}},Pn=t=>{let e=t.querySelectorAll('[data-instant-type="overlay"]');Array.from(e).forEach(n=>{let o=n.getAttribute("data-instant-overlay-scroll-offset"),r=n.getAttribute("data-instant-overlay-delay"),i=n.getAttribute("data-instant-overlay-is-close-persistent")==="true",a=n.getAttribute("data-instant-overlay-pointer-events"),s=window?.Shopify?.designMode,c,d=`instant-overlay-inner-${I(n)}`;if(i&&!s){let l=sessionStorage.getItem(d),u=n.cloneNode(!0);u.querySelectorAll("[data-instant-product-recommendations],[data-instant-product-recommendations-item]").forEach(p=>{try{p.remove()}catch{}}),u.querySelectorAll('[data-instant-type="slider"]').forEach(p=>{p.className=""});let f=u.innerHTML.replace(/<!-- {2}-->/gm,"");f!==l&&(sessionStorage.setItem(d,f),c=!0)}else c=!0;if(c&&!s){if(o){let l=Number(o),u=!1,f=()=>{if(window.scrollY<l){u=!1;return}n.getAttribute("data-state")==="open"||st(n),u=!0},p=()=>{u||(window.requestAnimationFrame(f),u=!0)};window.addEventListener("scroll",p,{signal:window.Instant.eventAbortController.signal})}else if(r){let l=Number(r);setTimeout(()=>{n.getAttribute("data-state")==="open"||st(n)},l)}}a==="AUTO"&&n.addEventListener("pointerdown",l=>{l.target!==l.currentTarget&&!(n.classList.contains("instant-overlay--lightbox")&&l.target instanceof HTMLElement&&!l.target.matches(".instant-image, .instant-overlay--lightbox__button-prev, .instant-overlay--lightbox__button-next"))||st(n,!0)},{signal:window.Instant.eventAbortController.signal})})};var xn=(t,e)=>{let[n,o]=t,r=!1,i=e.length;for(let a=0,s=i-1;a<i;s=a++){let[c,d]=e[a]||[0,0],[l,u]=e[s]||[0,0];d>=o!=u>=o&&n<=(l-c)*(o-d)/(u-d)+c&&(r=!r)}return r},ko=(t,e)=>t[0]>=e.x&&t[0]<=e.x+e.width&&t[1]>=e.y&&t[1]<=e.y+e.height,be=(t,e)=>{if(!t||!e)return!1;let n=e.getRootNode?.();if(t.contains(e))return!0;if(n&&n instanceof ShadowRoot){let o=e;for(;o;){if(t===o)return!0;o=o.parentNode||o.host}}return!1},Do=t=>"composedPath"in t?t.composedPath()[0]:t.target,Fo=(t={})=>{let{buffer:e=.5}=t,n,o=!1,r=null,i=null,a=performance.now();function s(d,l){let u=performance.now(),f=u-a;if(r===null||i===null||f===0)return r=d,i=l,a=u,null;let p=d-r,y=l-i,b=Math.sqrt(p*p+y*y)/f;return r=d,i=l,a=u,b}return({x:d,y:l,placement:u,elements:f,onClose:p})=>function(h){function b(){clearTimeout(n),p()}if(clearTimeout(n),!f.domReference||!f.floating||u==null||d==null||l==null)return;let{clientX:A,clientY:S}=h,x=[A,S],L=Do(h),M=h.type==="mouseleave",N=be(f.floating,L),T=be(f.domReference,L),w=f.domReference.getBoundingClientRect(),m=f.floating.getBoundingClientRect(),O=u.split("-")[0],R=d>m.right-m.width/2,v=l>m.bottom-m.height/2,_=ko(x,w),C=m.width>w.width,q=m.height>w.height,k=(C?w:m).left,F=(C?w:m).right,U=(q?w:m).top,V=(q?w:m).bottom;if(N&&(o=!0,!M))return;if(T&&(o=!1),T&&!M){o=!0;return}if(M&&h.relatedTarget instanceof Element&&be(f.floating,h.relatedTarget)||f.floating.querySelectorAll('.instant-dropdown--wrapper[data-state="open"]').length>0)return;let ut=[];switch(O){case"top":ut=[[k,w.top+1],[k,m.bottom-1],[F,m.bottom-1],[F,w.top+1]];break;case"bottom":ut=[[k,m.top+1],[k,w.bottom-1],[F,w.bottom-1],[F,m.top+1]];break;case"left":ut=[[m.right-1,V],[m.right-1,U],[w.left+1,U],[w.left+1,V]];break;case"right":ut=[[w.right-1,V],[w.right-1,U],[m.left+1,U],[m.left+1,V]];break}function oe([$,D]){switch(O){case"top":{let et=[C?$+e/2:R?$+e*4:$-e*4,D+e+1],nt=[C?$-e/2:R?$+e*4:$-e*4,D+e+1],ct=[[m.left,R||C?m.bottom-e:m.top],[m.right,R?C?m.bottom-e:m.top:m.bottom-e]];return[et,nt,...ct]}case"bottom":{let et=[C?$+e/2:R?$+e*4:$-e*4,D-e],nt=[C?$-e/2:R?$+e*4:$-e*4,D-e],ct=[[m.left,R||C?m.top+e:m.bottom],[m.right,R?C?m.top+e:m.bottom:m.top+e]];return[et,nt,...ct]}case"left":{let et=[$+e+1,q?D+e/2:v?D+e*4:D-e*4],nt=[$+e+1,q?D-e/2:v?D+e*4:D-e*4];return[...[[v||q?m.right-e:m.left,m.top],[v?q?m.right-e:m.left:m.right-e,m.bottom]],et,nt]}case"right":{let et=[$-e,q?D+e/2:v?D+e*4:D-e*4],nt=[$-e,q?D-e/2:v?D+e*4:D-e*4],ct=[[v||q?m.left+e:m.right,m.top],[v?q?m.left+e:m.right:m.left+e,m.bottom]];return[et,nt,...ct]}}}if(!xn([A,S],ut)){if(o&&!_)return b();if(!M){let $=s(h.clientX,h.clientY);if($!==null&&$<.1)return b()}xn([A,S],oe([d,l]))?o||(n=window.setTimeout(b,40)):b()}}},$t=(t,e,n)=>{let o=document.body,r=n?n==="close":e.getAttribute("data-state")==="open",i=a=>{if(e?.getAttribute("data-state")==="open"&&!e.children[0].contains(a.target)){let c=e.querySelector('[data-instant-type="dropdown"]'),d=document.querySelectorAll(`[data-instant-action-id="${Mt(I(c))}"][data-instant-state="active"]`);$t(d,e,"close")}};if(r)o.hasAttribute("safe-polygon")&&!o.querySelector('.instant-dropdown--wrapper[data-state="open"] .instant-dropdown--wrapper[data-state="open"]')&&(o.style.pointerEvents="",o.removeAttribute("safe-polygon"),e.style.pointerEvents=""),e.setAttribute("data-state","closed"),t.forEach(s=>{s.setAttribute("data-instant-state","inactive"),s.style.pointerEvents=""}),e.cleanup&&(e.cleanup(),delete e.cleanup),e.querySelectorAll('.instant-dropdown--wrapper[data-state="open"] > [data-instant-type="dropdown"]').forEach(s=>{let c=s.parentElement,d=document.querySelectorAll(`[data-instant-action-id="${Mt(I(s))}"][data-instant-state="active"]`);$t(d,c,"close")}),ee(e),document.removeEventListener("click",i);else{if(e.setAttribute("data-state","open"),t.forEach(a=>a.setAttribute("data-instant-state","active")),!e.cleanup){let a=e.querySelector('[data-instant-type="dropdown"]');a&&t[0]&&he(a,t[0],"open")}document.addEventListener("click",i,{signal:window.Instant.eventAbortController.signal})}},Bo=(t,e)=>{let n={x:e.x,y:e.y},o={x:t.x,y:t.y},r={x:e.x+e.width,y:e.y+e.height},i={x:t.x+t.width,y:t.y+t.height};return n.x<o.x&&r.x<o.x?"left":n.x>i.x&&r.x>i.x?"right":n.y<o.y&&r.y<o.y?"top":"bottom"},Uo=(t,e,n,o,r,i,a)=>{En(t,e,{strategy:"fixed",placement:o,middleware:[yn(r),hn({limiter:wn(),boundary:[]}),bn({fallbackStrategy:"initialPlacement",fallbackPlacements:["bottom","right","left","top"],boundary:[]}),An({apply({rects:s,elements:c}){Object.assign(c.floating.style,{minWidth:`${s.reference.width}px`,minHeight:`${s.reference.height}px`}),c.floating.style.setProperty("--instant-reference-width",`${s.reference.width}px`),c.floating.style.setProperty("--instant-reference-height",`${s.reference.height}px`)}})]}).then(({x:s,y:c,placement:d})=>{let l=Bo(n.getBoundingClientRect(),e.getBoundingClientRect());if(Object.assign(e.style,{left:`${s}px`,top:`${c}px`}),e.setAttribute("data-instant-dropdown-placement",d),i){let u=Fo(),f=p=>{e.getAttribute("data-state")==="open"?u({elements:{floating:e,domReference:n},x:s,y:c,placement:l,onClose:()=>{document.removeEventListener("mousemove",f),$t([n],e,"close")}})(p):document.removeEventListener("mousemove",f)};document.addEventListener("mousemove",f,{signal:window.Instant.eventAbortController.signal})}else $t([n],e,a)})},he=(t,e,n,o=!1)=>{let r=t.getAttribute("data-instant-dropdown-placement"),i=t.getAttribute("data-instant-dropdown-offset"),a=Number(i)||0,s=t.parentNode,c=s.parentNode;return s.cleanup&&s.cleanup(),s.cleanup=gn(c,s,()=>{Uo(c,s,e,r,a,o,n)}),s.cleanup},Mn=t=>{let e=t.querySelectorAll('[data-instant-type="dropdown"]');Array.from(e).forEach(n=>{let o=n.querySelectorAll('*[data-instant-action-type]:not([data-instant-action-on-hover]):not([data-instant-action-type="open-dropdown"])'),r=n.parentElement,a=window.getComputedStyle(n).zIndex;r&&(r.style.setProperty("z-index",a),n.style.setProperty("z-index","auto")),Array.from(o).forEach(s=>{s.addEventListener("click",c=>{c.preventDefault(),c.stopPropagation();let d=c.currentTarget;if(!d||!(d instanceof HTMLElement))return null;let l=document.querySelectorAll(`[data-instant-action-id="${Mt(I(n))}"][data-instant-state="active"]`);$t(l,r,"close")},{signal:window.Instant.eventAbortController.signal})})})},Hn=t=>{let e=t.querySelectorAll('[data-instant-action-type="open-dropdown"][data-instant-action-on-hover]');Array.from(e).forEach(n=>{let r=ye(n,"dropdown")?.parentNode;r&&(n.addEventListener("mouseenter",()=>{let i=document.body;i.getAttribute("safe-polygon")||(i.style.pointerEvents="none",i.setAttribute("safe-polygon",""),n.style.pointerEvents="auto",r.style.pointerEvents="auto"),It(n,"dropdown","open")},{signal:window.Instant.eventAbortController.signal}),n.addEventListener("mouseleave",()=>{It(n,"dropdown","close",!0)},{signal:window.Instant.eventAbortController.signal}),n.addEventListener("click",i=>{i.preventDefault(),i.stopPropagation()},{signal:window.Instant.eventAbortController.signal}))})};var Vo=t=>{let e=document.getElementById(`i${t}`);e&&e.scrollIntoView({behavior:"smooth",block:"start"})},jo=t=>"checkVisibility"in t?!t.checkVisibility():t.offsetParent===null,Ct=(t,e)=>{e?(t.classList.add("instant-loading"),t.style.setProperty("cursor","wait"),t.setAttribute("disabled","disabled")):(t.classList.remove("instant-loading"),t.style.removeProperty("cursor"),t.removeAttribute("disabled"))},zo=Vt(t=>{t.dispatchEvent(new Event("change",{bubbles:!0}))},300),Wo=(t,e)=>{let n=t.closest("[data-instant-form-product-url]");if(!n)return;let o=n.querySelector('[data-instant-dynamic-content-source="QUANTITY_SELECT"]');if(!o)return;let r=parseInt(o?.value,10);isNaN(r)&&(r=1);let i=e==="increment"?r+1:r-1;(i<1||i>999)&&(i>999||n.getAttribute("data-instant-repeater-type")!=="CART_ITEMS")||(o.value=i.toString(),o.setAttribute("data-instant-quantity-change-type","interaction"),zo(o))},we=(t,e,n)=>{let o=ot(t),r=Array.from(t.querySelectorAll(`input[name^="${o}"][name$="${e}"]`));if(r.length===1)r[0].value=n;else if(r.length>1)r.forEach(i=>{i.checked=i.value===n});else if(r.length===0){let i=document.createElement("input");t.appendChild(i),i.setAttribute("type","hidden"),i.setAttribute("name",`${o}__${e}`),i.setAttribute("value",n)}},Ko=t=>{let e=t.closest("[data-instant-form-product-url]");if(!e)return null;let n=t.getAttribute("data-instant-option-name")??"",o=t.getAttribute("data-instant-option-value")??"";we(e,n,o),e.dispatchEvent(new Event("change",{cancelable:!0,bubbles:!0}))},Yo=t=>{let e=t.closest("[data-instant-form-product-url]");if(!e)return null;let n=ot(e);Q(e,`${n}__selling-plan-id`,t.getAttribute("data-instant-selling-plan-id")??""),Q(e,`${n}__selling-plan-name`,t.getAttribute("data-instant-selling-plan-name")??"");let o=e.querySelectorAll('[data-instant-type="SELLING_PLAN_PICKER"] select');Array.from(o).forEach(r=>{r.value=t.getAttribute("data-instant-selling-plan-id")??""}),e.dispatchEvent(new CustomEvent("change",{cancelable:!0,bubbles:!0,detail:{source:"selling-plan-interaction"}}))},Go=t=>{let e=t.closest("[data-instant-form-collection-url]");if(!e)return null;let n=t.getAttribute("data-instant-filter-id"),o=t.getAttribute("data-instant-filter-input");if(!n||!o){console.warn("No filter data attributes found");return}Et({scope:e,url:Ht({key:n,value:o})})},Ae=async t=>{let e=t.getAttribute("data-instant-action-type"),n=t.getAttribute("data-instant-action-id"),o=t.getAttribute("data-instant-action-variant-id");if((t.getAttribute("disabled")==="disabled"||t.closest("[data-instant-form-product-url]")?.getAttribute("disabled")==="disabled"||t.getAttribute("data-instant-disabled")==="true")&&!["select-variant-option","select-selling-plan"].includes(e))return!0;if(jt()&&e!=="redirect-to-checkout")switch(e){case"add-to-cart":case"redirect-to-cart":e="add-to-instant-cart";break;case"open-cart":case"trigger-cart":e="trigger-instant-cart";break}switch(e){case"add-to-cart":case"add-to-instant-cart":case"redirect-to-cart":case"redirect-to-checkout":case"toggle-addon":let r=At(t),i=t.closest("[data-instant-form-product-url]");if(!r&&e!=="toggle-addon"||!i)return null;let a=i.querySelector('[data-instant-dynamic-content-source="QUANTITY_SELECT"]')?.value??"1";if(r){let w=parseInt(Pe(r),10);w>1&&(a=w.toString())}let s=t.getAttribute("data-instant-discount-code"),c=t.getAttribute("data-instant-clear-cart")==="true",d=t.getAttribute("data-instant-addon-visibility")==="hidden",l=ot(i),u=i.querySelector(`input[name="${l}__selling-plan-id"]`),f=i.querySelector(`input[name="${l}__selling-plan-name"]`),p,{sellingPlans:y}=Bt(i,l);if(i.classList.contains("timesact-form")){let w=Ne(i);w&&(p=w)}if(u?.value||f?.value)if(u?.value==="one-time-purchase")p=void 0;else{let w=y.find(m=>(m.sellingPlanId===u?.value||m.sellingPlanName===decodeURIComponent(f?.value??""))&&m.variantId===o);w?.sellingPlanId&&(p=w.sellingPlanId)}Ct(t,!0),c&&await fetch(`${window.Shopify?.routes?.root}cart/clear.js`,{method:"POST"}).catch(w=>{console.error("Failed to clear cart",w)}),s&&(document.cookie=`discount_code=${s}; path=/`,await fetch(`${window.Shopify?.routes?.root}discount/${s}`).catch(w=>{console.error("Failed to set discount code",w)}));let h=[],b=[];(e==="add-to-cart"||e==="add-to-instant-cart"||e==="toggle-addon")&&({cartElements:h,sectionIds:b}=kt());let A=[],S=Kt(i),x=t.getAttribute("data-instant-state")==="active",L=!1,M;if(e==="toggle-addon"&&x)L=!0,M={id:o,quantity:0,sections:b.length>0?b.join(","):void 0};else{if(S)A.push(...S.items());else{A.push({id:parseInt(o,10),quantity:e==="toggle-addon"?1:parseInt(a,10),...p&&p!=="one-time-purchase"?{selling_plan:parseInt(p,10)}:{}});let R=i.querySelectorAll('input[name^="properties["],select[name^="properties["]');if(R.length>0){let v={};for(let _ of R){if(jo(_)&&_.getAttribute("type")!=="hidden")continue;if(!_.checkValidity())return _.reportValidity(),Ct(t,!1),!0;let C=_.name.match(/properties\[(.*?)\]/)?.[1];C&&_.value&&(_.type!=="radio"||_.checked)&&(v[C]=_.value)}A.forEach(_=>{_.properties=v})}}let w=Ut(t),m=xe(t),O=w&&m?`${m}:${w}`:"";A.forEach(R=>{let v=e==="toggle-addon"&&d;R.properties={...R.properties,...O&&{"_instant-ref":O},...v&&{"_instant-hidden":"true"}}}),M={items:A,sections:b.length>0?b.join(","):void 0}}fetch(`${window.Shopify?.routes?.root}cart/${L?"change":"add"}.js`,{method:"POST",headers:{"Content-Type":"application/json",[z.key]:z.value},body:JSON.stringify(M)}).then(async w=>{let m=await w.json();if(!w.ok){if(w.status===422&&m.message){alert(m.message),window.location.href=`${window.Shopify?.routes?.root}cart`;return}throw new Error(m.message)}switch(e){case"redirect-to-cart":window.location.href=`${window.Shopify?.routes?.root}cart`;break;case"redirect-to-checkout":window.location.href=`${window.Shopify?.routes?.root}checkout`;break;case"add-to-cart":case"add-to-instant-cart":case"toggle-addon":default:let O=new CustomEvent("instant:add-to-cart",{bubbles:!1,detail:{useInstantCart:e==="add-to-instant-cart"}});document.dispatchEvent(O),m.sections&&Dt(h,m.sections,{resetScroll:e!=="toggle-addon",resetCountdowns:!0}),e==="add-to-instant-cart"&&(m.sections?lt(!0):window.location.href=`${window.Shopify?.routes?.root}cart`)}}).catch(w=>{console.error("Failed to add to cart",w);let m=document.createElement("form");m.setAttribute("method","POST"),m.setAttribute("action",`${window.Shopify?.routes?.root}cart/add`),m.setAttribute("novalidate","novalidate"),[["id",o??""],["product-id",n??""],["selling_plan",p??""],["form_type","product"],["quantity",a],["utf8","\u2713"],...Object.entries(A[0]?.properties??{}).map(([O,R])=>[`properties[${O}]`,R.toString()])].forEach(([O,R])=>{let v=document.createElement("input");v.setAttribute("type","hidden"),v.setAttribute("name",O),v.setAttribute("value",R),m.appendChild(v)}),document.body.appendChild(m),m.submit()}).finally(()=>{Ct(t,!1)});break;case"scroll-to-section":n&&Vo(n);break;case"quantity-increment":case"quantity-decrement":Wo(t,e==="quantity-increment"?"increment":"decrement");break;case"adjust-line-item-quantity":let N=t.getAttribute("data-instant-action-line-item-key");ne({id:N,quantity:0});break;case"select-variant-option":Ko(t);break;case"select-selling-plan":Yo(t);break;case"select-filter-option":Go(t);break;case"open-dropdown":It(t,"dropdown");break;case"open-overlay":It(t,"overlay");break;case"trigger-cart":case"trigger-instant-cart":let T=new CustomEvent("instant:open-cart",{bubbles:!1,detail:{useInstantCart:e==="trigger-instant-cart"}});document.dispatchEvent(T),e==="trigger-instant-cart"&&lt(!0);break;case"open-page":case"open-cart":return!1;case"load-more":return Ue(t);case"clear-filters":return Ve(t);default:return console.warn(`Unknown instant action type: ${e}`),!1}return!0},Rn=t=>{let e=t.querySelectorAll(['a[data-instant-action-type]:not([data-instant-action-type^="open-"]):not([data-instant-action-on-hover])',"button[data-instant-action-type]:not([data-instant-action-on-hover])","div[data-instant-action-type]:not([data-instant-action-on-hover])"].join(", "));Array.from(e).forEach(o=>{o.addEventListener("click",r=>{r.preventDefault(),r.stopPropagation();let i=r.currentTarget;return!i||!(i instanceof HTMLElement)?null:Ae(i)},{signal:window.Instant.eventAbortController.signal})});let n=document.querySelectorAll('.__instant div[href], .__instant form[href], .__instant div[data-instant-href], .__instant form[data-instant-href], .__instant form[data-instant-action-type="toggle-addon"]');Array.from(n).forEach(o=>{o.addEventListener("click",r=>{let i=r.currentTarget;if(!i||!(i instanceof HTMLElement))return null;let a=ft(r.target);r.target instanceof HTMLLabelElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLFieldSetElement||r.target instanceof HTMLAnchorElement||r.target instanceof HTMLButtonElement||a instanceof HTMLAnchorElement||a instanceof HTMLButtonElement||a instanceof HTMLInputElement||a instanceof HTMLLabelElement||a instanceof HTMLFieldSetElement||(r.preventDefault(),r.stopPropagation(),Ae(i).then(s=>{if(s)return;let c=At(i),d=i.getAttribute("target"),l=i.getAttribute("rel");c&&window.open(c,d||"_self",l||void 0);let u=ft(r.target);if(!(r.target instanceof HTMLLabelElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLFieldSetElement||r.target instanceof HTMLAnchorElement||r.target instanceof HTMLButtonElement||u instanceof HTMLAnchorElement||u instanceof HTMLButtonElement||u instanceof HTMLInputElement||u instanceof HTMLLabelElement||u instanceof HTMLFieldSetElement))return r.preventDefault(),r.stopPropagation(),Ae(i).then(f=>{if(f)return;let p=i.getAttribute("href"),y=i.getAttribute("target"),h=i.getAttribute("rel");p&&window.open(p,y||"_self",h||void 0)})}))},{signal:window.Instant.eventAbortController.signal})})};var Ee=t=>t?.replace(/gid:\/\/shopify\/.*\//im,""),On=(t,e)=>e?t?.find(n=>n.id===Number(Ee(e))):t?.[0],Jo=Vt(async(t,e,n=!1)=>{let o=parseInt(t.target?.value,10);isNaN(o)&&(o=1);let r=e.querySelectorAll('input[data-instant-dynamic-content-source="QUANTITY_SELECT"]');for(let i of r)i.value=o.toString();if(t.target?.closest('[data-instant-layout="CART"]')){let i=e.getAttribute("data-instant-form-line-item-key");Ct(e,!0);try{await ne({id:i,quantity:o})}finally{e?.isConnected&&Ct(e,!1)}t.target?.removeAttribute("data-instant-quantity-change-type"),n&&setTimeout(()=>{document.querySelector(`input[id="${t.target?.id}"]`)?.focus()},300)}},600),_n=t=>{let e=t.querySelectorAll(".__instant form[data-instant-form-product-url]");Array.from(e).forEach(n=>{let o=n.querySelectorAll('input[data-instant-dynamic-content-source="QUANTITY_SELECT"]');Array.from(o).forEach(r=>{r.addEventListener("change",i=>{let a=r.getAttribute("min")??"1",s=r.getAttribute("max")??"999",c=parseInt(r.value,10);i.target instanceof HTMLInputElement&&(c=parseInt(i.target.value,10)),a&&c<parseInt(a,10)&&(r.value=a),s&&c>parseInt(s,10)&&(r.value=s),isNaN(c)&&(r.value=a),r.setAttribute("data-instant-quantity-change-type",r?.getAttribute?.("data-instant-quantity-change-type")??"input")},{signal:window.Instant.eventAbortController.signal})}),n.addEventListener("change",async r=>{let i=new FormData(r?.currentTarget),a=r.detail?.scopeId?n.querySelector(`.i${r.detail?.scopeId}[data-instant-form-product-url]`):null;if(a||(a=r.target?.closest("[data-instant-form-product-url]")),!a){console.warn("No scope found for form change event");return}let s=ot(a),c=r.target instanceof HTMLSelectElement&&r.target.name.endsWith("__selling_plan");if(c){let C=a.querySelectorAll(`select[name="${r.target.name}"]`);Array.from(C).forEach(q=>{q!==r.target&&(q.value=r.target.value)})}if(r.target?.closest("kaching-bundles-block")||r.target?.name?.startsWith("properties[")||r.target?.name==="quantity"&&(Jo(r,a,r.target?.value!=="0"&&r.target?.getAttribute("data-instant-quantity-change-type")==="input"),r.target?.closest('[data-instant-layout="CART"]')))return;let d=a?.getAttribute("data-instant-form-variant-id"),l=a?.getAttribute("data-instant-form-selling-plan-id"),{variants:u,options:f,sellingPlans:p}=Bt(a,s),y=On(u,d),[h,b]=r.target?.name?.split("__")??[],A=[];for(let[C,q]of i)if(C.startsWith(s)){let[k,F]=C.split("__");if(b&&b===F&&C!==r.target?.name)continue;A.push({key:decodeURIComponent(F),value:String(q)})}let S=[y?.option1,y?.option2,y?.option3],x=[];if(f)for(let C of f)x.push(A.find(({key:q})=>q===C.name)?.value??S[C.position-1]);let L=u?u?.find(({option1:C,option2:q,option3:k})=>{let F=[C,q,k].filter(Boolean),U=x.filter(Boolean);return F.every((V,ht)=>V===U[ht])})?.id:d;if(a?.getAttribute("data-instant-initial-variant-id")&&(L=a?.getAttribute("data-instant-initial-variant-id"),a.removeAttribute("data-instant-initial-variant-id")),c){let C=r.target.value;if(C==="one-time-purchase")Q(a,`${s}__selling-plan-id`,"one-time-purchase"),Q(a,`${s}__selling-plan-name`,encodeURIComponent("One Time Purchase"));else{let q=p?.find(k=>k.variantId===L?.toString()&&(k.sellingPlanId===C||k.sellingPlanName===C));q&&(Q(a,`${s}__selling-plan-id`,q.sellingPlanId),Q(a,`${s}__selling-plan-name`,encodeURIComponent(q.sellingPlanName)))}}let M=document.querySelector(`input[name="${s}__selling-plan-id"]`),N=document.querySelector(`input[name="${s}__selling-plan-name"]`),T=Ee(M?.value),w=Ee(N?.value),m=p?.find(C=>C.variantId===L.toString()&&(C.sellingPlanId===T?.toString()||C.sellingPlanName===decodeURIComponent(w?.toString()??"")));if(!m&&T!=="one-time-purchase")if(r.detail?.source==="selling-plan-interaction"){if(m=p?.find(C=>C.sellingPlanId===T?.toString()||C.sellingPlanName===decodeURIComponent(w?.toString()??"")),m&&m.variantId!==L){L=m.variantId;let C=On(u,L);C&&f&&f.forEach(q=>{we(a,q.name,C[`option${q.position}`])})}}else!m&&T!=="one-time-purchase"&&(m=p?.find(C=>C.variantId===L.toString()&&C.sellingPlanId===l)),!m&&T&&(m=p?.find(C=>C.variantId===L.toString()));m&&(Q(a,`${s}__selling-plan-id`,m.sellingPlanId),Q(a,`${s}__selling-plan-name`,encodeURIComponent(m.sellingPlanName)));let O=a.querySelector('input[name="id"]'),R=a.querySelector('input[name="selling_plan"]');O&&L&&(O.value=L.toString()),R&&(R.value=T==="one-time-purchase"||!T?"":T);let v=i.get("quantity"),_=Kt(a);_&&(_.currentVariantId=parseInt(L),v&&(_.quantity=parseInt(v.toString()))),zt({variantId:L,scope:a,scopeId:s,selectedSellingPlan:m})},{signal:window.Instant.eventAbortController.signal})}),Array.from(e).forEach(n=>{n.dispatchEvent(new Event("change")),n.querySelectorAll("[data-instant-form-product-url]").forEach(r=>{let i=new CustomEvent("change",{detail:{scopeId:ot(r)}});n.dispatchEvent(i)})})},qn=t=>{let e=t.querySelectorAll('fieldset[data-instant-type="filter-container"]');Array.from(e).forEach(n=>{n.addEventListener("change",o=>{let r=o.target?.closest("[data-instant-form-collection-url]");if(!r){console.warn("No scope found for form change event");return}let i=o.target?.name,a=o.target?.value;if(!i||!a){console.warn("No filter type or value found");return}Et({scope:r,url:Ht({key:i,value:a})})},{signal:window.Instant.eventAbortController.signal})})},Nn=t=>{let e=t.querySelectorAll('fieldset[data-instant-type="sort-container"]');Array.from(e).forEach(n=>{n.addEventListener("change",o=>{let r=o.target?.closest("[data-instant-form-collection-url]");if(!r){console.warn("No scope found for form change event");return}let i=o.target?.value;if(!i){console.warn("No sort option found");return}Et({scope:r,url:Ht({key:"sort_by",value:i},{replace:!0})})},{signal:window.Instant.eventAbortController.signal})})};var $n=async t=>{let e=t.querySelectorAll(".instant-overlay--lightbox");Array.from(e).forEach(n=>{if(n.closest('[data-instant-type="slider"]')){let r=n.closest("[data-section-id]");r&&r.appendChild(n)}})};var Pt="instant-scroll-trigger--hidden";function Qo(t,e,n){t.forEach(o=>{let r=o.target;o.isIntersecting?(r.classList.contains(Pt)&&r.classList.remove(Pt),n||e.unobserve(r)):n&&r.classList.add(Pt)})}var kn=t=>{let e=t.querySelectorAll(".instant-scroll-trigger");e.length!==0&&e.forEach(n=>{let o=n.getAttribute("data-instant-scroll-into-view-replay")==="true",r=n.getAttribute("data-instant-scroll-into-view-offset")?Number(n.getAttribute("data-instant-scroll-into-view-offset")):0;if(window.getComputedStyle(n).position==="fixed"){let a=!1,s=()=>{if(window.scrollY<r){o&&n.classList.add(Pt),a=!1;return}n.classList.contains(Pt)&&n.classList.remove(Pt),a=!1},c=()=>{a||(window.requestAnimationFrame(s),a=!0)};window.addEventListener("scroll",c,{signal:window.Instant.eventAbortController.signal})}else new IntersectionObserver((s,c)=>Qo(s,c,o),{root:document,threshold:0,rootMargin:`${-r}px 0px`}).observe(n)})};var Dn=(t,e)=>{let n=document.querySelector(`.i${t}`),o=document.querySelectorAll(`[data-instant-tab-id="${t}"]`);if(e)for(let r of e)r.setAttribute("data-instant-state","closed");if(n&&n.setAttribute("data-instant-state","open"),o)for(let r of o){let a=r?.parentNode?.querySelectorAll(`:scope > [data-instant-type="tabs-trigger"]:not([data-instant-tab-id="${t}"])`);if(a)for(let s of a)s.setAttribute("data-instant-state","inactive");r.setAttribute("data-instant-state","active")}},Fn=(t,e)=>{let n=document.querySelector(`.i${t}`);if(e)for(let o of e)o.style.setProperty("display","none");n&&n.style.removeProperty("display")},Bn=t=>{let e=t.querySelectorAll('[data-instant-type="tabs-container"]'),n=t?.querySelectorAll('[data-instant-type="tabs-trigger"]');Array.from(e).forEach(o=>{let a=o?.querySelector('[data-instant-type="tabs-pane"]')?.parentNode?.querySelectorAll(':scope > [data-instant-type="tabs-pane"]');a?.[0]?.id&&(Fn(a[0].id,a),window.requestAnimationFrame(()=>Dn(a[0].id,a)))}),Array.from(n).forEach(o=>{let r=o.getAttribute("data-instant-tabs-id"),i=o.getAttribute("data-instant-tab-id");if(r&&i){let d=document.querySelector(`.i${r}`)?.querySelector('[data-instant-type="tabs-pane"]')?.parentNode?.querySelectorAll(':scope > [data-instant-type="tabs-pane"]');n&&d&&o.addEventListener("click",()=>{let l=o.getAttribute("data-instant-tab-id")||"";Fn(l,d),window.requestAnimationFrame(()=>Dn(l,d))},{signal:window.Instant.eventAbortController.signal})}})};var Un=()=>{document.addEventListener("shopify:section:select",function(t){let n=t.target?.querySelector('[data-instant-layout="CART"] [data-instant-type="overlay"]');n&&n.getAttribute("data-state")==="closed"&&st(n)},{signal:window.Instant.eventAbortController.signal}),document.addEventListener("shopify:section:deselect",function(t){let n=t.target?.querySelector('[data-instant-layout="CART"] [data-instant-type="overlay"]');n&&n.getAttribute("data-state")==="open"&&st(n)},{signal:window.Instant.eventAbortController.signal})};var Vn=t=>{let e=t.querySelectorAll('[data-instant-type="ticker"]');Array.from(e).reverse().forEach(n=>{let o=n.querySelector(".instant-ticker-initial-child-container"),r=o?.closest(".instant-ticker"),i=r?.nextElementSibling,a=[r,i],s=n.getAttribute("data-instant-ticker-is-reversed")==="true",c=+(n.getAttribute("data-instant-ticker-speed")||50),d=n.getAttribute("data-instant-ticker-pause")==="true"||!1;if(n&&o){let l=o.children,u=1,f=0,p=()=>{let h=n.getBoundingClientRect(),b=o.getBoundingClientRect();if(h&&b){let A=Math.min(h.width,9999),S=b.width,x=window.getComputedStyle(o),L=x.columnGap?typeof x.columnGap=="number"?`${x.columnGap}px`:x.columnGap:"0px";n.style.setProperty("--gap",L),u=S&&A&&S<A?Math.ceil(A/S):1,f=S*u/c}n.style.getPropertyValue("--multiplier")!==`${u}`&&(r&&r.replaceChildren(o),i&&(i.innerHTML=""),Array.from(a).forEach((A,S)=>{A&&[...Array(Math.max(0,S===0?u-1:u))].forEach(()=>{Array.from(l).forEach(x=>{let L=x.cloneNode(!0);A.appendChild(L)})})})),n.style.setProperty("--play","running"),n.style.setProperty("--direction",s?"reverse":"normal"),n.style.setProperty("--duration",`${f}s`),n.style.setProperty("--pause-on-hover",d?"paused":"running"),n.style.setProperty("--multiplier",`${u}`),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&n.querySelectorAll('img[loading="lazy"]').forEach(S=>{S.loading="eager"})};p();let y=new ResizeObserver(p);y.observe(n),y.observe(o)}})};var Xo=t=>{let e=t.querySelectorAll(".instant-localization-select select");Array.from(e).forEach(n=>{let o=n;o.addEventListener("change",r=>{let i=o.name.split("--")[1]==="language"?"locale_code":"country_code",a=document.createElement("form");a.action="/localization",a.method="post",[{name:"form_type",value:"localization"},{name:"_method",value:"put"},{name:"return_to",value:window.location.pathname},{name:i,value:r.target.value}].forEach(c=>{let d=document.createElement("input");d.type="hidden",d.name=c.name,d.value=c.value,a.appendChild(d)}),document.body.appendChild(a),a.submit()},{signal:window.Instant.eventAbortController.signal})})},wt=()=>{window.Instant.initializedListeners=!1,window.Instant.eventAbortController.abort(),window.Instant.eventAbortController=new AbortController,xt()},xt=t=>{window.Instant.initializedListeners=!0;let e=document;if(t)if(t instanceof Element)e=t;else{let n=document.getElementById(t);n&&(e=n)}He(e),Me(e),Rn(e),Pn(e),Mn(e),Hn(e),$n(e),window.__instantInitSliders?.(e),Bn(e),Vn(e),Cn(e),Sn(e),Ln(e),_n(e),Wt(e),qn(e),Nn(e),je(),Yt(e),Xo(e),kn(e),jt()&&jn(),qe(),$e(),window.Shopify?.designMode&&Un(e)};var z={key:"x-instant-client",value:"shopify-core"},Zo=["CART_COUNT","CART_ORIGINAL_TOTAL_PRICE","CART_SUBTOTAL_PRICE","CART_TOTAL_DISCOUNT","CART_TOTAL_PRICE","CART_REWARD_PROGRESS","CART_REWARD_AMOUNT_LEFT","CART_REWARD_THRESHOLD","CART_REWARD_CURRENT_TIER","CART_REWARD_NEXT_TIER"],kt=()=>{let t=[],e=[],n=document.querySelector('.__instant[data-instant-layout="CART"]');return n&&t.push(n),t.push(...Array.from(document.querySelectorAll('[data-instant-dynamic-content-source="CART_COUNT"]'))),t.forEach(o=>{if(e.length>=5)return;let r=o.closest(".__instant")?.getAttribute("data-section-id");r&&!e.includes(r)&&e.push(r)}),{cartElements:t,sectionIds:e}},Dt=(t,e,n={resetScroll:!1,resetCountdowns:!1})=>{t.forEach(r=>{let i=r.closest(".__instant")?.getAttribute("data-section-id");if(i&&e[i]){let a=I(r),s=new DOMParser().parseFromString(e[i],"text/html"),c=s.querySelector(`.${a}`);if(c)if(r.getAttribute("data-instant-layout")==="CART"){r.querySelectorAll(Zo.map(l=>`[data-instant-dynamic-content-source="${l}"]`).join(",")).forEach(l=>{let u=I(l),f=s.querySelector(`.${u}`);f&&(l.innerHTML=f.innerHTML)}),r.querySelectorAll("[data-instant-product-recommendations]").forEach(l=>{let u=l.getAttribute("data-instant-product-recommendations"),f=s.querySelector(`[data-instant-product-recommendations="${u}"]`);f&&(l.replaceWith(f),f.parentElement&&Wt(f.parentElement))}),r.querySelectorAll(`[data-instant-action-type="toggle-addon"],[data-instant-conditional],[data-instant-type="cart-reward"],[data-instant-type="cart-reward-tiered"],[data-instant-type="cart-reward-progression"],[data-instant-dynamic-content-source="${"CART_COUNT"}"]`).forEach(l=>{let u=I(l),f=s.querySelector(`.${u}`);if(f){if(l.getAttribute("data-instant-action-type")==="toggle-addon"){let y=l.getAttribute("data-instant-action-id"),h=f?.getAttribute("data-instant-action-id"),b=l.getAttribute("data-instant-action-variant-id"),A=f?.getAttribute("data-instant-action-variant-id");if(y!==h||b!==A){let S=l.closest("[data-instant-form-product-url]");S&&S.dispatchEvent(new Event("change"));return}}["data-instant-state","style"].forEach(y=>{let h=f.getAttribute(y);h?l.setAttribute(y,h):l.removeAttribute(y)})}}),r.querySelectorAll('[data-instant-type="cart-reward-tiered"]').forEach(l=>{let u=I(l),f=s.querySelector(`.${u}`);if(!f)return;let p=l.querySelectorAll("[data-instant-cart-reward-tier-id]"),y=f.querySelectorAll("[data-instant-cart-reward-tier-id]");p.forEach(h=>{let b=h.getAttribute("data-instant-cart-reward-tier-id"),A=I(h),S=Array.from(y).find(x=>x.getAttribute("data-instant-cart-reward-tier-id")===b&&I(x)===A);S&&["data-instant-state","style"].forEach(L=>{let M=S.getAttribute(L);M?h.setAttribute(L,M):h.removeAttribute(L)})})});let d=[];c.querySelectorAll('[data-instant-repeater-type="CART_ITEMS"]').forEach(l=>{l.parentElement&&!d.includes(l.parentElement)&&d.push(l.parentElement)}),d.forEach(l=>{let u=r.querySelector(`.${I(l)}`);if(u){l.querySelectorAll("[data-instant-product-recommendations]").forEach(y=>{let h=y.getAttribute("data-instant-product-recommendations"),b=u.querySelectorAll(`[data-instant-product-recommendations-item="${h}"]`);b.length&&(Array.from(b).reverse().forEach(A=>{y.insertAdjacentElement("afterend",A)}),y.remove())});let f=u.scrollTop,p=u.clientHeight;u.replaceWith(l),l.clientHeight<=p&&!n.resetScroll&&(l.scrollTop=f),xt(l)}})}else{r.innerHTML=c.innerHTML;let d=c.getAttribute("style");d?r.setAttribute("style",d):r.removeAttribute("style")}}}),n.resetCountdowns&&document.querySelectorAll('[data-instant-layout="CART"] [data-instant-type="countdown"]').forEach(r=>{if(r.getAttribute("data-instant-countdown-date")||r.getAttribute("data-instant-countdown-is-persistent")==="true")return;let i=se(r.id),a=r.getAttribute("data-instant-countdown-minutes"),s=new Date().getTime()+(a?Number(a):0)*60*1e3;window?.Shopify?.designMode||sessionStorage.setItem(i,`${s}`);let c=r.cloneNode(!0);ce(c),r.replaceWith(c)});let o=new CustomEvent("instant:cart-updated",{bubbles:!1});document.dispatchEvent(o)},lt=t=>{let e=document.querySelector('[data-instant-layout="CART"] [data-instant-type="overlay"]');if(e){let n=e.getAttribute("data-state")==="open";if(t!==void 0&&n===t)return;if(st(e),!n){let o=Ut(e);Se(o)}}else console.warn("[Instant] Instant Cart layout not found"),window.location.href=`${window.Shopify?.routes?.root}cart`},ne=t=>{let{cartElements:e,sectionIds:n}=kt();return fetch(`${window.Shopify?.routes?.root}cart/change.js`,{headers:{"Content-Type":"application/json",[z.key]:z.value},body:JSON.stringify({...t,sections:n.join(",")}),method:"POST"}).then(o=>{if(!o.ok)throw new Error;return o.json().then(({items:r,sections:i})=>Dt(e,i,{resetCountdowns:!0}))}).catch(o=>{console.error("Error updating line item",o)})},jn=()=>{let t=[["a[href*='/cart']",":not([href*='/cart/change'])",":not([href*='/cart/add'])",":not([href*='/cart/clear'])",":not([href*='/pages/cart'])",":not([href*='/products/cart'])",":not([href*='/collections/cart'])",":not([href*='/checkout'])",":not([href*='/discount'])"].join(""),"#cart-icon-bubble","header-actions > cart-drawer-component"];document.addEventListener("click",e=>{try{let n=e.target;if(n&&"closest"in n){let o=n.closest(t.join(","));o&&!o.hasAttribute("data-instant-action-type")&&(e.stopImmediatePropagation(),e.preventDefault(),e.stopPropagation(),lt(!0))}}catch(n){console.error("Failed to handle custom cart click action",n)}},{signal:window.Instant.eventAbortController.signal}),Ie(),Le()};var Ft=async()=>{let{cartElements:t,sectionIds:e}=kt(),n=new URLSearchParams;e.forEach(r=>n.append("sections[]",r));let o=await fetch(`${window.Shopify?.routes?.root}cart?${n.toString()}`).then(r=>{if(!r.ok)throw new Error;return r.json()});Dt(t,o)},zn=t=>{lt(t)};var Wn=()=>{window.Instant.api={updateCart:Ft,toggleCart:zn}};var Kn=()=>{window.Shopify?.shop&&document.querySelector(".__instant")&&fetch(`https://static-api.instant.so/public/site/${window.Shopify.shop}`).then(t=>t.json()).then(t=>{if(t?.showBadge){let e=()=>new DOMParser().parseFromString(t.showBadge,"text/html").body.firstChild,n=document.body.appendChild(e()),o=new MutationObserver(r=>{r.forEach(i=>{if(i.type==="childList"&&[...i.removedNodes].includes(n)||i.type==="attributes"){o.disconnect(),n&&n.parentNode&&n.remove();let a=e();n=document.body.appendChild(a),o.observe(n,{attributes:!0}),o.observe(document.body,{childList:!0})}})});o.observe(n,{attributes:!0}),o.observe(document.body,{childList:!0})}})};window.__instantInitSliders=(t=document)=>{Tn(t)};var Yn=()=>{window.Instant.eventAbortController=new AbortController,xt(),Kn(),Wn(),window?.Shopify?.designMode&&document.addEventListener("shopify:section:load",t=>{let e=`shopify-section-${t.detail.sectionId}`;e&&xt(e)})};document.readyState!=="loading"?Yn():document.addEventListener("DOMContentLoaded",()=>{Yn()});})();
